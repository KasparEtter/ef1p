!function(){var e={9742:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,o=l(e),s=o[0],a=o[1],d=new r(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),c=0,u=a>0?s-4:s;for(n=0;n<u;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],d[c++]=t>>16&255,d[c++]=t>>8&255,d[c++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,d[c++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,d[c++]=t>>8&255,d[c++]=255&t);return d},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],s=16383,a=0,l=i-r;a<l;a+=s)o.push(d(e,a,a+s>l?l:a+s));1===r?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e,t,i){for(var r,o,s=[],a=t;a<i;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8764:function(e,t,n){"use strict";var i=n(9742),r=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return d(e,t,n)}function d(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),i=a(n),r=i.write(e,t);r!==n&&(i=i.slice(0,r));return i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return l.from(i,t,n);var r=function(e){if(l.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||B(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|f(e))}function h(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(i,l.prototype),i}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return i?-1:V(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function v(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function y(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),B(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,r){var o,s=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function d(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var c=-1;for(o=n;o<a;o++)if(d(e,o)===d(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var u=!0,h=0;h<l;h++)if(d(e,o+h)!==d(t,h)){u=!1;break}if(u)return o}return-1}function x(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(B(a))return s;e[n+s]=a}return s}function w(e,t,n,i){return U(V(t,e.length-n),e,n,i)}function S(e,t,n,i){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function T(e,t,n,i){return U(F(t),e,n,i)}function j(e,t,n,i){return U(function(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)i=(n=e.charCodeAt(s))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function k(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,s,a,l,d=e[r],c=null,u=d>239?4:d>223?3:d>191?2:1;if(r+u<=n)switch(u){case 1:d<128&&(c=d);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&d)<<6|63&o)>127&&(c=l);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(l=(15&d)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&d)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,u=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=u}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=E));return n}(i)}t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return d(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(W(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(W(o,Uint8Array))r+o.length>i.length?l.from(o).copy(i,r):Uint8Array.prototype.set.call(i,o,r);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r)}r+=o.length}return i},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,i,r){if(W(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),d=this.slice(i,r),c=e.slice(t,n),u=0;u<a;++u)if(d[u]!==c[u]){o=d[u],s=c[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function C(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function A(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=z[e[o]];return r}function R(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function L(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,o){return t=+t,n>>>=0,o||L(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function D(e,t,n,i,o){return t=+t,n>>>=0,o||L(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,l.prototype),i},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t>>>=0,n>>>=0,i)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var r=e.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(e=r)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:l.from(e,i),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var M=/[^+/0-9A-Za-z-_]/g;function V(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)t[i+r]=e[n]+e[r];return t}()},1027:function(e,t,n){var i=n(9509).Buffer,r=n(2830).Transform,o=n(2553).s;function s(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(5717)(s,r),s.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{n(i)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},e.exports=s},3482:function(e,t,n){"use strict";var i=n(5717),r=n(2318),o=n(9785),s=n(9072),a=n(1027);function l(e){a.call(this,"digest"),this._hash=e}i(l,a),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new o:new l(s(e))}},8028:function(e,t,n){var i=n(2318);e.exports=function(e){return(new i).update(e).digest()}},8355:function(e,t,n){"use strict";var i=n(5717),r=n(1031),o=n(1027),s=n(9509).Buffer,a=n(8028),l=n(9785),d=n(9072),c=s.alloc(128);function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new l:d(e)).update(t).digest():t.length<n&&(t=s.concat([t,c],n));for(var i=this._ipad=s.allocUnsafe(n),r=this._opad=s.allocUnsafe(n),a=0;a<n;a++)i[a]=54^t[a],r[a]=92^t[a];this._hash="rmd160"===e?new l:d(e),this._hash.update(i)}i(u,o),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new l:d(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new u("rmd160",t):"md5"===e?new r(a,t):new u(e,t)}},1031:function(e,t,n){"use strict";var i=n(5717),r=n(9509).Buffer,o=n(1027),s=r.alloc(128),a=64;function l(e,t){o.call(this,"digest"),"string"==typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=r.concat([t,s],a));for(var n=this._ipad=r.allocUnsafe(a),i=this._opad=r.allocUnsafe(a),l=0;l<a;l++)n[l]=54^t[l],i[l]=92^t[l];this._hash=[n]}i(l,o),l.prototype._update=function(e){this._hash.push(e)},l.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},e.exports=l},7187:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,r,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,d;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=l(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,d=c,console&&console.warn&&console.warn(d)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(i);return r.listener=n,i.wrapFn=r,r}function h(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):f(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function m(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var d=l.length,c=f(l,d);for(n=0;n<d;++n)i(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,s;if(a(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3349:function(e,t,n){"use strict";var i=n(9509).Buffer,r=n(8473).Transform;function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(5717)(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(e){i=e}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},645:function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,d=l>>1,c=-7,u=n?r-1:0,h=n?-1:1,p=e[t+u];for(u+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+u],u+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+e[t+u],u+=h,c-=8);if(0===o)o=1-d;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=d}return(p?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,l,d=8*o-r-1,c=(1<<d)-1,u=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=c?(a=0,s=c):s+u>=1?(a=(t*l-1)*Math.pow(2,r),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;e[n+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,d+=r;d>0;e[n+p]=255&s,p+=f,s/=256,d-=8);e[n+p-f]|=128*m}},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2318:function(e,t,n){"use strict";var i=n(5717),r=n(3349),o=n(9509).Buffer,s=new Array(16);function a(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function d(e,t,n,i,r,o,s){return l(e+(t&n|~t&i)+r+o|0,s)+t|0}function c(e,t,n,i,r,o,s){return l(e+(t&i|n&~i)+r+o|0,s)+t|0}function u(e,t,n,i,r,o,s){return l(e+(t^n^i)+r+o|0,s)+t|0}function h(e,t,n,i,r,o,s){return l(e+(n^(t|~i))+r+o|0,s)+t|0}i(a,r),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=d(n,i,r,o,e[0],3614090360,7),o=d(o,n,i,r,e[1],3905402710,12),r=d(r,o,n,i,e[2],606105819,17),i=d(i,r,o,n,e[3],3250441966,22),n=d(n,i,r,o,e[4],4118548399,7),o=d(o,n,i,r,e[5],1200080426,12),r=d(r,o,n,i,e[6],2821735955,17),i=d(i,r,o,n,e[7],4249261313,22),n=d(n,i,r,o,e[8],1770035416,7),o=d(o,n,i,r,e[9],2336552879,12),r=d(r,o,n,i,e[10],4294925233,17),i=d(i,r,o,n,e[11],2304563134,22),n=d(n,i,r,o,e[12],1804603682,7),o=d(o,n,i,r,e[13],4254626195,12),r=d(r,o,n,i,e[14],2792965006,17),n=c(n,i=d(i,r,o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),o=c(o,n,i,r,e[6],3225465664,9),r=c(r,o,n,i,e[11],643717713,14),i=c(i,r,o,n,e[0],3921069994,20),n=c(n,i,r,o,e[5],3593408605,5),o=c(o,n,i,r,e[10],38016083,9),r=c(r,o,n,i,e[15],3634488961,14),i=c(i,r,o,n,e[4],3889429448,20),n=c(n,i,r,o,e[9],568446438,5),o=c(o,n,i,r,e[14],3275163606,9),r=c(r,o,n,i,e[3],4107603335,14),i=c(i,r,o,n,e[8],1163531501,20),n=c(n,i,r,o,e[13],2850285829,5),o=c(o,n,i,r,e[2],4243563512,9),r=c(r,o,n,i,e[7],1735328473,14),n=u(n,i=c(i,r,o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),o=u(o,n,i,r,e[8],2272392833,11),r=u(r,o,n,i,e[11],1839030562,16),i=u(i,r,o,n,e[14],4259657740,23),n=u(n,i,r,o,e[1],2763975236,4),o=u(o,n,i,r,e[4],1272893353,11),r=u(r,o,n,i,e[7],4139469664,16),i=u(i,r,o,n,e[10],3200236656,23),n=u(n,i,r,o,e[13],681279174,4),o=u(o,n,i,r,e[0],3936430074,11),r=u(r,o,n,i,e[3],3572445317,16),i=u(i,r,o,n,e[6],76029189,23),n=u(n,i,r,o,e[9],3654602809,4),o=u(o,n,i,r,e[12],3873151461,11),r=u(r,o,n,i,e[15],530742520,16),n=h(n,i=u(i,r,o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),o=h(o,n,i,r,e[7],1126891415,10),r=h(r,o,n,i,e[14],2878612391,15),i=h(i,r,o,n,e[5],4237533241,21),n=h(n,i,r,o,e[12],1700485571,6),o=h(o,n,i,r,e[3],2399980690,10),r=h(r,o,n,i,e[10],4293915773,15),i=h(i,r,o,n,e[1],2240044497,21),n=h(n,i,r,o,e[8],1873313359,6),o=h(o,n,i,r,e[15],4264355552,10),r=h(r,o,n,i,e[6],2734768916,15),i=h(i,r,o,n,e[13],1309151649,21),n=h(n,i,r,o,e[4],4149444226,6),o=h(o,n,i,r,e[11],3174756917,10),r=h(r,o,n,i,e[2],718787259,15),i=h(i,r,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},7418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,l=r(e),d=1;d<arguments.length;d++){for(var c in s=Object(arguments[d]))n.call(s,c)&&(l[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)i.call(s,a[u])&&(l[a[u]]=s[a[u]])}}return l}},3689:function(e,t,n){"use strict";n.r(t),n.d(t,{ucs2decode:function(){return p},ucs2encode:function(){return f},decode:function(){return v},encode:function(){return y},toASCII:function(){return x},toUnicode:function(){return b}});const i=2147483647,r=36,o=/^xn--/,s=/[^\0-\x7E]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,c=String.fromCharCode;function u(e){throw new RangeError(l[e])}function h(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]);const r=function(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}((e=e.replace(a,".")).split("."),t).join(".");return i+r}function p(e){const t=[];let n=0;const i=e.length;for(;n<i;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}const f=e=>String.fromCodePoint(...e),m=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,n){let i=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;i+=r)e=d(e/35);return d(i+36*e/(e+38))},v=function(e){const t=[],n=e.length;let o=0,s=128,a=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let n=0;n<l;++n)e.charCodeAt(n)>=128&&u("not-basic"),t.push(e.charCodeAt(n));for(let h=l>0?l+1:0;h<n;){let l=o;for(let t=1,s=r;;s+=r){h>=n&&u("invalid-input");const l=(c=e.charCodeAt(h++))-48<10?c-22:c-65<26?c-65:c-97<26?c-97:r;(l>=r||l>d((i-o)/t))&&u("overflow"),o+=l*t;const p=s<=a?1:s>=a+26?26:s-a;if(l<p)break;const f=r-p;t>d(i/f)&&u("overflow"),t*=f}const p=t.length+1;a=g(o-l,p,0==l),d(o/p)>i-s&&u("overflow"),s+=d(o/p),o%=p,t.splice(o++,0,s)}var c;return String.fromCodePoint(...t)},y=function(e){const t=[];let n=(e=p(e)).length,o=128,s=0,a=72;for(const n of e)n<128&&t.push(c(n));let l=t.length,h=l;for(l&&t.push("-");h<n;){let n=i;for(const t of e)t>=o&&t<n&&(n=t);const p=h+1;n-o>d((i-s)/p)&&u("overflow"),s+=(n-o)*p,o=n;for(const n of e)if(n<o&&++s>i&&u("overflow"),n==o){let e=s;for(let n=r;;n+=r){const i=n<=a?1:n>=a+26?26:n-a;if(e<i)break;const o=e-i,s=r-i;t.push(c(m(i+o%s,0))),e=d(o/s)}t.push(c(m(e,0))),a=g(s,p,h==l),s=0,++h}++s,++o}return t.join("")},b=function(e){return h(e,(function(e){return o.test(e)?v(e.slice(4).toLowerCase()):e}))},x=function(e){return h(e,(function(e){return s.test(e)?"xn--"+y(e):e}))},w={version:"2.1.0",ucs2:{decode:p,encode:f},decode:v,encode:y,toASCII:x,toUnicode:b};t.default=w},5251:function(e,t,n){"use strict";n(7418);var i=n(3804),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),t.Fragment=o("react.fragment")}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var i,o={},d=null,c=null;for(i in void 0!==n&&(d=""+n),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:d,ref:c,props:o,_owner:s.current}}t.jsx=d,t.jsxs=d},5893:function(e,t,n){"use strict";e.exports=n(5251)},4281:function(e){"use strict";var t={};function n(e,n,i){i||(i=Error);var r=function(e){var t,i;function r(t,i,r){return e.call(this,function(e,t,i){return"string"==typeof n?n:n(e,t,i)}(t,i,r))||this}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r}(i);r.prototype.name=i.name,r.prototype.code=e,t[e]=r}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,o,s,a;if("string"==typeof t&&(o="not ",t.substr(!s||s<0?0:+s,o.length)===o)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var l=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(i(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:function(e,t,n){"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var r=n(9481),o=n(4229);n(5717)(d,r);for(var s=i(o.prototype),a=0;a<s.length;a++){var l=s[a];d.prototype[l]||(d.prototype[l]=o.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:function(e,t,n){"use strict";e.exports=r;var i=n(4605);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(5717)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},9481:function(e,t,n){"use strict";var i;e.exports=j,j.ReadableState=T;n(7187).EventEmitter;var r=function(e,t){return e.listeners(t).length},o=n(2503),s=n(8764).Buffer,a=n.g.Uint8Array||function(){};var l,d=n(4616);l=d&&d.debuglog?d.debuglog("stream"):function(){};var c,u,h,p=n(7327),f=n(1195),m=n(2457).getHighWaterMark,g=n(4281).q,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,x=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(j,o);var w=f.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(e,t,r){i=i||n(6753),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=n(2553).s),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function j(e){if(i=i||n(6753),!(this instanceof j))return new j(e);var t=this instanceof i;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function k(e,t,n,i,r){l("readableAddChunk",t);var o,d=e._readableState;if(null===t)d.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,d);else if(r||(o=function(e,t){var n;i=t,s.isBuffer(i)||i instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(d,t)),o)w(e,o);else if(d.objectMode||t&&t.length>0)if("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),i)d.endEmitted?w(e,new x):_(e,d,t,!0);else if(d.ended)w(e,new y);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?_(e,d,t,!1):R(e,d)):_(e,d,t,!1)}else i||(d.reading=!1,R(e,d));return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function _(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),R(e,t)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=f.destroy,j.prototype._undestroy=f.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=s.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},j.prototype.unshift=function(e){return k(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(e){c||(c=n(2553).s);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var E=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){l("readable nexttick read 0"),e.read(0)}function N(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function V(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}j.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?V(this):O(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&V(this),null;var i,r=t.needReadable;return l("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",r=!0),t.ended||t.reading?l("reading or ended",r=!1):r&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(n,t))),null===(i=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&V(this)),null!==i&&this.emit("data",i),i},j.prototype._read=function(e){w(this,new b("_read()"))},j.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",m),n.removeListener("data",u),c=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function a(){l("onend"),e.end()}i.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",s);var d=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",d);var c=!1;function u(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!c&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){l("onerror",t),m(),e.removeListener("error",h),0===r(e,"error")&&w(e,t)}function p(){e.removeListener("finish",f),m()}function f(){l("onfinish"),e.removeListener("close",p),m()}function m(){l("unpipe"),n.unpipe(e)}return n.on("data",u),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},j.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?O(this):i.reading||process.nextTick(L,this))),n},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),n},j.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},j.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(l("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){l("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=n(5850)),u(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=M,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(e,t){return void 0===h&&(h=n(5167)),h(j,e,t)})},4605:function(e,t,n){"use strict";e.exports=c;var i=n(4281).q,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,l=n(6753);function d(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(5717)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new r("_transform()"))},c.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:function(e,t,n){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=j,j.WritableState=T;var o={deprecate:n(4927)},s=n(2503),a=n(8764).Buffer,l=n.g.Uint8Array||function(){};var d,c=n(1195),u=n(2457).getHighWaterMark,h=n(4281).q,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,x=h.ERR_UNKNOWN_ENCODING,w=c.errorOrDestroy;function S(){}function T(e,t,o){r=r||n(6753),e=e||{},"boolean"!=typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if("function"!=typeof r)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(process.nextTick(r,i),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,w(e,i)):(r(i),e._writableState.errorEmitted=!0,w(e,i),A(e,t))}(e,n,i,t,r);else{var o=C(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),i?process.nextTick(_,e,n,o,r):_(e,n,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function j(e){var t=this instanceof(r=r||n(6753));if(!t&&!d.call(j,this))return new j(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function k(e,t,n,i,r,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function _(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),A(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)o[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;o.allBuffers=l,k(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var d=n.chunk,c=n.encoding,u=n.callback;if(k(e,t,!1,t.objectMode?1:d.length,d,c,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=C(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(5717)(j,s),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===j&&(e&&e._writableState instanceof T)}})):d=function(e){return e instanceof this},j.prototype.pipe=function(){w(this,new g)},j.prototype.write=function(e,t,n){var i,r=this._writableState,o=!1,s=!r.objectMode&&(i=e,a.isBuffer(i)||i instanceof l);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=S),r.ending?function(e,t){var n=new b;w(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r;return null===n?r=new y:"string"==typeof n||t.objectMode||(r=new p("chunk",["string","Buffer"],n)),!r||(w(e,r),process.nextTick(i,r),!1)}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,i,r,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,i,r);i!==s&&(n=!0,r="buffer",i=s)}var l=t.objectMode?1:i.length;t.length+=l;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,l,i,r,o);return d}(this,r,s,e,t,n)),o},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},j.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(e,t,n){n(new f("_write()"))},j.prototype._writev=null,j.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),j.prototype.destroy=c.destroy,j.prototype._undestroy=c.undestroy,j.prototype._destroy=function(e,t){t(e)}},5850:function(e,t,n){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(8610),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),d=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[c]=null,e[s]=null,e[a]=null,t(p(n,!1)))}}function m(e){process.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((r(i={get stream(){return this[h]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[d])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[l]?n(e[l]):t(p(void 0,!0))}))}));var n,i=this[c];if(i)n=new Promise(function(e,t){return function(n,i){e.then((function(){t[d]?n(p(void 0,!0)):t[u](n,i)}),i)}}(i,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(p(r,!1));n=new Promise(this[u])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,n=Object.create(v,(r(t={},h,{value:e,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,l,{value:null,writable:!0}),r(t,d,{value:e._readableState.endEmitted,writable:!0}),r(t,u,{value:function(e,t){var i=n[h].read();i?(n[c]=null,n[s]=null,n[a]=null,e(p(i,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[l]=e)}var i=n[s];null!==i&&(n[c]=null,n[s]=null,n[a]=null,i(p(void 0,!0))),n[d]=!0})),e.on("readable",m.bind(null,n)),n}},7327:function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(8764).Buffer,a=n(2361).inspect,l=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,d;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,i,r=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=r,i=a,s.prototype.copy.call(t,n,i),a+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?i+=r:i+=r.slice(0,e),0==(e-=o)){o===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,t}},{key:l,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),d&&o(t,d),e}()},1195:function(e){"use strict";function t(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,r){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!r&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(n,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):r?(process.nextTick(n,o),r(e)):process.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,n){"use strict";var i=n(4281).q.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(o||r);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||c()},d=t._writableState&&t._writableState.finished,c=function(){a=!1,d=!0,s||o.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return s&&!u?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):a&&!d?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},m=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",c),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",c),!1!==n.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",c),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},5167:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:function(e,t,n){"use strict";var i;var r=n(4281).q,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=n(8610)),i(e,{readable:t,writable:r},(function(e){if(e)return o(e);a=!0,o()}));var l=!1;return function(t){if(!a&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function d(e){e()}function c(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return l(e,o,n>0,(function(e){i||(i=e),e&&s.forEach(d),o||(s.forEach(d),r(i))}))}));return t.reduce(c)}},2457:function(e,t,n){"use strict";var i=n(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(r?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:function(e,t,n){e.exports=n(7187).EventEmitter},8473:function(e,t,n){(t=e.exports=n(9481)).Stream=t,t.Readable=t,t.Writable=n(4229),t.Duplex=n(6753),t.Transform=n(4605),t.PassThrough=n(2725),t.finished=n(8610),t.pipeline=n(9946)},9785:function(e,t,n){"use strict";var i=n(8764).Buffer,r=n(5717),o=n(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(e,t){return e<<t|e>>>32-t}function m(e,t,n,i,r,o,s,a){return f(e+(t^n^i)+o+s|0,a)+r|0}function g(e,t,n,i,r,o,s,a){return f(e+(t&n|~t&i)+o+s|0,a)+r|0}function v(e,t,n,i,r,o,s,a){return f(e+((t|~n)^i)+o+s|0,a)+r|0}function y(e,t,n,i,r,o,s,a){return f(e+(t&i|n&~i)+o+s|0,a)+r|0}function b(e,t,n,i,r,o,s,a){return f(e+(t^(n|~i))+o+s|0,a)+r|0}r(p,o),p.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,p=0|this._e,x=0|this._a,w=0|this._b,S=0|this._c,T=0|this._d,j=0|this._e,k=0;k<80;k+=1){var _,E;k<16?(_=m(n,i,r,o,p,e[a[k]],u[0],d[k]),E=b(x,w,S,T,j,e[l[k]],h[0],c[k])):k<32?(_=g(n,i,r,o,p,e[a[k]],u[1],d[k]),E=y(x,w,S,T,j,e[l[k]],h[1],c[k])):k<48?(_=v(n,i,r,o,p,e[a[k]],u[2],d[k]),E=v(x,w,S,T,j,e[l[k]],h[2],c[k])):k<64?(_=y(n,i,r,o,p,e[a[k]],u[3],d[k]),E=g(x,w,S,T,j,e[l[k]],h[3],c[k])):(_=b(n,i,r,o,p,e[a[k]],u[4],d[k]),E=m(x,w,S,T,j,e[l[k]],h[4],c[k])),n=p,p=o,o=f(r,10),r=i,i=_,x=j,j=T,T=f(S,10),S=w,w=E}var C=this._b+r+T|0;this._b=this._c+o+j|0,this._c=this._d+p+x|0,this._d=this._e+n+w|0,this._e=this._a+i+S|0,this._a=C},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=p},9509:function(e,t,n){var i=n(8764),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},4189:function(e,t,n){var i=n(9509).Buffer;function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var l=s%r,d=Math.min(o-a,r-l),c=0;c<d;c++)n[l+c]=e[a+c];a+=d,(s+=d)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},9072:function(e,t,n){var i=e.exports=function(e){e=e.toLowerCase();var t=i[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};i.sha=n(4448),i.sha1=n(8336),i.sha224=n(8432),i.sha256=n(7499),i.sha384=n(1686),i.sha512=n(7816)},4448:function(e,t,n){var i=n(5717),r=n(4189),o=n(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function d(e){return e<<30|e>>>2}function c(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,u=0;u<16;++u)n[u]=e.readInt32BE(4*u);for(;u<80;++u)n[u]=n[u-3]^n[u-8]^n[u-14]^n[u-16];for(var h=0;h<80;++h){var p=~~(h/20),f=0|((t=i)<<5|t>>>27)+c(p,r,o,a)+l+n[h]+s[p];l=a,a=o,o=d(r),r=i,i=f}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},8336:function(e,t,n){var i=n(5717),r=n(4189),o=n(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function d(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function u(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=(t=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|t>>>31;for(var p=0;p<80;++p){var f=~~(p/20),m=d(i)+u(f,r,o,a)+l+n[p]+s[f]|0;l=a,a=o,o=c(r),r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},8432:function(e,t,n){var i=n(5717),r=n(7499),o=n(4189),s=n(9509).Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=l},7499:function(e,t,n){var i=n(5717),r=n(4189),o=n(9509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,r.call(this,64,56)}function d(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,f=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+p(n[v-15])+n[v-16];for(var y=0;y<64;++y){var b=g+h(l)+d(l,f,m)+s[y]+n[y]|0,x=u(i)+c(i,r,o)|0;g=m,m=f,f=l,l=a+b|0,a=o,o=r,r=i,i=b+x|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0,this._f=f+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},l.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=l},1686:function(e,t,n){var i=n(5717),r=n(7816),o=n(4189),s=n(9509).Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=l},7816:function(e,t,n){var i=n(5717),r=n(4189),o=n(9509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,r.call(this,128,112)}function d(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,a=0|this._eh,l=0|this._fh,y=0|this._gh,b=0|this._hh,x=0|this._al,w=0|this._bl,S=0|this._cl,T=0|this._dl,j=0|this._el,k=0|this._fl,_=0|this._gl,E=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var O=t[C-30],A=t[C-30+1],R=p(O,A),I=f(A,O),P=m(O=t[C-4],A=t[C-4+1]),L=g(A,O),N=t[C-14],D=t[C-14+1],M=t[C-32],V=t[C-32+1],F=I+D|0,U=R+N+v(F,I)|0;U=(U=U+P+v(F=F+L|0,L)|0)+M+v(F=F+V|0,V)|0,t[C]=U,t[C+1]=F}for(var W=0;W<160;W+=2){U=t[W],F=t[W+1];var B=c(n,i,r),z=c(x,w,S),$=u(n,x),q=u(x,n),H=h(a,j),K=h(j,a),G=s[W],Q=s[W+1],Y=d(a,l,y),X=d(j,k,_),Z=E+K|0,J=b+H+v(Z,E)|0;J=(J=(J=J+Y+v(Z=Z+X|0,X)|0)+G+v(Z=Z+Q|0,Q)|0)+U+v(Z=Z+F|0,F)|0;var ee=q+z|0,te=$+B+v(ee,q)|0;b=y,E=_,y=l,_=k,l=a,k=j,a=o+J+v(j=T+Z|0,T)|0,o=r,T=S,r=i,S=w,i=n,w=x,n=J+te+v(x=Z+ee|0,Z)|0}this._al=this._al+x|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+T|0,this._el=this._el+j|0,this._fl=this._fl+k|0,this._gl=this._gl+_|0,this._hl=this._hl+E|0,this._ah=this._ah+n+v(this._al,x)|0,this._bh=this._bh+i+v(this._bl,w)|0,this._ch=this._ch+r+v(this._cl,S)|0,this._dh=this._dh+o+v(this._dl,T)|0,this._eh=this._eh+a+v(this._el,j)|0,this._fh=this._fh+l+v(this._fl,k)|0,this._gh=this._gh+y+v(this._gl,_)|0,this._hh=this._hh+b+v(this._hl,E)|0},l.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=l},2830:function(e,t,n){e.exports=r;var i=n(7187).EventEmitter;function r(){i.call(this)}n(5717)(r,i),r.Readable=n(9481),r.Writable=n(4229),r.Duplex=n(6753),r.Transform=n(4605),r.PassThrough=n(2725),r.finished=n(8610),r.pipeline=n(9946),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){if(c(),0===i.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",d),e.removeListener("error",d),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",d),e.on("error",d),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},2553:function(e,t,n){"use strict";var i=n(9509).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=d,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=s(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},6009:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDataOfFirstRecord=t.resolveDomainName=t.getReverseLookupDomain=t.isAuthenticated=t.getAllRecords=t.responseStatusCodes=t.recordTypesById=t.mapRecordTypeFromGoogle=t.mapRecordTypeToGoogle=t.recordTypes=void 0;const r=n(7428),o=n(2299);function s(e){switch(e){case"OPENPGPKEY":return"TYPE61";case"SMIMEA":return"TYPE53";case"CDNSKEY":return"TYPE60";default:return e}}t.recordTypes={A:"A: IPv4 address",AAAA:"AAAA: IPv6 address",ANY:"ANY: return all types",CAA:"CAA: CA authorization",CNAME:"CNAME: canonical name",MX:"MX: mail exchange",NS:"NS: name server",OPENPGPKEY:"OPENPGPKEY",PTR:"PTR: pointer resource",SMIMEA:"SMIMEA: S/MIME cert",SOA:"SOA: start of authority",SPF:"SPF: an obsolete type",SRV:"SRV: service host",SSHFP:"SSHFP: SSH fingerprint",TLSA:"TLSA: DANE certificate",TXT:"TXT: unstructured text",DNSKEY:"DNSKEY: DNS public key",DS:"DS: delegation signer",RRSIG:"RRSIG: record signature",NSEC:"NSEC: next secure record",NSEC3:"NSEC3: NSEC version 3",NSEC3PARAM:"NSEC3PARAM[eters]",CDS:"CDS: DS in child zone",CDNSKEY:"CDNSKEY: child DNSKEY"},t.mapRecordTypeToGoogle=s,t.mapRecordTypeFromGoogle=function(e){switch(e){case"TYPE61":return"OPENPGPKEY";case"TYPE53":return"SMIMEA";case"TYPE60":return"CDNSKEY";default:return e}},t.recordTypesById={255:"ANY",1:"A",28:"AAAA",257:"CAA",5:"CNAME",15:"MX",2:"NS",61:"OPENPGPKEY",12:"PTR",53:"SMIMEA",6:"SOA",99:"SPF",33:"SRV",44:"SSHFP",52:"TLSA",16:"TXT",48:"DNSKEY",43:"DS",46:"RRSIG",47:"NSEC",50:"NSEC3",51:"NSEC3PARAM",59:"CDS",60:"CDNSKEY"},t.responseStatusCodes={0:"The status code of the response says that no error occurred.",2:"The status code of the response says that there was a server failure. This might be due to invalid DNSSEC records or non-responding name servers.",3:"The status code of the response says that no such domain exists."},t.getAllRecords=function(e,t){return e.answer.concat(e.authority).filter((e=>e.type===t))},t.isAuthenticated=function(e,t,n,i=!0){return 1===e.answer.filter((e=>e.name===(t.endsWith(".")?t:t+".")&&"RRSIG"===e.type&&(e.data.startsWith(s(n).toLowerCase()+" ")||i&&e.data.startsWith("cname ")))).length},t.getReverseLookupDomain=function(e){return e.split(".").reverse().join(".")+".in-addr.arpa"};function a(e){var n;const i=e.name,r=null!==(n=t.recordTypesById[e.type])&&void 0!==n?n:e.type;return{name:i,type:r,ttl:e.TTL,data:"SPF"===r||"TXT"===r?e.data.slice(1,-1).replace(/""/g,""):e.data}}function l(e,n,l=!1){return i(this,void 0,void 0,(function*(){const i={name:e,type:s(n),do:l.toString()},d=yield r.fetchWithErrorAndTimeout("https://dns.google/resolve?"+new URLSearchParams(i).toString()),c=yield d.json(),u=c.Status,h=t.recordTypesById[c.Question[0].type];if(void 0===h)throw new Error(`Unsupported record type ${c.Question[0].type}.`);return{status:u,question:{name:c.Question[0].name,type:h},answer:o.normalizeToArray(c.Answer).map(a),authority:o.normalizeToArray(c.Authority).map(a)}}))}t.resolveDomainName=l,t.getDataOfFirstRecord=function(e,t){return i(this,void 0,void 0,(function*(){const n=(yield l(e,t)).answer.filter((e=>e.type===t));if(n.length>0)return n[0].data;throw new Error(`Domain ${e} has no record of type ${t}.`)}))}},2061:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.findConfigurationFile=t.fetchConfigurationFile=void 0;const r=n(7428),o=n(2299),s=n(6009),a=["smtp","imap","pop3"],l=["SSL","STARTTLS","plain"];function d(e,t){var n,i,r;return null!==(r=null===(i=null===(n=e.getElementsByTagName(t)[0])||void 0===n?void 0:n.childNodes[0])||void 0===i?void 0:i.nodeValue)&&void 0!==r?r:void 0}function c(e,t,n){return o.filterUndefined(Array.from(e.getElementsByTagName(t)).map(n))}function u(e,t,n){var i,r;return null!==(r=null===(i=e.getElementsByTagName(t)[0])||void 0===i?void 0:i.getAttribute(n))&&void 0!==r?r:void 0}function h(e){const t=e.getAttribute("type"),n=d(e,"hostname"),i=d(e,"port"),r=d(e,"socketType"),o=d(e,"username"),s=c(e,"authentication",(e=>{var t,n;return null!==(n=null===(t=e.childNodes[0])||void 0===t?void 0:t.nodeValue)&&void 0!==n?n:void 0}));return null!==t&&a.includes(t)&&void 0!==n&&void 0!==i&&void 0!==r&&l.includes(r)&&void 0!==o?{type:t,host:n,port:i,socket:r,username:o,authentication:s}:void 0}function p(e,t,n){const i=e.getAttribute(t),r=d(e,n);return null!==i&&void 0!==r?{link:i,text:r}:void 0}function f(e){return p(e,"visiturl","instruction")}function m(e){return p(e,"url","descr")}function g(e){var t;return i(this,void 0,void 0,(function*(){const n=yield r.fetchWithErrorAndTimeout(e),i=yield n.text(),o=(new DOMParser).parseFromString(i,"text/xml");return{name:null!==(t=d(o,"displayShortName"))&&void 0!==t?t:d(o,"displayName"),incomingServers:c(o,"incomingServer",h),outgoingServers:c(o,"outgoingServer",h),instructions:c(o,"enable",f),documentation:c(o,"documentation",m),webmail:u(o,"loginPage","url")}}))}function v(e,t){return e.push(t),g(t)}t.fetchConfigurationFile=g,t.findConfigurationFile=function(e,t,n=!1){return i(this,void 0,void 0,(function*(){if(!n){try{return yield v(t,`https://autoconfig.${e}/mail/config-v1.1.xml?emailaddress=user@${e}`)}catch(e){console.error(e)}try{return yield v(t,`https://${e}/.well-known/autoconfig/mail/config-v1.1.xml`)}catch(e){console.error(e)}}try{return yield v(t,`https://autoconfig.thunderbird.net/v1.1/${e}`)}catch(e){console.error(e)}try{const n=(yield s.getDataOfFirstRecord(e,"MX")).split(" ")[1].toString(),i=yield s.resolveDomainName(n,"SOA"),r=s.getAllRecords(i,"SOA")[0].name.slice(0,-1);if(r!==e)return yield v(t,`https://autoconfig.thunderbird.net/v1.1/${r}`)}catch(e){console.error(e)}}))}},980:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getIpInfo=t.isSuccessfulIpInfoResponse=void 0;const r=n(7428);t.isSuccessfulIpInfoResponse=function(e){return void 0!==e.city},t.getIpInfo=function(e){return i(this,void 0,void 0,(function*(){return(yield r.fetchWithErrorAndTimeout("https://ipinfo.io/"+(null!=e?e:"json")+"?token=ba0234c01f79d3")).json()}))}},45:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortForm=t.isArgument=void 0,t.isArgument=function(e){return void 0!==e.longForm},t.shortForm={name:"Short form",description:"Use the short form of arguments.",defaultValue:!1,inputType:"checkbox",labelWidth:80}},6427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Comment=t.SystemReply=t.UserCommand=t.DynamicOutput=t.StaticOutput=t.InlineCode=t.CodeBlock=void 0;const i=n(5893),r=n(8385);t.CodeBlock=function({wrapped:e,className:t="",children:n}){return i.jsx("pre",Object.assign({className:(e?"wrapped ":"")+t},{children:n}),void 0)},t.InlineCode=function({className:e="",children:t}){return i.jsx("code",Object.assign({className:e},{children:t}),void 0)},t.StaticOutput=function({className:e="",title:t,children:n}){return i.jsx("span",Object.assign({className:"static-output "+e,title:t},{children:n}),void 0)},t.DynamicOutput=function({className:e="",title:t,onClick:n,onContextMenu:r,children:o}){return i.jsx("span",Object.assign({className:"dynamic-output "+e,title:t,onClick:n,onContextMenu:r},{children:o}),void 0)},t.UserCommand=function({className:e="",children:t}){return i.jsx("div",Object.assign({className:e},{children:i.jsx("b",{children:i.jsx(r.ClickToCopy,Object.assign({newline:!0},{children:t}),void 0)},void 0)}),void 0)},t.SystemReply=function({className:e="",children:t}){return i.jsx("div",Object.assign({className:"color-gray "+e},{children:t}),void 0)},t.Comment=function({className:e="",children:t}){return i.jsx("div",Object.assign({className:"color-gray "+e,title:"This is just a comment."},{children:t}),void 0)}},8385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickToCopy=void 0;const i=n(5893),r=n(5383);function o(e){r.copyToClipboardWithAnimation(e.innerText+("true"===e.dataset.newline?"\n":""),e,e.dataset.effect)&&e.focus()}function s(e){o(e.currentTarget)}function a(e){"Enter"===e.key&&(e.preventDefault(),o(e.currentTarget))," "===e.key&&e.preventDefault()}function l(e){" "===e.key&&(e.preventDefault(),o(e.currentTarget))}t.ClickToCopy=function({newline:e,effect:t,children:n}){return i.jsx("span",Object.assign({onClick:s,onKeyDown:a,onKeyUp:l,className:"click-to-copy",title:"Click to copy.",tabIndex:0,"data-newline":e,"data-effect":t},{children:n}),void 0)}},3471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomInput=t.CustomTextarea=void 0;const i=n(5893),r=n(3804);class o extends r.Component{constructor(){super(...arguments),this.registerCallbacks=e=>{var t,n;e&&(e.onchange=null!==(t=this.props.onChange)&&void 0!==t?t:null,e.oninput=null!==(n=this.props.onInput)&&void 0!==n?n:null)}}render(){return i.jsx("textarea",Object.assign({ref:this.registerCallbacks},this.props,{onChange:void 0,onInput:void 0}),void 0)}}t.CustomTextarea=o;class s extends r.Component{constructor(){super(...arguments),this.registerCallbacks=e=>{var t,n;e&&(e.onchange=null!==(t=this.props.onChange)&&void 0!==t?t:null,e.oninput=null!==(n=this.props.onInput)&&void 0!==n?n:null,"text"!==this.props.type&&"number"!==this.props.type||!this.props.onEnter||(e.onkeydown=e=>{"Enter"===e.key&&this.props.onEnter&&(this.props.onEnter(e),e.preventDefault())}))}}render(){return i.jsx("input",Object.assign({ref:this.registerCallbacks},this.props,{onChange:void 0,onInput:void 0}),void 0)}}t.CustomInput=s},2815:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDynamicEntry=t.inputTypesWithHistory=t.arrayInputTypes=t.stringInputTypes=t.numberInputTypes=t.booleanInputTypes=t.equalValues=void 0,t.equalValues=function(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1},t.booleanInputTypes=["checkbox","switch"],t.numberInputTypes=["number","range"],t.stringInputTypes=["text","textarea","select","password","date","color"],t.arrayInputTypes=["multiple"],t.inputTypesWithHistory=["text","number"],t.isDynamicEntry=function(e){return void 0!==e.inputType}},6874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawIfCase=void 0;const i=n(5893),r=n(3804),o=n(6953);t.RawIfCase=function(e){const t=o.getCurrentState(e.store),n=e.value===t[e.entry];return i.jsx(r.Fragment,{children:(!e.not&&n||e.not&&!n)&&e.children},void 0)}},7199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawIfEntries=void 0;const i=n(5893),r=n(3804),o=n(6953);t.RawIfEntries=function(e){const t=o.getCurrentState(e.store);return i.jsx(r.Fragment,{children:Object.keys(e.entries)[e.or?"some":"every"]((e=>t[e]))===!e.not&&e.children},void 0)}},1026:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RawInput=void 0;const r=n(5893),o=n(3804),s=n(2299),a=n(3471),l=n(2815),d=n(6953);function c(e){return"checkbox"===e.type?!e.checked:e.multiple?[...e.options].filter((e=>e.selected)).map((e=>e.value)):l.numberInputTypes.includes(e.type)?Number(e.value):e.value}class u extends o.Component{constructor(){super(...arguments),this.handle=(e,t)=>{const n=e.currentTarget,i={[n.name]:c(n)};d.setState(this.props.store,i,t)},this.onChange=e=>{this.handle(e,!1)},this.onEnter=e=>{var t;this.handle(e,!0),d.hasNoErrors(this.props.store)&&(null===(t=this.props.submit)||void 0===t||t.onClick(d.getCurrentState(this.props.store)))},this.onInput=e=>{const t=e.currentTarget,n=c(t),i=t.name;this.props.store.state.inputs[i]=n,d.clearErrors(this.props.store),this.props.store.update("input");const r=this.props.entries[i],o=d.getCurrentState(this.props.store);s.normalizeToArray(r.onInput).forEach((e=>e(n,o)))},this.onDetermine=e=>i(this,void 0,void 0,(function*(){const t=e.currentTarget.name,n=this.props.entries[t],i=d.getCurrentState(this.props.store),[r,o]=yield n.determine.onClick(i);o?(this.props.store.state.inputs[t]=r,this.props.store.state.errors[t]=o,this.props.store.update("input")):d.setState(this.props.store,{[t]:r})})),this.onSubmit=()=>{var e;if(d.validateInputs(this.props.store),this.props.store.update("input"),d.hasNoErrors(this.props.store)){const t=d.getCurrentState(this.props.store);s.normalizeToArray(this.props.store.meta.onChange).forEach((e=>e(t,!0))),null===(e=this.props.submit)||void 0===e||e.onClick(t)}},this.onPrevious=()=>{d.previousState(this.props.store)},this.onNext=()=>{d.nextState(this.props.store)},this.onClear=()=>{confirm(`Are you sure you want to erase the history of ${this.props.store.state.states.length-1} entered values?`)&&d.clearState(this.props.store)},this.onCancel=()=>{this.props.store.state.inputs=Object.assign({},d.getCurrentState(this.props.store)),d.clearErrors(this.props.store),this.props.store.update("input")},this.randomID="-"+s.getRandomString(),this.renderEntry=(e,t,n)=>{var i,c;const u=this.props.entries[e],h=this.props.store.state.inputs[e],p=this.props.store.state.errors[e],f=!p&&(!!t||!!u.disable&&u.disable(this.props.store.state.inputs)),m=l.inputTypesWithHistory.includes(u.inputType),g=d.getCurrentState(this.props.store);return r.jsxs("label",Object.assign({title:u.description+(f?" (Currently disabled.)":"")},{children:[!this.props.noLabels&&r.jsxs("span",Object.assign({className:"label-text"+(["multiple","textarea"].includes(u.inputType)?" label-for-textarea":"")+" cursor-help"+(f?" color-gray":""),style:this.props.newColumnAt?{width:(this.props.individualLabelWidth?u.labelWidth:n)+"px"}:{}},{children:[u.name,":"]}),void 0),r.jsxs("span",Object.assign({className:"d-inline-block"},{children:[("checkbox"===u.inputType||"switch"===u.inputType)&&r.jsxs("span",Object.assign({className:"custom-control custom-"+u.inputType+(p?" is-invalid":"")},{children:[r.jsx(a.CustomInput,{name:e,type:"checkbox",className:"custom-control-input"+(p?" is-invalid":""),checked:h,disabled:f,onChange:this.onChange},void 0),r.jsx("span",{className:"custom-control-label"},void 0)]}),void 0),("select"===u.inputType||"multiple"===u.inputType)&&r.jsx("select",Object.assign({name:e,className:"custom-select"+(p?" is-invalid":""),disabled:f,onChange:this.onChange,multiple:"multiple"===u.inputType,size:"multiple"===u.inputType&&u.selectOptions?Object.entries(s.normalizeToValue(u.selectOptions,g)).length:void 0},{children:u.selectOptions&&Object.entries(s.normalizeToValue(u.selectOptions,g)).map((([e,t])=>r.jsx("option",Object.assign({value:e,selected:"multiple"===u.inputType?h.includes(e):e===h},{children:t}),e)))}),void 0),"textarea"===u.inputType&&r.jsx(a.CustomTextarea,{name:e,className:"form-control"+(p?" is-invalid":""),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:s.normalizeToValue(u.placeholder,g),disabled:f,onChange:this.onChange,onInput:this.onInput,value:h,rows:null!==(i=u.rows)&&void 0!==i?i:5,style:u.inputWidth?{width:u.inputWidth+"px"}:{}},void 0),"checkbox"!==u.inputType&&"switch"!==u.inputType&&"select"!==u.inputType&&"multiple"!==u.inputType&&"textarea"!==u.inputType&&r.jsxs(o.Fragment,{children:[m&&r.jsx("datalist",Object.assign({id:e+this.randomID},{children:s.normalizeToValue(null!==(c=u.suggestedValues)&&void 0!==c?c:[],g).concat(this.props.store.state.states.map((t=>t[e]))).reverse().filter(((e,t,n)=>e!==h&&n.indexOf(e)===t)).map((e=>r.jsx("option",{value:""+e},""+e)))}),void 0),r.jsx(a.CustomInput,{name:e,type:u.inputType,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",className:("range"===u.inputType?"custom-range":"color"===u.inputType?"custom-color":"form-control")+(p?" is-invalid":""),value:h,min:u.minValue,max:u.maxValue,step:u.stepValue,placeholder:s.normalizeToValue(u.placeholder,g),disabled:f,onChange:this.onChange,onInput:this.onInput,onEnter:this.onEnter,list:m?e+this.randomID:void 0,style:u.inputWidth?{width:u.inputWidth+"px"}:{}},void 0)]},void 0),p&&r.jsx("div",Object.assign({className:"invalid-feedback"},{children:p}),void 0)]}),void 0),"range"===u.inputType&&r.jsx("span",Object.assign({className:"range-value"+(f?" color-gray":"")},{children:h}),void 0),u.determine&&r.jsx("button",Object.assign({name:e,type:"button",className:"btn btn-primary btn-sm align-top ml-2",onClick:this.onDetermine,disabled:f,title:u.determine.title},{children:u.determine.text}),void 0)]}),e)},this.renderSubmitButton=e=>this.props.submit&&r.jsx("button",Object.assign({type:"button",className:"label btn btn-sm btn-primary input-buttons-group",onClick:this.onSubmit,disabled:e,title:e?"Make sure that there are no errors.":this.props.submit.title},{children:this.props.submit.text}),void 0),this.renderHistoryButtons=()=>!this.props.noHistory&&r.jsxs("span",Object.assign({className:"label btn-icon btn-group btn-group-sm"},{children:[r.jsx("button",Object.assign({type:"button",className:"btn btn-primary",onClick:this.onPrevious,disabled:0===this.props.store.state.index,title:"Go back to the previous set of values."},{children:r.jsx("i",{className:"fas fa-undo-alt"},void 0)}),void 0),r.jsx("button",Object.assign({type:"button",className:"btn btn-primary",onClick:this.onClear,disabled:1===this.props.store.state.states.length,title:"Erase the history of entered values."},{children:r.jsx("i",{className:"fas fa-trash-alt"},void 0)}),void 0),r.jsx("button",Object.assign({type:"button",className:"btn btn-primary",onClick:this.onNext,disabled:this.props.store.state.index===this.props.store.state.states.length-1,title:"Advance to the next set of values."},{children:r.jsx("i",{className:"fas fa-redo-alt"},void 0)}),void 0)]}),void 0),this.renderCancelButton=e=>e&&r.jsx("button",Object.assign({type:"button",className:"label btn btn-sm btn-primary",onClick:this.onCancel,title:"Return to the valid state before before the error."},{children:"Cancel"}),void 0),this.renderButtons=e=>{const t=this.renderSubmitButton(e),n=this.renderHistoryButtons(),i=this.renderCancelButton(e);return(t||n||i)&&r.jsxs("span",Object.assign({className:"horizontal-form"},{children:[t,n,i]}),void 0)}}render(){const e=this.props.entries,t=Object.keys(e),n=!d.hasNoErrors(this.props.store),i=this.props.individualLabelWidth||!this.props.newColumnAt?0:Math.max(...Object.values(e).map((e=>e.labelWidth))),o=this.props.newColumnAt;return o?r.jsxs("div",Object.assign({className:"block-form vertical-form row"},{children:[r.jsx("div",Object.assign({className:"col-md"},{children:t.slice(0,o).map((e=>this.renderEntry(e,n,i)))}),void 0),r.jsxs("div",Object.assign({className:"col-md"},{children:[t.slice(o).map((e=>this.renderEntry(e,n,i))),this.renderButtons(n)]}),void 0)]}),void 0):r.jsxs("div",Object.assign({className:(this.props.inline?"inline-form":"block-form")+" horizontal-form"},{children:[t.map((e=>this.renderEntry(e,n,i))),this.renderButtons(n)]}),void 0)}}t.RawInput=u},1158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawOutputEntries=void 0;const i=n(5893),r=n(3804),o=n(1837),s=n(2299),a=n(45),l=n(2815),d=n(6953);t.RawOutputEntries=function(e){var t,n;const c=null!==(t=e.outputSeparator)&&void 0!==t?t:" ",u=null!==(n=e.argumentSeparator)&&void 0!==n?n:" ";let h=!1;return i.jsx(r.Fragment,{children:Object.entries(e.entries).map((([t,n])=>{var p,f;const m=l.isDynamicEntry(n)?d.getCurrentState(e.store)[t]:s.normalizeToValue(n.defaultValue,void 0),g=n.transform?n.transform(m,d.getCurrentState(e.store)):Array.isArray(m)?m.join(null!==(p=n.valueSeparator)&&void 0!==p?p:", "):m.toString(),v=l.isDynamicEntry(n)&&"select"===n.inputType&&n.selectOptions?` (${s.normalizeToValue(n.selectOptions,d.getCurrentState(e.store))[m]})`:"";if(n.skip?n.skip(d.getCurrentState(e.store),m):a.isArgument(n)&&!m)return null;{const p=i.jsxs(r.Fragment,{children:[h&&c,i.jsx("span",Object.assign({title:n.name+": "+s.normalizeToValue(n.description,m)+v,className:(l.isDynamicEntry(n)?"dynamic":"static")+"-output"+o.colorClass(s.normalizeToValue(n.outputColor,m))},{children:a.isArgument(n)?(null!==(f=n[d.getCurrentState(e.store).shortForm?"shortForm":"longForm"])&&void 0!==f?f:n.longForm)+("boolean"!=typeof m?u+g:""):g}),void 0)]},t);return h=!0,p}}))},void 0)}},8441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawOutputFunction=void 0;const i=n(5893),r=n(3804),o=n(6953);t.RawOutputFunction=function(e){return i.jsx(r.Fragment,{children:e.function(o.getCurrentState(e.store))},void 0)}},6316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawPrompt=t.StaticPrompt=t.prompt=void 0;const i=n(5893),r=n(1837),o=n(2299),s=n(8385),a=n(6953);function l(e,n,a){return i.jsxs("div",Object.assign({className:"prompt"},{children:[i.jsx("span",Object.assign({title:t.prompt.name+": "+o.normalizeToValue(t.prompt.description,e),className:"dynamic-output"+r.colorClass(o.normalizeToValue(t.prompt.outputColor,e))},{children:e}),void 0)," ",i.jsx(s.ClickToCopy,Object.assign({newline:!a},{children:n}),void 0)]}),void 0)}t.prompt={name:"Prompt",description:"How the command-line interface prompts for user input.",defaultValue:"$",outputColor:"pink",inputType:"text",labelWidth:58,validate:e=>0===e.length&&"The prompt may not be empty."},t.StaticPrompt=function({children:e,noNewline:n}){return l(o.normalizeToValue(t.prompt.defaultValue,void 0),e,n)},t.RawPrompt=function({store:e,children:t,noNewline:n}){return l(a.getCurrentState(e).prompt,t,n)}},4318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareState=t.shareStore=void 0;const i=n(5893),r=n(3804);function o(e){return e.displayName||e.name||"Component"}t.shareStore=function(e,...t){return function(n){var s;return(s=class extends r.Component{componentDidMount(){e.subscribe(this,...t)}componentWillUnmount(){e.unsubscribe(this,...t)}render(){return i.jsx(n,Object.assign({store:e},this.props),void 0)}}).displayName=`ShareStore(${o(n)})`,s}},t.shareState=function(e,...t){return function(n){var s;return(s=class extends r.Component{componentDidMount(){e.subscribe(this,...t)}componentWillUnmount(){e.unsubscribe(this,...t)}render(){return i.jsx(n,Object.assign({},e.state,this.props),void 0)}}).displayName=`ShareState(${o(n)})`,s}}},6953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearState=t.nextState=t.previousState=t.clearErrors=t.mergeIntoCurrentState=t.setState=t.hasNoErrors=t.validateInputs=t.getCurrentState=t.getDefaultVersionedState=t.getDefaultState=void 0;const i=n(9309),r=n(2299),o=n(1966),s=n(2815);function a(e){const t={};for(const n of Object.keys(e))t[n]=r.normalizeToValue(e[n].defaultValue,void 0);return t}function l(e){const t={};for(const n of Object.keys(e))t[n]=!1;return t}function d(e){return e.state.states[e.state.index]}t.getDefaultState=a,t.getDefaultVersionedState=function(e){const t=a(e);return{states:[t],inputs:Object.assign({},t),errors:l(e),index:0}},t.getCurrentState=d;let c=0;function u(e){var t,n,i;const r=e.state.inputs,o=e.meta.entries;for(const s of Object.keys(o))e.state.errors[s]=null!==(i=null===(n=(t=o[s]).validate)||void 0===n?void 0:n.call(t,r[s],r))&&void 0!==i&&i}function h(e){return Object.values(e.state.errors).every((e=>!e))}function p(e,t,n=!1,o={},a=!0){const l=Object.assign(Object.assign({},e.state.inputs),t);if(e.state.inputs=l,u(e),e.state.errors=Object.assign(Object.assign({},e.state.errors),o),h(e)){const t=e.meta.entries,o=[],u=d(e);for(const e of Object.keys(t))s.equalValues(l[e],u[e])||o.push(e);if(o.length>0){for(const n of Object.keys(t))if(["select","multiple"].includes(t[n].inputType)){const i=Object.keys(r.normalizeToValue(t[n].selectOptions,l));if(0===i.length)throw new Error("There should always be at least one option to select.");if("select"===t[n].inputType)i.includes(l[n])||(e.state.inputs[n]=i[0],l[n]=i[0],o.push(n));else if("multiple"===t[n].inputType){const t=l[n],r=t.filter((e=>i.includes(e)));s.equalValues(t,r)||(e.state.inputs[n]=r,l[n]=r,o.push(n))}}a?(e.state.index+=1,e.state.states.splice(e.state.index,0,Object.assign({},l))):e.state.states[e.state.index]=Object.assign({},l)}e.update("input","state"),c++;const h=c;for(const e of o)r.normalizeToArray(t[e].onChange).forEach((t=>t(l[e],l,!1,h)));(o.length>0||n)&&r.normalizeToArray(e.meta.onChange).forEach((e=>e(l,!1))),o.length>0&&a&&i.report("Use tool",{Identifier:e.identifier})}else e.update("input")}function f(e){const t=e.state.errors;for(const e of Object.keys(t))t[e]=!1}function m(e,t){const n=e.meta.entries,i=d(e);e.state.index=t;const o=d(e);e.state.inputs=Object.assign({},o),f(e),e.update("input","state"),c++;const a=c;for(const e of Object.keys(n))s.equalValues(o[e],i[e])||r.normalizeToArray(n[e].onChange).forEach((t=>t(o[e],o,!0,a)));r.normalizeToArray(e.meta.onChange).forEach((e=>e(o,!0)))}t.validateInputs=u,t.hasNoErrors=h,t.setState=function(e,t={},n=!1){p(e,t,n)},t.mergeIntoCurrentState=function(e,t={},n={}){p(e,t,!1,n,!1)},t.clearErrors=f,t.previousState=function(e){0===e.state.index?console.warn("There is no previous state."):m(e,e.state.index-1)},t.nextState=function(e){e.state.index===e.state.states.length-1?console.warn("There is no next state."):m(e,e.state.index+1)},t.clearState=function(e){1===e.state.states.length?console.warn("There is no state to clear."):o.removeItem(e.identifier)}},9190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersistedStore=t.Store=void 0;const i=n(2299),r=n(1966);function o(e){return 0===e.length&&e.push("default"),e}class s{constructor(e,t,n="unknown"){this.state=e,this.meta=t,this.identifier=n,this.components={}}subscribe(e,...t){for(const n of o(t))i.getInitialized(this.components,n).push(e)}unsubscribe(e,...t){for(const n of o(t)){const t=i.getInitialized(this.components,n),r=t.indexOf(e);-1===r?console.error("store.ts: Tried to unsubscribe a component which was not subscribed."):t.splice(r,1)}}update(...e){const t=[];for(const n of o(e))t.push(...i.getInitialized(this.components,n));for(const e of t)e.forceUpdate()}setState(e,...t){Object.assign(this.state,e),this.update(...t)}}t.Store=s;t.PersistedStore=class extends s{constructor(e,t,n){super(Object.assign(Object.assign({},i.deepCopy(e)),r.getItem(n,(t=>{var n;void 0!==t?(this.state=t,super.update(...null!==(n=t.events)&&void 0!==n?n:[])):(this.state=i.deepCopy(e),super.update(...Object.keys(this.components)))}))),t,n),this.defaultState=e}update(...e){super.update(...e),this.state.events=e,r.setItem(this.identifier,this.state)}}},5136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.join=t.getUniqueKey=void 0;const i=n(5893),r=n(3804),o=n(7196);let s=0;t.getUniqueKey=function(){return s+=1,s},t.join=function(e,t=i.jsx(r.Fragment,{children:" "},void 0)){return e.length>0?e.reduce(((e,n)=>i.jsxs(r.Fragment,{children:[e,t,n]},void 0))):i.jsx(r.Fragment,{},void 0)},t.inject=function(e,t){o.render(t,document.getElementById(e))}},9241:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toolConversionUnixTime=void 0;const r=n(5893),o=n(2325),s=n(1026),a=n(4318),l=n(6953),d=n(9190);function c(){const e=v.state.inputs;e.lastInput="unixTime";let t=o.Time.fromUnix(e.unixTime);e.utc||(t=t.toLocalTime()),e.gregorianTime=t.toGregorianDateWithTime()}function u(){const e=v.state.inputs;e.lastInput="gregorianTime";let t=o.Time.fromGregorian(e.gregorianTime);e.utc||(t=t.toGlobalTime()),e.unixTime=t.toUnixTime()}const h="Format: YYYY-MM-DD at HH:MM:SS";const p={name:"Unix time",description:"The number of seconds since 1970-01-01 at 00:00:00 UTC without leap seconds.",defaultValue:()=>o.Time.current().toUnixTime(),inputType:"number",labelWidth:72,inputWidth:130,onInput:function(){c(),v.update("input")},determine:{text:"Now",title:"Use the current time.",onClick:function(){return i(this,void 0,void 0,(function*(){return v.state.inputs.unixTime=o.Time.current().toUnixTime(),c(),[v.state.inputs.unixTime,!1]}))}}},f={name:"Gregorian time",description:"The time in the familiar Gregorian calendar format: {Year}-{Month}-{Day} at {Hour}:{Minute}:{Second}.",defaultValue:o.Time.current().toGregorianDateWithTime(),inputType:"text",labelWidth:111,inputWidth:200,validate:e=>!o.gregorianFormat.test(e)&&h,onInput:function(){o.gregorianFormat.test(v.state.inputs.gregorianTime)?u():v.state.errors.gregorianTime=h,v.update("input")},determine:{text:"Round",title:"Round down to the start of the day.",onClick:function(e){return i(this,void 0,void 0,(function*(){return v.state.inputs.gregorianTime=o.Time.fromGregorian(e.gregorianTime).floorToDay().toGregorianDateWithTime(),u(),[v.state.inputs.gregorianTime,!1]}))}}},m={name:"UTC",description:"Whether the Gregorian time is in UTC or in your local time zone.",defaultValue:!0,inputType:"switch",labelWidth:36,onChange:function(){"unixTime"===v.state.inputs.lastInput?c():u(),l.mergeIntoCurrentState(v)}},g={unixTime:p,gregorianTime:f,utc:m,lastInput:{name:"Last input",description:"This field should never be visible to users.",defaultValue:"unixTime",inputType:"select",labelWidth:74,selectOptions:{unixTime:"Unix time",gregorianTime:"Gregorian time"}}},v=new d.PersistedStore(l.getDefaultVersionedState(g),{entries:g},"conversion-unix-time"),y=a.shareStore(v,"input")(s.RawInput);t.toolConversionUnixTime=r.jsx(y,{entries:{unixTime:p,gregorianTime:f,utc:m}},void 0)},5216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolEncodingBase64=void 0;const i=n(5893),r=n(1054),o=n(1026),s=n(4318),a=n(6953),l=n(9190);function d(){const e=v.state.inputs;e.lastInput="decoded",e.encoded=r.encodeBase64WithLineLengthLimit(e.decoded,e.charset)}function c(){const e=v.state.inputs;e.lastInput="encoded",e.decoded=r.decodeBase64(e.encoded,e.charset)}const u=/^[\sa-zA-Z0-9+/]*(=\s*){0,2}$/,h="This is not a valid Base64 string.";const p={name:"Decoded",description:"The Base64-decoded string.",defaultValue:"Buenos das!",inputType:"textarea",labelWidth:68,inputWidth:210,rows:3,onInput:function(){d(),v.update("input")}},f={name:"Encoded",description:"The Base64-encoded string.",defaultValue:"oUJ1ZW5vcyBk7WFzIQ==",inputType:"textarea",labelWidth:66,inputWidth:210,rows:3,validate:e=>!u.test(e)&&h,onInput:function(){u.test(v.state.inputs.encoded)?c():v.state.errors.encoded=h,v.update("input")}},m={name:"Charset",description:"The character set used to encode/decode the string.",defaultValue:"latin1",inputType:"select",labelWidth:61,selectOptions:{latin1:"ISO-8859-1",utf8:"UTF-8"},validate:(e,t)=>"decoded"===t.lastInput&&!r.isInLatin1Range(t.decoded)&&"latin1"===t.charset&&"Some characters are not in ISO-8859-1.",onChange:function(){"decoded"===v.state.inputs.lastInput?d():c(),a.mergeIntoCurrentState(v)}},g={decoded:p,encoded:f,charset:m,lastInput:{name:"Last input",description:"This field should never be visible to users.",defaultValue:"decoded",inputType:"select",labelWidth:74,selectOptions:{decoded:"Decoded",encoded:"Encoded"}}},v=new l.PersistedStore(a.getDefaultVersionedState(g),{entries:g},"encoding-base64"),y=s.shareStore(v,"input")(o.RawInput);t.toolEncodingBase64=i.jsx(y,{entries:{decoded:p,encoded:f,charset:m}},void 0)},1058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolEncodingEncodedWord=void 0;const i=n(5893),r=n(1054),o=n(1026),s=n(4318),a=n(6953);const l={decoded:{name:"Decoded",description:"The decoded word.",defaultValue:"Buenos das!",inputType:"text",labelWidth:68,inputWidth:310,onInput:function(){const e=d.state.inputs;e.encoded=r.encodeEncodedWordIfNecessary(e.decoded),d.update("input")}},encoded:{name:"Encoded",description:"The encoded word.",defaultValue:"=?ISO-8859-1?Q?=A1Buenos_d=EDas!?=",inputType:"textarea",labelWidth:66,inputWidth:310,rows:2,onInput:function(){const e=d.state.inputs;e.decoded=r.decodeEncodedWord(e.encoded),d.update("input")}}},d=new(n(9190).PersistedStore)(a.getDefaultVersionedState(l),{entries:l},"encoding-encoded-word"),c=s.shareStore(d,"input")(o.RawInput);t.toolEncodingEncodedWord=i.jsx(c,{entries:l},void 0)},9782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindExtendedParameters=t.toolEncodingExtendedParameter=void 0;const i=n(5893),r=n(1054),o=n(1026),s=n(4318),a=n(6953);function l(){const e=u.state.inputs;e.encoded=r.encodeExtendedParameter(e.decoded),u.update("input")}function d(){const e=u.state.inputs;e.decoded=r.decodeExtendedParameter(e.encoded),u.update("input")}const c={decoded:{name:"Decoded",description:"The parameter decoded according to RFC 2231.",defaultValue:'filename="Buenos das!.txt"',inputType:"textarea",labelWidth:68,inputWidth:300,rows:3,onInput:l},encoded:{name:"Encoded",description:"The parameter encoded according to RFC 2231.",defaultValue:"filename*=iso-8859-1'es'%A1Buenos%20d%EDas!.txt",inputType:"textarea",labelWidth:66,inputWidth:300,rows:3,onInput:d}},u=new(n(9190).PersistedStore)(a.getDefaultVersionedState(c),{entries:c},"encoding-extended-parameter"),h=s.shareStore(u,"input")(o.RawInput);function p(){const{decoded:e,encoded:t}=this.dataset;void 0!==e?(a.setState(u,{decoded:e.replace(/\\n/g,"\n")}),l()):void 0!==t&&(a.setState(u,{encoded:t.replace(/\\n/g,"\n")}),d())}t.toolEncodingExtendedParameter=i.jsx(h,{entries:c},void 0),t.bindExtendedParameters=function(){for(const e of document.getElementsByClassName("bind-extended-parameter")){const{decoded:t,encoded:n}=e.dataset;void 0===t==(void 0===n)?console.error("The data attributes of the following element are invalid:",e):e.addEventListener("click",p)}}},1071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindUnicodeNormalizations=t.toolEncodingNormalization=void 0;const i=n(5893),r=n(3804),o=n(2364),s=n(2299),a=n(6427),l=n(1026),d=n(4318),c=n(6953),u=n(9190),h={none:"None (depends on your system)",NFC:"Canonical composition (NFC)",NFD:"Canonical decomposition (NFD)",NFKC:"Compatibility composition (NFKC)",NFKD:"Compatibility decomposition (NFKD)"},p={input:{name:"Input",description:"The input that you want to normalize.",defaultValue:"Caf",inputType:"text",labelWidth:43,inputWidth:280},normalization:{name:"Normalization",description:"The form to which you want to normalize the input.",defaultValue:"none",inputType:"select",labelWidth:105,selectOptions:h}},f=new u.PersistedStore(c.getDefaultVersionedState(p),{entries:p},"encoding-normalization"),m=d.shareStore(f,"input")(l.RawInput);function g(e){switch(e){case 8:return i.jsx("small",{children:"BSP"},void 0);case 9:return i.jsx("small",{children:"TAB"},void 0);case 10:return i.jsx("small",{children:"LF"},void 0);case 13:return i.jsx("small",{children:"CR"},void 0);case 32:return i.jsx("small",{children:"SPACE"},void 0);case 160:return i.jsx("small",{children:"NBSP"},void 0);case 8203:return i.jsx("small",{children:"ZWSP"},void 0);case 8204:return i.jsx("small",{children:"ZWNJ"},void 0);case 8205:return i.jsx("small",{children:"ZWJ"},void 0);case 65039:return i.jsx("small",{children:"EMOJI"},void 0);default:const t=String.fromCodePoint(e);return/^\p{Mark}$/u.test(t)?""+t:t}}const v=d.shareState(f,"input")((function(e){const{input:t,normalization:n}=e.inputs,l=t.replace(/\\u\{([0-9A-Fa-f]{1,6})\}|\\u([0-9A-Fa-f]{4})|\\x([0-9A-Fa-f]{2})/g,((e,t,n,i)=>{var r;const o=null!==(r=null!=t?t:n)&&void 0!==r?r:i;if(void 0===o)throw new Error("At least one capturing group should be defined.");return String.fromCodePoint(Number.parseInt(o,16))})),d="none"!==n?l.normalize(n):l,c=s.filterUndefined(Array.from(d).map((e=>e.codePointAt(0))));return i.jsxs("p",Object.assign({className:"dynamic-output-pointer"},{children:[i.jsx("span",{className:"d-inline-block align-middle",style:{height:44}},void 0),i.jsx("span",Object.assign({className:"mr-1 align-middle"},{children:"Output:"}),void 0),c.map((e=>i.jsxs(a.DynamicOutput,Object.assign({className:"d-inline-block ml-1 align-middle text-center",title:"Click to look up this code point in a new window.",onClick:()=>window.open(`https://unicode-table.com/en/${s.toHex(e,4)}/`,"_blank")},{children:[i.jsx("div",{children:g(e)},void 0),i.jsx("div",Object.assign({className:"small color-gray"},{children:s.toHex(e)}),void 0)]}),void 0))),0!==c.length&&i.jsxs(r.Fragment,{children:[i.jsx("button",Object.assign({type:"button",className:"btn btn-sm btn-primary ml-3 align-middle",onClick:()=>o.copyToClipboard(d),title:"Copy the normalized string to your clipboard."},{children:"Copy the normalized string"}),void 0),i.jsx("button",Object.assign({type:"button",className:"btn btn-sm btn-primary ml-3 align-middle",onClick:()=>o.copyToClipboard(function(e){let t="";for(const n of e)t+=n<32||n>126?n<=255?"\\x"+s.toHex(n,2):n<=65535?"\\u"+s.toHex(n,4):"\\u{"+s.toHex(n,4)+"}":String.fromCodePoint(n);return t}(c)),title:"Copy the normalized string to your clipboard."},{children:"Copy the code points"}),void 0)]},void 0)]}),void 0)}));function y(){const{input:e,normalization:t}=this.dataset;c.setState(f,{input:e,normalization:t})}t.toolEncodingNormalization=i.jsxs(r.Fragment,{children:[i.jsx(m,{entries:p},void 0),i.jsx(v,{},void 0)]},void 0),t.bindUnicodeNormalizations=function(){for(const e of document.getElementsByClassName("bind-unicode-normalization")){const{input:t,normalization:n}=e.dataset;void 0!==t&&Object.keys(h).includes(n)?e.addEventListener("click",y):console.error("The data attributes of the following element are invalid:",e)}}},5827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolEncodingPercent=void 0;const i=n(5893),r=n(1054),o=n(1026),s=n(4318),a=n(6953),l=n(9190);function d(){const e=f.state.inputs;e.encoded=r.encodePercent(e.decoded,e.form,e.strict)}const c=/^[^%]*(%[0-9a-fA-F]{2}[^%]*)*$/,u="This is not a valid percent-encoded string.";function h(){d(),a.mergeIntoCurrentState(f)}const p={decoded:{name:"Decoded",description:"The Percent-decoded word.",defaultValue:"Buenos das!",inputType:"textarea",labelWidth:68,inputWidth:340,rows:3,onInput:function(){d(),f.update("input")}},encoded:{name:"Encoded",description:"The Percent-encoded word.",defaultValue:"%C2%A1Buenos%20d%C3%ADas!",inputType:"text",labelWidth:68,inputWidth:340,validate:e=>c.test(e)?function(e){try{r.decodePercent(e)}catch(e){return u}return!1}(e):u,onInput:function(){!function(){if(c.test(f.state.inputs.encoded))try{const e=f.state.inputs;e.decoded=r.decodePercent(e.encoded)}catch(e){f.state.errors.encoded=u}else f.state.errors.encoded=u}(),f.update("input")}},form:{name:"Form",description:"Whether to encode the space with a plus instead of %20. This is used when HTML forms are submitted.",defaultValue:!1,inputType:"switch",labelWidth:43,onChange:h},strict:{name:"Strict",description:"Whether to encode also !, ', (, ), and * as required by RFC 3986.",defaultValue:!1,inputType:"switch",labelWidth:43,onChange:h}},f=new l.PersistedStore(a.getDefaultVersionedState(p),{entries:p},"encoding-percent"),m=s.shareStore(f,"input")(o.RawInput);t.toolEncodingPercent=i.jsx(m,{entries:p,newColumnAt:2,individualLabelWidth:!0},void 0)},7449:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toolEncodingPunycode=void 0;const r=n(5893),o=i(n(3689)),s=n(2299),a=n(1026),l=n(4318),d=n(6953),c=n(9190),u=/^([\p{Letter}\p{Number}][\p{Letter}\p{Mark}\p{Number}\p{Join_Control}]*(-+[\p{Letter}\p{Number}][\p{Letter}\p{Mark}\p{Number}\p{Join_Control}]*)*(\.[\p{Letter}\p{Number}][\p{Letter}\p{Mark}\p{Number}\p{Join_Control}]*(-+[\p{Letter}\p{Number}][\p{Letter}\p{Mark}\p{Number}\p{Join_Control}]*)*)*\.?)?$/u,h="This is not a valid domain name.";function p(){const e=v.state.inputs;if(e.domain)if(u.test(e.decoded)){const t=e.decoded.toLowerCase(),n=t.normalize("NFKC");if(s.countOccurrences(t,/\./g)!==s.countOccurrences(n,/\./g))v.state.errors.decoded="The normalization of a character includes a dot.";else{e.encoded=o.default.toASCII(n);e.encoded.split(".").some((e=>e.length>63))&&(v.state.errors.decoded="One of the encoded labels is too long.")}}else v.state.errors.decoded=h;else e.encoded=o.default.encode(e.decoded);v.update("input")}const f="This is not a valid Punycode encoding.";const m={name:"Decoded",description:"The decoded Unicode string.",defaultValue:"Zrich",inputType:"text",labelWidth:68,inputWidth:245,validate:(e,{domain:t})=>t&&!u.test(e)&&h,onInput:function(){p(),v.update("input")}},g={decoded:m,encoded:{name:"Encoded",description:"The encoded Punycode string.",defaultValue:"Zrich-kva",inputType:"text",labelWidth:66,inputWidth:245,validate:function(){try{const e=v.state.inputs;e.domain?o.default.toUnicode(e.encoded):o.default.decode(e.encoded)}catch(e){return f}return!1},onInput:function(){!function(){try{const e=v.state.inputs;e.decoded=e.domain?o.default.toUnicode(e.encoded):o.default.decode(e.encoded)}catch(e){v.state.errors.encoded=f}}(),v.update("input")}},domain:{name:"Domain",description:"Whether to encode/decode the string as a domain name.",defaultValue:!1,inputType:"switch",labelWidth:60,onChange:function(){p(),d.mergeIntoCurrentState(v)}}},v=new c.PersistedStore(d.getDefaultVersionedState(g),{entries:g},"encoding-punycode"),y=l.shareStore(v,"input")(a.RawInput);t.toolEncodingPunycode=r.jsx(y,{entries:g},void 0)},3334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolEncodingQuotedPrintable=void 0;const i=n(5893),r=n(1054),o=n(1026),s=n(4318),a=n(6953),l=n(9190);function d(){const e=v.state.inputs;e.lastInput="decoded",e.encoded=r.encodeQuotedPrintable(e.decoded,e.charset)}function c(){const e=v.state.inputs;e.lastInput="encoded",e.decoded=r.decodeQuotedPrintable(e.encoded,e.charset)}const u=/^[\r\n\t\x20-\x3C\x3E-\x7E]*(=(\r?\n|[0-9a-fA-F]{2})[\r\n\t\x20-\x3C\x3E-\x7E]*)*$/,h="This is not a valid Quoted-Printable string.";const p={name:"Decoded",description:"The Quoted-Printable-decoded string.",defaultValue:"Buenos das!",inputType:"textarea",labelWidth:68,inputWidth:210,rows:3,onInput:function(){d(),v.update("input")}},f={name:"Encoded",description:"The Quoted-Printable-encoded string.",defaultValue:"=A1Buenos d=EDas!",inputType:"textarea",labelWidth:66,inputWidth:210,rows:3,validate:e=>!u.test(e)&&h,onInput:function(){u.test(v.state.inputs.encoded)?c():v.state.errors.encoded=h,v.update("input")}},m={name:"Charset",description:"The character set used to encode/decode the string.",defaultValue:"latin1",inputType:"select",labelWidth:61,selectOptions:{latin1:"ISO-8859-1",utf8:"UTF-8"},validate:(e,t)=>"decoded"===t.lastInput&&!r.isInLatin1Range(t.decoded)&&"latin1"===t.charset&&"Some characters are not in ISO-8859-1.",onChange:function(){"decoded"===v.state.inputs.lastInput?d():c(),a.mergeIntoCurrentState(v)}},g={decoded:p,encoded:f,charset:m,lastInput:{name:"Last input",description:"This field should never be visible to users.",defaultValue:"decoded",inputType:"select",labelWidth:74,selectOptions:{decoded:"Decoded",encoded:"Encoded"}}},v=new l.PersistedStore(a.getDefaultVersionedState(g),{entries:g},"encoding-quoted-printable"),y=s.shareStore(v,"input")(o.RawInput);t.toolEncodingQuotedPrintable=i.jsx(y,{entries:{decoded:p,encoded:f,charset:m}},void 0)},3290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolFormatDkim=t.setDkimState=t.getDefaultDkimState=void 0;const i=n(5893),r=n(3804),o=n(6427),s=n(8385),a=n(1026),l=n(1158),d=n(4318),c=n(6953),u=n(9190),h={name:"Key type",longForm:"k",description:"The name of the used signing algorithm.",defaultValue:"rsa",inputType:"select",labelWidth:66,selectOptions:{rsa:"RSA",ed25519:"ED25519"},skip:(e,t)=>e.minimalOutput&&"rsa"===t},p={name:"Public key",longForm:"p",description:"The public key encoded with Base64. An empty value means that this public key has been revoked.",defaultValue:"",inputType:"textarea",labelWidth:76,inputWidth:280,rows:3,skip:()=>!1,validate:e=>!/^[\sa-zA-Z0-9+/]*(=\s*){0,2}$/.test(e)&&"The public key has to be Base64 encoded.",transform:e=>e.replace(/\s*/g,"")},f={name:"Hash algorithms",longForm:"h",description:"A colon-separated list of acceptable hash algorithms. By not specifying this tag, all algorithms are allowed.",defaultValue:"all",inputType:"select",labelWidth:119,selectOptions:{all:"All",sha256:"SHA-256"},skip:(e,t)=>"all"===t},m={name:"Service types",longForm:"s",description:"A colon-separated list of the services for which this key is used.",defaultValue:"*",inputType:"select",labelWidth:98,selectOptions:{"*":"All",email:"Email",tlsrpt:"TLSRPT"},skip:(e,t)=>e.minimalOutput&&"*"===t},g={name:"Flags",longForm:"t",description:"A colon-separated list of flags.",defaultValue:[],valueSeparator:":",inputType:"multiple",labelWidth:41,selectOptions:{y:"Just testing, ignore signatures",s:"No subdomain in user identifier"},skip:(e,t)=>0===t.length},v={minimalOutput:{name:"Minimal output",description:"Whether to only output the parameters which are different from their default value.",defaultValue:!0,inputType:"switch",labelWidth:113},keyType:h,publicKey:p,hashAlgorithms:f,serviceTypes:m,flags:g},y=new u.PersistedStore(c.getDefaultVersionedState(v),{entries:v},"format-dkim"),b=d.shareStore(y,"input")(a.RawInput),x=d.shareStore(y,"state")(l.RawOutputEntries);t.getDefaultDkimState=function(){return c.getDefaultState(v)},t.setDkimState=function(e){c.setState(y,e)};const w={name:"Version",longForm:"v",description:"The version of the DKIM standard.",defaultValue:"DKIM1"};t.toolFormatDkim=i.jsxs(r.Fragment,{children:[i.jsx(b,{entries:v,newColumnAt:3},void 0),i.jsx(o.CodeBlock,Object.assign({wrapped:!0},{children:i.jsx(s.ClickToCopy,{children:i.jsx(x,{entries:{version:w,keyType:h,hashAlgorithms:f,serviceTypes:m,flags:g,publicKey:p},outputSeparator:"; ",argumentSeparator:"="},void 0)},void 0)}),void 0)]},void 0)},4683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolFormatDmarc=t.setDmarcState=t.getDefaultDmarcState=t.dmarcAddressesRegex=t.dmarcAddressRegex=void 0;const i=n(5893),r=n(3804),o=n(6427),s=n(8385),a=n(1026),l=n(1158),d=n(4318),c=n(6953),u=n(9190),h=n(9071),p={name:"Domain policy",longForm:"p",description:"What the receiver shall do with messages that fail the authentication or the alignment check.",defaultValue:"reject",inputType:"select",labelWidth:105,selectOptions:{none:"None",quarantine:"Quarantine",reject:"Reject"}},f={name:"Subdomain policy",longForm:"sp",description:"The policy which shall be applied to subdomains. Only set this on organizational domains.",defaultValue:"inherit",inputType:"select",labelWidth:128,selectOptions:{inherit:"Inherit",none:"None",quarantine:"Quarantine",reject:"Reject"},skip:(e,t)=>"inherit"===t||t===e.domainPolicy};function m(e){return"none"===e.domainPolicy&&["inherit","none"].includes(e.subdomainPolicy)}const g={name:"Rollout percentage",longForm:"pct",description:"What percentage of unauthentic messages shall be handled according to the previous policies.",defaultValue:100,inputType:"range",minValue:0,maxValue:100,stepValue:1,labelWidth:138,skip:(e,t)=>m(e)||e.minimalOutput&&100===t,disable:m};function v(e,t){return e.minimalOutput&&"r"===t}const y={name:"SPF alignment",longForm:"aspf",description:"Indicate whether strict or relaxed SPF identifier alignment is required. (Relaxed means that only the organizational domains have to match.)",defaultValue:"r",inputType:"select",labelWidth:105,selectOptions:{r:"relaxed",s:"strict"},skip:v},b={name:"DKIM alignment",longForm:"adkim",description:"Indicate whether strict or relaxed DKIM identifier alignment is required. (Relaxed means that only the organizational domains have to match.)",defaultValue:"r",inputType:"select",labelWidth:120,selectOptions:{r:"relaxed",s:"strict"},skip:v},x=`(${h.emailAddressRegexString}(!\\d+[kmgt]?)?)`;t.dmarcAddressRegex=h.regex(x);const w=`(${x}(, *${x})*)?`;function S(e){return!t.dmarcAddressesRegex.test(e)&&"Please enter one or more email addresses."}function T(e){return e.split(",").map((e=>"mailto:"+e.trim().split("@").map(((e,t)=>0===t?e.replace(/!/g,"%21"):e)).join("@"))).join(",")}t.dmarcAddressesRegex=h.regex(w);const j={name:"Aggregate reports",longForm:"rua",description:"A comma-separated list of email addresses to which aggregate feedback is to be sent.",defaultValue:"",inputType:"text",labelWidth:133,inputWidth:240,placeholder:"Email address",validate:S,transform:T},k={name:"Report interval",longForm:"ri",description:"The desired interval between aggregate reports. In the input in hours, in the output in seconds.",defaultValue:24,inputType:"number",labelWidth:111,inputWidth:120,minValue:1,stepValue:1,skip:(e,t)=>!e.aggregateReports||e.minimalOutput&&24===t,disable:e=>!e.aggregateReports,validate:e=>e<1&&"The value has to be at least 1.",transform:e=>String(3600*e)},_={name:"Failure reports",longForm:"ruf",description:"A comma-separated list of email addresses to which individual failures are to be reported.",defaultValue:"",inputType:"text",labelWidth:109,inputWidth:240,placeholder:"Email address",validate:S,transform:T},E={name:"Report format",longForm:"rf",description:"The format to be used for failure reports. Only a single format has been defined so far.",defaultValue:["afrf"],valueSeparator:":",inputType:"multiple",labelWidth:105,selectOptions:{afrf:"Authentication Failure Reporting Format (AFRF)"},skip:(e,t)=>!e.failureReports||e.minimalOutput&&1===t.length&&"afrf"===t[0],validate:e=>0===e.length&&"At least one report format has to be selected.",disable:e=>!e.failureReports},C={name:"Report when",longForm:"fo",description:"Specify for which events a failure report shall be sent.",defaultValue:["0"],valueSeparator:":",inputType:"multiple",labelWidth:95,selectOptions:{0:"All authentication mechanisms fail (incl. alignment)",1:"Any authentication mechanism fails (incl. alignment)",d:"DKIM signature fails (regardless of alignment)",s:"SPF evaluation fails (regardless of alignment)"},skip:(e,t)=>!e.failureReports||e.minimalOutput&&1===t.length&&"0"===t[0],validate:e=>0===e.length&&"At least one report option has to be selected.",disable:e=>!e.failureReports},O={minimalOutput:{name:"Minimal output",description:"Whether to only output the parameters which are different from their default value.",defaultValue:!0,inputType:"switch",labelWidth:113},domainPolicy:p,subdomainPolicy:f,rolloutPercentage:g,spfAlignment:y,dkimAlignment:b,aggregateReports:j,reportInterval:k,failureReports:_,reportFormat:E,reportOptions:C},A=new u.PersistedStore(c.getDefaultVersionedState(O),{entries:O},"format-dmarc"),R=d.shareStore(A,"input")(a.RawInput),I=d.shareStore(A,"state")(l.RawOutputEntries);t.getDefaultDmarcState=function(){return c.getDefaultState(O)},t.setDmarcState=function(e){c.setState(A,e)};const P={name:"Version",longForm:"v",description:"The version of the DMARC standard.",defaultValue:"DMARC1"};t.toolFormatDmarc=i.jsxs(r.Fragment,{children:[i.jsx(R,{entries:O,newColumnAt:8},void 0),i.jsx(o.CodeBlock,Object.assign({wrapped:!0},{children:i.jsx(s.ClickToCopy,{children:i.jsx(I,{entries:{version:P,domainPolicy:p,subdomainPolicy:f,rolloutPercentage:g,spfAlignment:y,dkimAlignment:b,aggregateReports:j,reportInterval:k,failureReports:_,reportFormat:E,reportOptions:C},outputSeparator:"; ",argumentSeparator:"="},void 0)},void 0)}),void 0)]},void 0)},2058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolFormatSieve=void 0;const i=n(5893),r=n(3804),o=n(2299),s=n(6427),a=n(8385),l=n(1026),d=n(1158),c=n(4318),u=n(6953),h=n(9190),p={name:"Condition",description:"Under what condition the action shall be executed.",defaultValue:"Subject",inputType:"select",labelWidth:75,selectOptions:{From:"From",To:"To",Cc:"Cc",Subject:"Subject",Body:"Body",Always:"Always"},transform:e=>{switch(e){case"From":case"To":case"Cc":return"address";case"Subject":return"header";case"Body":return"body";case"Always":return"true";default:return console.error("Unknown Sieve condition:",e),"ERROR"}}},f={name:"Address part",description:"Which part of the address shall be matched.",defaultValue:"all",inputType:"select",labelWidth:95,selectOptions:{all:"Whole address",localpart:"Local part",domain:"Domain part"},transform:e=>":"+e,skip:({condition:e})=>["Subject","Body","Always"].includes(e),disable:({condition:e})=>["Subject","Body","Always"].includes(e)},m={name:"Match type",description:"How the field has to match the value.",defaultValue:"contains",inputType:"select",labelWidth:85,selectOptions:{contains:"Contains",beginsWith:"Begins with",endsWith:"Ends with",isEqualTo:"Is equal to",matches:"Matches"},transform:e=>{switch(e){case"contains":return":contains";case"beginsWith":case"endsWith":return":matches";case"isEqualTo":return":is";case"matches":return":matches";default:return console.error("Unknown Sieve match type:",e),"ERROR"}},skip:({condition:e})=>"Always"===e,disable:({condition:e})=>"Always"===e};function g(e){return"Always"===e.condition}const v={name:"Value",description:"The value to match the selected field.",defaultValue:"Test",inputType:"text",labelWidth:45,inputWidth:260,transform:(e,{matchType:t})=>"beginsWith"===t?o.doubleQuote(e+"*"):"endsWith"===t?o.doubleQuote("*"+e):o.doubleQuote(e),skip:g,disable:g},y={name:"Negation",description:"Whether to negate the condition.",defaultValue:!1,inputType:"checkbox",labelWidth:70,transform:()=>"not",skip:({condition:e},t)=>"Always"===e||!t,disable:g},b={name:"Action",description:"What you want to do with the messages which satisfy the condition.",defaultValue:"addflag",inputType:"select",labelWidth:51,selectOptions:{fileinto:"Move",redirect:"Forward",discard:"Delete",addflag:"Flag",vacation:"Reply"}},x={name:"Argument",description:"The argument to the chosen action.",defaultValue:"\\Seen",inputType:"text",labelWidth:76,inputWidth:260,transform:o.doubleQuote,skip:({action:e})=>"discard"===e,disable:({action:e})=>"discard"===e},w={condition:p,addressPart:f,matchType:m,value:v,negation:y,action:b,argument:x},S=new h.PersistedStore(u.getDefaultVersionedState(w),{entries:w},"format-sieve"),T=c.shareStore(S,"input")(l.RawInput),j=c.shareStore(S,"state")(d.RawOutputEntries);function k(e){const t=[];return"Body"===e.condition&&t.push("body"),"fileinto"===e.action&&t.push("fileinto"),"addflag"===e.action&&t.push("imap4flags"),"vacation"===e.action&&t.push("vacation"),t}const _={name:"Extensions",description:"Declaration of the extensions which are required by this script.",defaultValue:"",transform:(e,t)=>{const n=k(t).map(o.doubleQuote);return 1===n.length?`require ${n[0]};\n`:`require [${n.join(", ")}];\n`},skip:e=>0===k(e).length},E={name:"Control command",description:"The action in the curly brackets is only executed if the condition is true.",defaultValue:"if"},C={name:"Field",description:"The name of the field whose value has to match the provided value.",defaultValue:"",transform:(e,{condition:t})=>o.doubleQuote(t),skip:({condition:e})=>["Body","Always"].includes(e)};t.toolFormatSieve=i.jsxs(r.Fragment,{children:[i.jsx(T,{entries:w,newColumnAt:4},void 0),i.jsx(s.CodeBlock,{children:i.jsxs(a.ClickToCopy,Object.assign({newline:!0},{children:[i.jsx(j,{entries:{_require:_}},void 0),i.jsx(j,{entries:{_if:E,negation:y,condition:p,addressPart:f,matchType:m,field:C,value:v}},void 0)," ","{",i.jsx("br",{},void 0),"    ",i.jsx(j,{entries:{action:b,argument:x}},void 0),";",i.jsx("br",{},void 0),"}"]}),void 0)},void 0)]},void 0)},6037:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toolInstructionHashing=void 0;const r=n(5893),o=i(n(3482)),s=n(3804),a=n(2299),l=n(6427),d=n(8385),c=n(1026),u=n(6316),h=n(4318),p=n(6953),f=n(9190),m={md5:"MD5 [deprecated]",ripemd160:"RIPEMD-160",sha1:"SHA-1 [deprecated]",sha224:"SHA-224",sha256:"SHA-256",sha384:"SHA-384",sha512:"SHA-512"},g={input:{name:"Input",description:"The input that you want to hash.",defaultValue:"Hello",inputType:"text",labelWidth:43,inputWidth:300},algorithm:{name:"Algorithm",description:"The cryptographic hash function that you want to apply to the input.",defaultValue:"sha256",inputType:"select",labelWidth:76,selectOptions:m},uppercase:{name:"Uppercase",description:"Whether to output the hexadecimal characters in uppercase.",defaultValue:!1,inputType:"switch",labelWidth:80}},v=new f.PersistedStore(p.getDefaultVersionedState(g),{entries:g},"instruction-hashing"),y=h.shareStore(v,"input")(c.RawInput);const b=h.shareState(v,"input")((function(e){const{input:t,algorithm:n,uppercase:i}=e.inputs,s=o.default(n).update(t).digest("hex");return r.jsxs(l.CodeBlock,{children:[r.jsxs(u.StaticPrompt,{children:["printf '%s' ",a.singleQuote(t)," | openssl ",n,i&&" | tr [:lower:] [:upper:]"]},void 0),r.jsx(d.ClickToCopy,{children:r.jsx(l.DynamicOutput,Object.assign({title:`The ${m[n]} hash of the given input. Click to copy.`},{children:i?s.toUpperCase():s}),void 0)},void 0)]},void 0)}));t.toolInstructionHashing=r.jsxs(s.Fragment,{children:[r.jsx(y,{entries:g},void 0),r.jsx(b,{},void 0)]},void 0)},6670:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.bindDnsQueries=t.toolLookupDnsRecords=t.setDnsResolverInputs=void 0;const r=n(5893),o=n(3804),s=n(2325),a=n(6427),l=n(1026),d=n(4318),c=n(6953),u=n(9190),h=n(5136),p=n(6009),f=n(9238);function m(e){return e>129600?(e%86400!=0?"~":"")+Math.round(e/86400)+" days":e>5400?(e%3600!=0?"~":"")+Math.round(e/3600)+" hours":e>90?(e%60!=0?"~":"")+Math.round(e/60)+" minutes":e+" seconds"}const g={0:"The DNS public key in this record may not be used to verify RRSIG records.",256:"The DNS public key in this record can be used to verify RRSIG records. It is marked as a zone-signing key (ZSK).",257:"The DNS public key in this record can be used to verify RRSIG records. It is marked as a key-signing key (KSK)."},v={0:"This value asks the parent zone to disable DNSSEC for this child zone. It can only be used in CDS and CDNSKEY records. See the section 4 of RFC 8078 for more information.",8:"This record contains an RSA public key whose private key is used to sign the SHA-256 hash of a message.",13:"This record contains an ECDSA public key whose private key is used to sign the SHA-256 hash of a message.",14:"This record contains an ECDSA public key whose private key is used to sign the SHA-384 hash of a message.",15:"This record contains an Ed25519 public key.",16:"This record contains an Ed448 public key."},y={8:"RSA/SHA-256",13:"ECDSA/SHA-256",14:"ECDSA/SHA-384",15:"Ed25519",16:"Ed448"},b={1:"SHA-1",2:"SHA-256",3:"GOST R 34.10-2001",4:"SHA-384"},x={0:"Reserved",1:"RSA",2:"DSA",3:"ECDSA",4:"Ed25519",5:"Unassigned",6:"Ed448"},w={0:"Reserved",1:"SHA-1",2:"SHA-256"},S={0:"PKIX-TA. (PKIX means that the certificate also has to be trusted in the X.509 public key infrastructure and TA means that the certificate belongs to a trust anchor, i.e. a certificate authority.)",1:"PKIX-EE. (PKIX means that the certificate also has to be trusted in the X.509 public key infrastructure and EE means that the certificate belongs to the end entity, i.e. the server itself.)",2:"DANE-TA. (DANE means that the certificate does not have to be trusted in the X.509 public key infrastructure and TA means that the certificate belongs to a trust anchor/certificate authority.)",3:"DANE-EE. (DANE means that the certificate does not have to be trusted in the X.509 public key infrastructure and EE means that the certificate belongs to the end entity, i.e. the server itself.)",255:"PrivCert (reserved for private use)."},T={0:"the entire certificate has to match",1:"only the subject's public key information (SPKI) has to match",255:"this record is used for private purposes"},j={0:"the entire text of the selected content",1:"the SHA-256 hash of the selected content",2:"the SHA-512 hash of the selected content",255:"used for private purposes"},k=e=>{var t,n;return r.jsx(a.StaticOutput,Object.assign({title:"The data of this record in the hexadecimal generic format."},{children:null!==(n=null===(t=e.data.split(" ")[2])||void 0===t?void 0:t.toUpperCase())&&void 0!==n?n:e.data}),void 0)},_=e=>V(e,"A"),E=e=>window.open("http://"+e.slice(0,-1)),C={regexp:/^\d+ \d+ \d+ ([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/,fields:[{title:e=>{var t;return"Flags: "+(null!==(t=g[e])&&void 0!==t?t:"This record uses flags which are not supported by this tool.")}},{title:"Protocol: For DNSSEC, this value has to be 3."},{title:e=>{var t;return"Algorithm: "+(null!==(t=v[e])&&void 0!==t?t:"This record contains a public key whose algorithm is either not known to this tool or not recommended.")}},{title:"The public key encoded in Base64."}]},O={regexp:/^\d+ \d+ \d+ [A-F0-9]+$/,fields:[{title:"Key tag: This value allows resolvers to quickly determine which key is referenced. The value is calculated according to appendix B of RFC 4034. It is basically the DNSKEY record data split into chunks of 16 bits and then summed up."},{title:e=>{var t;return`Algorithm: The same value as in the corresponding DNSKEY record. (${e} stands for ${null!==(t=y[e])&&void 0!==t?t:"an unsupported or not recommended algorithm"}.)`}},{title:e=>{var t;return`Digest type: This value identifies the algorithm used to hash the public key. (${e} stands for ${null!==(t=b[e])&&void 0!==t?t:"a hash algorithm which is not known to this tool"}.)`}},{title:e=>`Digest: The hash of the public key in the delegated zone. It is displayed in hexadecimal notation, which means that each character represents 4 bits. Since the hash consists of ${e.length} hexadecimal characters, it encodes ${4*e.length} bits.`}]},A={ANY:e=>r.jsx("span",{children:e.data},void 0),A:{regexp:/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fields:[{title:(e,t)=>`The IPv4 address of ${t.name} Click to do a reverse lookup. Right click to geolocate the IP address.`,onClick:e=>V(p.getReverseLookupDomain(e),"PTR"),onContextMenu:e=>{f.setIpInfoInput(e),window.location.hash="#tool-lookup-ip-address"}}]},AAAA:{regexp:/^.+$/,fields:[{title:(e,t)=>`The IPv6 address of ${t.name}`}]},CAA:{regexp:/^\d{1,3} (issue|issuewild|iodef) "\S+"$/,fields:[{title:e=>"The most significant bit of this number is the issuer critical flag. "+(128&parseInt(e,10)?"Because this bit is set to 1, a certificate issuer has to understand the subsequent property before issuing a certificate.":"Because this bit is set to 0, a certificate issuer may issue a certificate without understanding the subsequent property.")+" Since the subsequent property has been defined in the original standard (RFC 6844), this flag only matters for future versions of the CAA record with new property types."},{title:e=>("issue"===e?'The "issue" property authorizes the holder and only the holder of the domain name in the subsequent value to issue normal certificates for the queried domain name.':"issuewild"===e&&'The "issuewild" property authorizes the holder and only the holder of the domain name in the subsequent value to issue wildcard certificates for the queried domain name.')||"iodef"===e&&'The "iodef" (Incident Object Description Exchange Format) property indicates how an unauthorized certificate issuer can report a fraudulent certificate request to the holder of the queried domain name.'||"Error"},{title:"The value which is to be interpreted according to the preceding property."}]},CNAME:{regexp:/^([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]\.$/i,fields:[{title:(e,t)=>`The domain name for which ${t.name.slice(0,-1)} is an alias. Click to look up its resource records of the same type. Right click to open the domain in your browser.`,onClick:e=>c.setState(D,{domainName:e}),onContextMenu:E}]},MX:{regexp:/^\d+ (([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9])?\.$/i,fields:[{title:"The priority of the subsequent host. The lower the value, the higher the priority. Several records with the same priority can be used for load balancing, otherwise additional records simply provide redundancy."},{title:(e,t)=>"."===e?`This MX record indicates that ${t.name.slice(0,-1)} doesn't accept mail.`:`A host which handles incoming mail for ${t.name} Click to look up its IPv4 address. The host name must resolve directly to one or more address records without involving CNAME records.`,onClick:_}]},NS:{regexp:/^([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]\.$/i,fields:[{title:(e,t)=>`An authoritative name server for the DNS zone starting at ${t.name} Click to look up its IPv4 address.`,onClick:_}]},OPENPGPKEY:k,PTR:{regexp:/^([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]\.$/i,fields:[{title:"This is typically the domain name from a reverse DNS lookup. Click to look up its IPv4 address. If it matches the IP address that was looked up in reverse, then the domain holder also holds that IP address. Without a match, the reference in either direction can be fraudulent. Right click to open the domain in your browser.",onClick:_,onContextMenu:E}]},SMIMEA:k,SOA:{regexp:/^([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]\. ([a-z0-9_]+(-[a-z0-9]+)*\\?\.)+[a-z]{2,63}\. \d+ \d+ \d+ \d+ \d+$/i,fields:[{title:(e,t)=>`The primary name server for the DNS zone ${t.name} Click to look up its IPv4 address.`,onClick:_},{title:e=>"The email address of the administrator responsible for this zone. The first non-escaped period is replaced with an @, so the address actually is "+e.replace(/\\\./g,":").replace(".","@").replace(/:/g,".")},{title:"The serial number for this zone. If it increases, then the zone has been updated."},{title:"The number of seconds after which secondary name servers should query the primary name server again in order to refresh their copy."},{title:"The number of seconds after which secondary name servers should retry to request the serial number from the primary name server if it does not respond."},{title:"The number of seconds after which secondary name servers should stop answering requests for this zone if the primary name server no longer responds."},{title:"The number of seconds for which the non-existence of a resource record can be cached by DNS resolvers."}]},SPF:e=>r.jsx(a.StaticOutput,Object.assign({title:`This record specifies the IP addresses of the outgoing mail servers of ${e.name} SPF stands for Sender Policy Framework. This record type has been obsoleted by RFC 7208. You should just use a TXT record for this now.`},{children:e.data}),void 0),SRV:{regexp:/^\d+ \d+ \d+ (([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9])?\.$/i,fields:[{title:"The priority of the host at the end of this record. Clients should use the SRV record with the lowest priority value first and fall back to records with higher priority values if the connection fails."},{title:"A relative weight for records with the same priority. If a service has multiple SRV records with the same priority value, each client should load balance them in proportion to the values of their weight fields."},{title:"The TCP or UDP port on which the service can be found."},{title:e=>"The host which provides the service. "+("."===e?"The period means that the service is not available at this domain.":"Click to look up its IPv4 address."),onClick:_}]},SSHFP:{regexp:/^\d+ \d+ [0-9A-Fa-f]+$/,fields:[{title:e=>{var t;return`Public key algorithm: ${e} stands for ${null!==(t=x[e])&&void 0!==t?t:"an algorithm unknown to this tool"}.`}},{title:e=>{var t;return`Hash algorithm: ${e} stands for ${null!==(t=w[e])&&void 0!==t?t:"an algorithm unknown to this tool"}.`}},{title:"The fingerprint of the public key encoded in hexadecimal.",transform:e=>e.toUpperCase()}]},TLSA:{regexp:/^\d+ \d+ \d+ [0-9A-Fa-f]+$/,fields:[{title:e=>{var t;return`Certificate usage: How to verify the server's certificate. ${e} stands for ${null!==(t=S[e])&&void 0!==t?t:"unassigned. (This is likely an error.)"}`}},{title:e=>{var t;return`Selector: Which part of the certificate has to match. ${e} means that ${null!==(t=T[e])&&void 0!==t?t:"the domain owner likely made a mistake because this value is unassigned"}.`}},{title:e=>{var t;return`Matching type: How the certificate association data is presented. ${e} means that the certificate association data is ${null!==(t=j[e])&&void 0!==t?t:"used for an unassigned purpose"}.`}},{title:"The certificate association data as indicated by the previous fields.",transform:e=>e.toUpperCase()}]},TXT:e=>r.jsx(a.StaticOutput,Object.assign({title:"The arbitrary, text-based data of this record."},{children:e.data}),void 0),DNSKEY:C,DS:O,RRSIG:{regexp:/^[a-z0-9]{1,10} \d+ \d+ \d+ \d+ \d+ \d+ (([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z][-a-z0-9]{0,61}[a-z0-9])?\. ([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/i,fields:[{title:e=>{var t;return`Type covered: The record type covered by the signature in this record. A DNSSEC signature covers all the records of the given type. The records are first sorted, then hashed and signed collectively. (${null!==(t=p.recordTypes[p.mapRecordTypeFromGoogle(e.toUpperCase())])&&void 0!==t?t:"Unsupported record type."})`},transform:e=>p.mapRecordTypeFromGoogle(e.toUpperCase())},{title:e=>{var t;return`Algorithm: This number identifies the cryptographic algorithm used to create and verify the signature. (${e} stands for ${null!==(t=y[e])&&void 0!==t?t:"an unsupported or not recommended algorithm"}.)`}},{title:"Labels: The number of labels in the domain name to which this record belongs. The empty label for the root and a potential wildcard label are not counted. For example, '*.example.com.' has a label count of 2. This allows a validator to determine whether the answer was synthesized for a wildcard subdomain. Since the signature covers the wildcard label instead of the queried subdomain, a validator needs to be able to detect this in order to verify the signature successfully."},{title:e=>`Original TTL: Since the actual time to live value is decremented when a cached record is returned, the original time to live value of the signed record needs to be provided in this RRSIG record in order to be able to verify the signature, which covers this value. (${e} seconds are ${m(Number.parseInt(e,10))}.)`},{title:e=>`Signature expiration: The signature in this record may not be used to authenticate the signed resource records after ${s.Time.fromUnix(e).toLocalTime().toGregorianDateWithTime()}. The date is encoded as the number of seconds elapsed since 1 January 1970 00:00:00 UTC. For record types other than DNSKEY and DS used for key-signing keys (KSKs), the expiration date shouldn't be too far in the future as it limits for how long an attacker can successfully replay stale resource records, which have been replaced by the domain owner.`},{title:e=>`Signature inception: The signature in this record may not be used to authenticate the signed resource records before ${s.Time.fromUnix(e).toLocalTime().toGregorianDateWithTime()}. The date is encoded as the number of seconds elapsed since 1 January 1970 00:00:00 UTC. The inception date allows you to already sign records which you intend to publish at a certain point in the future without risking that the signature can be misused until then.`},{title:"Key tag: This value allows resolvers to quickly determine which key needs to be used to verify the signature in this record. The value is calculated according to appendix B of RFC 4034. It is basically the DNSKEY record data split into chunks of 16 bits and then summed up."},{title:"Signer name: The domain name with the DNSKEY record that contains the public key to validate this signature. It has to be the name of the zone that contains the signed resource records. Click to look up the DNSKEY records of this domain.",onClick:e=>V(e,"DNSKEY")},{title:"Signature: The signature value encoded in Base64."}]},NSEC:e=>{const t=e.data.split(" "),n=t.splice(0,1)[0];return r.jsxs(o.Fragment,{children:[r.jsx(a.DynamicOutput,Object.assign({title:`This is the next domain name in this zone. This record indicates that no domain exists between ${e.name.slice(0,-1)} and ${n} Click to look up its next domain name. Right click to open the domain in your browser.`,onClick:()=>V(n,"NSEC"),onContextMenu:e=>{E(n),e.preventDefault()}},{children:n}),void 0)," ",h.join(t.map((t=>r.jsx("span",Object.assign({className:p.recordTypes[t]?"dynamic-output":"static-output",title:`This entry indicates that ${e.name.slice(0,-1)} has ${["A","M","N","R","S"].includes(t[0])?"an":"a"} ${t} record. Click to look up this record type.`,onClick:p.recordTypes[t]?()=>V(e.name,t):void 0},{children:t}),void 0))))]},void 0)},NSEC3:e=>{const t=e.data.split(" "),[n,i,s,l,d]=t.splice(0,5),c=e.name.substring(0,e.name.indexOf("."));return r.jsxs(o.Fragment,{children:[r.jsx(a.StaticOutput,Object.assign({title:"Algorithm: This value identifies the cryptographic hash function used to hash the subdomains in this zone. 1 stands for SHA-1, which is the only algorithm currently supported."},{children:n}),void 0)," ",r.jsx(a.StaticOutput,Object.assign({title:`Opt-out flag: If this value is 1, there can be unsigned subzones whose hash is between ${c} and ${d}. Otherwise, there are no unsigned subzones that fall in this range. By skipping all subzones that don't deploy DNSSEC, the size of this zone can be reduced as fewer NSEC3 records are required.`},{children:i}),void 0)," ",r.jsx(a.StaticOutput,Object.assign({title:"Iterations: This value specifies how many additional times the hash function is applied to a subdomain name. (A value of 0 means that the subdomain name is hashed only once in total.) By hashing the result of the hash function again, then its result again and so on, the computational cost to brute-force the name of the hashed subdomain can be increased."},{children:s}),void 0)," ",r.jsx(a.StaticOutput,Object.assign({title:"Salt: Optionally, an arbitrary value can be provided here to be mixed into the hash function in order to make pre-calculated dictionary attacks harder. This prevents an attacker from simultaneously brute-forcing the subdomains of zones which use different salts."},{children:l}),void 0)," ",r.jsx(a.StaticOutput,Object.assign({title:`This is the hash of the next domain name in this zone. This record indicates that no other subdomain hashes to a value between ${c} and ${d} (with the exception of unsigned subzones if the opt-out flag is set).`},{children:d}),void 0)," ",h.join(t.map((e=>r.jsx(a.StaticOutput,Object.assign({title:`This entry indicates that the subdomain which hashes to ${c} has ${["A","M","N","R","S"].includes(e[0])?"an":"a"} ${e} record.`},{children:e}),void 0))))]},void 0)},NSEC3PARAM:{regexp:/^\d+ \d+ \d+ ([a-f0-9]+|-)$/,fields:[{title:"Algorithm: This value identifies the cryptographic hash function used to hash the subdomains in this zone. 1 stands for SHA-1, which is the only algorithm currently supported."},{title:"Flags: The opt-out flag (see an NSEC3 record for more information) is set to zero in NSEC3PARAM records. Since all other flags are still reserved for future use and thus also set to zero, this value should be zero."},{title:"Iterations: This value specifies how many additional times the hash function is applied to a subdomain name. (A value of 0 means that the subdomain name is hashed only once in total.) By hashing the result of the hash function again, then its result again and so on, the computational cost to brute-force the name of the hashed subdomain can be increased."},{title:"Salt: Optionally, an arbitrary value can be provided here to be mixed into the hash function in order to make pre-calculated dictionary attacks harder. This prevents an attacker from simultaneously brute-forcing the subdomains of zones which use different salts."}]},CDS:O,CDNSKEY:C};function R(e){if("number"==typeof e.type)return r.jsx("span",Object.assign({title:"The data of this unsupported record type."},{children:e.data}),void 0);const t=A[e.type];if("function"==typeof t)return t(e);if(t.regexp.test(e.data)){const n=e.data.split(" ");return h.join(n.map(((n,i)=>{const o=t.fields[i].title,s=t.fields[i].onClick,a=t.fields[i].onContextMenu,l=t.fields[i].transform;return r.jsx("span",Object.assign({className:s?"dynamic-output":"static-output",title:"function"==typeof o?o(n,e):o,onClick:s?()=>s(n,e):void 0,onContextMenu:a?t=>{a(n,e),t.preventDefault()}:void 0},{children:l?l(n,e):n}),void 0)})))}return console.error(`The ${e.type} record '${e.data}' didn't match the expected pattern.`),r.jsx("span",Object.assign({title:"The data of this record didn't match the expected pattern."},{children:e.data}),void 0)}function I(e){return r.jsxs("table",Object.assign({className:"text-nowrap dynamic-output-pointer"},{children:[r.jsxs("thead",{children:[r.jsx("th",{children:"Domain name"},void 0),r.jsx("th",{children:"Time to live"},void 0),r.jsx("th",{children:"Record type"},void 0),r.jsx("th",{children:"Record data"},void 0)]},void 0),r.jsx("tbody",{children:e.map((e=>r.jsxs("tr",{children:[r.jsx("td",{children:e.name},void 0),r.jsx("td",Object.assign({title:e.ttl+" seconds"},{children:m(e.ttl)}),void 0),r.jsx("td",{children:"number"==typeof e.type?"Unsupported type "+e.type:p.recordTypes[e.type]},void 0),r.jsx("td",{children:R(e)},void 0)]},h.getUniqueKey())))},void 0)]}),void 0)}const P=new u.Store({},void 0),L=d.shareState(P)((function({response:e,error:t}){var n;return t?r.jsxs("p",{children:["The domain name could not be resolved. Reason: ",t]},void 0):e?r.jsxs(o.Fragment,{children:[0!==e.status&&r.jsx("p",Object.assign({className:"text-center"},{children:null!==(n=p.responseStatusCodes[e.status])&&void 0!==n?n:"The response has a status code which is not supported by this tool."}),void 0),0===e.status&&e.authority.length>0&&r.jsx("p",Object.assign({className:"table-title"},{children:"Answer section"}),void 0),0===e.status&&0===e.answer.length&&r.jsx("p",Object.assign({className:"text-center"},{children:"No records found for this domain name and record type."}),void 0),e.answer.length>0&&I(e.answer),e.authority.length>0&&r.jsxs(o.Fragment,{children:[r.jsx("p",Object.assign({className:"table-title"},{children:"Authority section"}),void 0),I(e.authority)]},void 0),(e.answer.length>0||e.authority.length>0)&&c.getCurrentState(D).dnssecOk&&r.jsx("p",Object.assign({className:"text-center"},{children:" Please note that this tool doesn't verify DNSSEC signatures. If you rely on its answers, you do so at your own risk!"}),void 0)]},void 0):null}));const N={domainName:{name:"Domain",description:"The domain name you are interested in.",defaultValue:"ef1p.com",inputType:"text",labelWidth:60,inputWidth:250,validate:e=>(""===e?"The domain name may not be empty.":e.includes(" ")&&"The domain name may not contain spaces.")||e.length>253&&"The domain name may be at most 253 characters long."||!e.split(".").every((e=>e.length<64))&&"Each label may be at most 63 characters long."||!/^[-a-z0-9_\.]+$/i.test(e)&&"You can use only English letters, digits, hyphens, underlines, and dots."||!/^(([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z][-a-z0-9]{0,61}[a-z0-9])?\.?$/i.test(e)&&"The pattern of the domain name is invalid."},recordType:{name:"Type",description:"The DNS record type you want to query.",defaultValue:"A",inputType:"select",labelWidth:38,selectOptions:p.recordTypes},dnssecOk:{name:"DNSSEC",description:"Whether to include DNSSEC records in the answer.",defaultValue:!1,inputType:"switch",labelWidth:66}},D=new u.PersistedStore(c.getDefaultVersionedState(N),{entries:N,onChange:function({domainName:e,recordType:t,dnssecOk:n}){return i(this,void 0,void 0,(function*(){try{const i=yield p.resolveDomainName(e,t,n);P.setState({response:i,error:void 0})}catch(e){P.setState({error:e.message})}}))}},"lookup-dns-records"),M=d.shareStore(D,"input")(l.RawInput);function V(e,t,n){c.setState(D,void 0===n?{domainName:e,recordType:t}:{domainName:e,recordType:t,dnssecOk:n})}function F(){const{domain:e,type:t,dnssec:n}=this.dataset;V(e,t,"true"===n)}t.setDnsResolverInputs=V,t.toolLookupDnsRecords=r.jsxs(o.Fragment,{children:[r.jsx(M,{entries:N,submit:{text:"Query",title:"Query the records of the given domain name.",onClick:()=>{}}},void 0),r.jsx(L,{},void 0)]},void 0),t.bindDnsQueries=function(){for(const e of document.getElementsByClassName("bind-dns-query")){const{domain:t,type:n,dnssec:i}=e.dataset;void 0!==t&&Object.keys(p.recordTypes).includes(n)&&["true","false"].includes(i)?e.addEventListener("click",F):console.error("The data attributes of the following element are invalid:",e)}}},2845:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.emailAddressOutput=t.toolLookupOpenpgpkeyRecords=t.toolLookupSmimeaRecords=void 0;const o=n(5893),s=r(n(3482)),a=n(3804),l=n(9509),d=n(9281),c=n(1026),u=n(1158),h=n(4318),p=n(6953),f=n(9190),m=n(8792);function g(e){const[t,n]=e.split("@");return[s.default("sha256").update(t.normalize("NFC")).digest("hex").substring(0,56),n]}const v=new f.Store(m.getDefaultRecordState(),void 0),y=h.shareState(v)(m.RawRecordOutput);const b=new f.Store(m.getDefaultRecordState(),void 0),x=h.shareState(b)(m.RawRecordOutput);function w(e){return"-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n"+e.toString("base64").replace(/(.{64})/g,"$1\n")+(e.length%48!=0?"\n":"")+"="+function(e){let t=11994318;for(let n=0;n<e.length;n++){t^=e.readInt8(n)<<16;for(let e=0;e<8;e++)t<<=1,16777216&t&&(t^=25578747)}return l.Buffer.from([(16711680&t)>>16,(65280&t)>>8,255&t]).toString("base64")}(e)+"\n-----END PGP PUBLIC KEY BLOCK-----\n"}const S=/^[^@ ]+@([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z][-a-z0-9]{0,61}[a-z0-9]$/i,T={name:"Email address",description:"The email address you want to query.",defaultValue:"security@ef1p.com",inputType:"text",labelWidth:102,inputWidth:270,validate:e=>(""===e?"The email address may not be empty.":e.includes(" ")&&"The email address may not contain spaces.")||!S.test(e)&&"The pattern of the email address is invalid."},j={emailAddress:T},k=new f.PersistedStore(p.getDefaultVersionedState(j),{entries:j},"lookup-email-address"),_=h.shareStore(k,"input")(c.RawInput),E=h.shareStore(k,"state")(u.RawOutputEntries);t.toolLookupSmimeaRecords=o.jsxs(a.Fragment,{children:[o.jsx(_,{entries:j,submit:{text:"Query",title:"Query the SMIMEA records of the given email address.",onClick:function({emailAddress:e}){return i(this,void 0,void 0,(function*(){v.setState(m.getDefaultRecordState());try{const[t,n]=g(e),i=yield m.makeQuery(t+"._smimecert."+n,"https://tools.ietf.org/html/rfc8162#section-6","SMIMEA");0===i.records.length&&i.remarks.push({type:"info",text:"This domain has no SMIMEA records."}),v.state.queries.push(i);for(const e of i.records)if(/^\\# \d+ [0-9a-f]{7,}$/.test(e.content)){const t=e.content.split(" ")[2],n=Number.parseInt(t.substring(0,2),16),i=Number.parseInt(t.substring(2,4),16),r=Number.parseInt(t.substring(4,6),16),o=t.substring(6);e.content=[n.toString(),i.toString(),r.toString(),o].join(" "),n>3&&e.remarks.push({type:"error",text:"The certificate usage has to be smaller than 4.",link:"https://tools.ietf.org/html/rfc6698#section-2.1.1"}),i>1&&e.remarks.push({type:"error",text:"The selector has to be smaller than 2.",link:"https://tools.ietf.org/html/rfc6698#section-2.1.2"}),r>2&&e.remarks.push({type:"error",text:"The matching type has to be smaller than 3.",link:"https://tools.ietf.org/html/rfc6698#section-2.1.3"}),(1===r&&64!==o.length||2===r&&128!==o.length)&&e.remarks.push({type:"error",text:"The certificate association data is not of the expected length.",link:"https://tools.ietf.org/html/rfc6698#section-2.1.4"})}else e.remarks.push({type:"error",text:"Could not parse this SMIMEA record."});v.update()}catch(e){v.setState(Object.assign(Object.assign({},m.getDefaultRecordState()),{error:e.message}))}}))}}},void 0),o.jsx(y,{},void 0)]},void 0),t.toolLookupOpenpgpkeyRecords=o.jsxs(a.Fragment,{children:[o.jsx(_,{entries:j,submit:{text:"Query",title:"Query the OPENPGPKEY records of the given email address.",onClick:function({emailAddress:e}){return i(this,void 0,void 0,(function*(){b.setState(m.getDefaultRecordState());try{const[t,n]=g(e),i=yield m.makeQuery(t+"._openpgpkey."+n,"https://tools.ietf.org/html/rfc7929#section-5","OPENPGPKEY");0===i.records.length&&i.remarks.push({type:"info",text:"This domain has no OPENPGPKEY records."}),b.state.queries.push(i);for(const t of i.records)if(/^\\# \d+ [0-9a-f]+$/.test(t.content)){const n=w(l.Buffer.from(t.content.split(" ")[2],"hex"));t.content=n,t.remarks.push({type:"warning",text:"This tool does not perform DNSSEC authentication. You must still verify this key with the recipient out-of-band.",link:"https://tools.ietf.org/html/rfc7929#section-7"}),t.buttons.push({text:"Download this key",title:`Download the OpenPGP public key of ${e}.`,onClick:()=>d.download(e+".asc",n)})}else t.remarks.push({type:"error",text:"Could not parse this OPENPGPKEY record."});b.update()}catch(e){b.setState(Object.assign(Object.assign({},m.getDefaultRecordState()),{error:e.message}))}}))}}},void 0),o.jsx(x,{},void 0)]},void 0),t.emailAddressOutput=o.jsx(E,{entries:{emailAddress:T}},void 0)},8792:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.bindSpfQuery=t.emailDkimSelectorOutput=t.emailDomainOutput=t.emailDomainInput=t.toolLookupTlsReporting=t.toolLookupMtaStsPolicy=t.toolLookupTlsaRecords=t.toolLookupBimiRecord=t.toolLookupDmarcRecord=t.toolLookupDkimRecord=t.toolLookupSpfRecord=t.toolLookupMxRecords=t.toolLookupConfigurationDatabase=t.toolLookupSrvRecords=t.RawRecordOutput=t.renderQuery=t.renderRemarks=t.getDefaultRecordState=t.makeQuery=t.getRemarkTypeClasses=void 0;const r=n(5893),o=n(3804),s=n(2364),a=n(7428),l=n(2299),d=n(6427),c=n(8385),u=n(1026),h=n(1158),p=n(4318),f=n(6953),m=n(9190),g=n(5136),v=n(6009),y=n(2061),b=n(980),x=n(3290),w=n(4683),S=n(709),T=n(9667),j=n(9238),k={SUBMISSION:"_submission",SUBMISSIONS:"_submissions",IMAP:"_imap",IMAPS:"_imaps",POP3:"_pop3",POP3S:"_pop3s",JMAP:"_jmap",SIEVE:"_sieve"};function _(e){return e?r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("i",{className:"mr-1 fas fa-info-circle color-green"},void 0),"The entries are authenticated with DNSSEC but this tool doesn't verify the signatures."]}),void 0):r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("i",{className:"mr-1 fas fa-exclamation-circle color-red"},void 0),"The entries are not authenticated with DNSSEC, which poses a serious security risk."]}),void 0)}const E=new m.Store({available:[],unavailable:[],dnssec:!1},void 0),C=p.shareState(E)((function({available:e,unavailable:t,dnssec:n,error:i}){if(i)return r.jsxs("p",{children:["An error occurred: ",i]},void 0);{const i=f.getCurrentState(Pe).domain;return r.jsxs(o.Fragment,{children:[e.length>0&&r.jsxs(o.Fragment,{children:[r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("a",Object.assign({href:"http://"+i},{children:i}),void 0)," provides the following service",e.length>1?"s":"",":"]}),void 0),r.jsxs("table",{children:[r.jsxs("thead",{children:[r.jsx("th",{children:"Protocol"},void 0),r.jsx("th",{children:"Priority"},void 0),r.jsx("th",{children:"Weight"},void 0),r.jsx("th",{children:"Port"},void 0),r.jsx("th",{children:"Host"},void 0)]},void 0),r.jsx("tbody",{children:e.map((e=>r.jsxs("tr",{children:[r.jsx("td",{children:e.protocol},void 0),r.jsx("td",{children:e.priority},void 0),r.jsx("td",{children:e.weight},void 0),r.jsx("td",{children:e.port},void 0),r.jsx("td",{children:e.host},void 0)]},g.getUniqueKey())))},void 0)]},void 0)]},void 0),t.length>0&&r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("a",Object.assign({href:"http://"+i},{children:i}),void 0)," does not provide the following service",t.length>1?"s":"",": ",t.join(", "),"."]}),void 0),(e.length>0||t.length>0)&&_(n)]},void 0)}}));const O={SSL:{content:"TLS",tooltip:"Formerly called SSL."},STARTTLS:{content:"STARTTLS",tooltip:"Just called TLS in some settings."},plain:{content:"None ",tooltip:"Use a different service!"}},A={"%EMAILADDRESS%":{content:"Full address",tooltip:"Your full email address."},"%EMAILLOCALPART%":{content:"Local part",tooltip:"The part before the @ in your email address."}},R={content:"Password",tooltip:"The password is transmitted with the above encryption."},I={plain:R,"password-cleartext":R,"password-encrypted":{content:"Challenge-response",tooltip:"Password-based challenge-response (CRAM-MD5). (Thunderbird calls this encrypted password, which is factually wrong.)"},OAuth2:{content:"OAuth2",tooltip:"Authorize mail clients for a potentially limited scope with OAuth2."}};function P(e,t){const n=e[t];return void 0!==n?r.jsxs("span",Object.assign({className:"cursor-help",title:n.tooltip},{children:[n.content,r.jsx("i",{className:"icon-right fas fa-info-circle"},void 0)]}),void 0):r.jsx(o.Fragment,{children:t},void 0)}function L(e,t){return t.map((t=>r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("th",Object.assign({colSpan:2,style:{minWidth:320}},{children:[e," mail server: ",r.jsx("span",Object.assign({className:"color-pink"},{children:t.type.toUpperCase()}),void 0)]}),void 0)},void 0),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",Object.assign({style:{width:130}},{children:"Host name:"}),void 0),r.jsx("td",{children:r.jsxs(c.ClickToCopy,{children:[t.host,r.jsx("i",{className:"icon-right fas fa-clipboard"},void 0)]},void 0)},void 0)]},void 0),r.jsxs("tr",{children:[r.jsx("td",{children:"Port number:"},void 0),r.jsx("td",{children:r.jsxs(c.ClickToCopy,{children:[t.port,r.jsx("i",{className:"icon-right fas fa-clipboard"},void 0)]},void 0)},void 0)]},void 0),r.jsxs("tr",{children:[r.jsx("td",{children:"Encryption:"},void 0),r.jsx("td",{children:P(O,t.socket)},void 0)]},void 0),r.jsxs("tr",{children:[r.jsx("td",{children:"User name:"},void 0),r.jsx("td",{children:P(A,t.username)},void 0)]},void 0),t.authentication.map((e=>r.jsxs("tr",{children:[r.jsx("td",{children:"Authentication:"},void 0),r.jsx("td",{children:P(I,e)},void 0)]},e)))]},void 0)]},void 0)))}function N(e,t){return t.length>0&&r.jsxs("table",{children:[r.jsx("thead",{children:r.jsx("th",Object.assign({style:{minWidth:320}},{children:e}),void 0)},void 0),r.jsx("tbody",{children:t.map((e=>r.jsx("tr",{children:r.jsx("td",{children:r.jsx("a",Object.assign({href:e.link},{children:e.text}),void 0)},void 0)},g.getUniqueKey())))},void 0)]},void 0)}const D=new m.Store({requests:[]},void 0),M=p.shareState(D)((function({requests:e,configuration:t}){const n=f.getCurrentState(Pe).domain.toLowerCase();return r.jsxs(o.Fragment,{children:[e.length>0&&r.jsx(o.Fragment,{children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("th",Object.assign({colSpan:2},{children:["Request",e.length>1?"s":""," made to find the mail client configuration for the domain ",r.jsx("a",Object.assign({href:"http://"+n},{children:n}),void 0),":"]}),void 0)},void 0),r.jsx("tbody",{children:e.map(((n,i)=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("a",Object.assign({href:n},{children:n}),void 0)},void 0),r.jsx("td",{children:i===e.length-1&&void 0!==t?r.jsx("i",{className:"fas fa-check color-green"},void 0):r.jsx("i",{className:"fas fa-times color-red"},void 0)},void 0)]},g.getUniqueKey())))},void 0)]},void 0)},void 0),void 0!==t&&r.jsxs(o.Fragment,{children:[r.jsxs("p",Object.assign({className:"text-center"},{children:["According to the found configuration file, the email service provider of ",r.jsx("a",Object.assign({href:"http://"+n},{children:n}),void 0)," ","is ",t.webmail?r.jsx("a",Object.assign({href:t.webmail},{children:t.name}),void 0):t.name,"."]}),void 0),r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("i",{className:"mr-1 fas fa-exclamation-triangle color-orange"},void 0),"Be cautious when configuring your mail client with information from untrusted sources!"]}),void 0),L("Incoming",t.incomingServers),L("Outgoing",t.outgoingServers),N("Instructions",t.instructions),N("Documentation",t.documentation)]},void 0)]},void 0)}));const V=new m.Store({mxRows:[],adRows:[],dnssec:!1},void 0),F=p.shareState(V)((function({mxRows:e,adRows:t,dnssec:n,error:i}){if(i)return r.jsxs("p",{children:["An error occurred: ",i]},void 0);{const i=f.getCurrentState(Pe).domain;return r.jsxs(o.Fragment,{children:[e.length>0&&r.jsxs(o.Fragment,{children:[r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("a",Object.assign({href:"http://"+i},{children:i}),void 0)," has the following ",r.jsx("code",{children:"MX"},void 0)," record",e.length>1?"s":"",":"]}),void 0),r.jsxs("table",{children:[r.jsxs("thead",{children:[r.jsx("th",{children:"Priority"},void 0),r.jsx("th",{children:"Domain"},void 0),r.jsx("th",{children:"Address"},void 0),r.jsx("th",{children:"Location"},void 0)]},void 0),r.jsx("tbody",{children:e.map((e=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx(c.ClickToCopy,{children:e.priority},void 0)},void 0),r.jsx("td",{children:r.jsx(c.ClickToCopy,{children:e.domain},void 0)},void 0),r.jsx("td",{children:r.jsx(c.ClickToCopy,{children:e.address},void 0)},void 0),r.jsx("td",{children:j.getMapLink(e.location)},void 0)]},e.domain)))},void 0)]},void 0)]},void 0),0===e.length&&t.length>0&&r.jsxs(o.Fragment,{children:[r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("a",Object.assign({href:"http://"+i},{children:i}),void 0)," has no ",r.jsx("code",{children:"MX"},void 0)," records but the following ",r.jsx("code",{children:"A"},void 0)," record",t.length>1?"s":"",":"]}),void 0),r.jsxs("table",{children:[r.jsx("thead",{children:r.jsx("th",{children:"Address"},void 0)},void 0),r.jsx("tbody",{children:t.map((e=>r.jsx("tr",{children:r.jsx("td",{children:e.address},void 0)},e.address)))},void 0)]},void 0)]},void 0),(e.length>0||t.length>0)&&_(n)]},void 0)}}));function U(e){switch(e){case"info":return"fa-info-circle color-blue";case"warning":return"fa-exclamation-triangle color-orange";case"error":return"fa-exclamation-circle color-red"}}function W(e,t,n="TXT"){return i(this,void 0,void 0,(function*(){const i=yield v.resolveDomainName(e,n,!0),r=[],o=[];let s=e+".";for(const e of i.answer)"CNAME"===e.type?(s=e.data,r.push(s.slice(0,-1))):e.name===s&&e.type===n&&o.push({content:e.data,remarks:[],buttons:[]});const a=[];return void 0!==t&&o.length>0&&!v.isAuthenticated(i,e,n,!0)&&a.push({type:"warning",text:"The response was not authenticated with DNSSEC, which poses a serious security risk.",link:t}),{type:n,domain:e,cnames:r,remarks:a,records:o}}))}function B(){return{queries:[],error:void 0}}function z(e){return e.length>0?r.jsx("ul",Object.assign({className:"fa-ul mt-2 mb-0"},{children:e.map((e=>r.jsxs("li",{children:[r.jsx("span",Object.assign({className:"fa-li"},{children:r.jsx("i",{className:"fas "+U(e.type)},void 0)}),void 0),e.text,e.link&&r.jsx("a",Object.assign({href:e.link},{children:" "}),void 0)]},void 0)))}),void 0):void 0}function $(e){return r.jsxs(o.Fragment,{children:[r.jsxs("p",Object.assign({className:"mb-0"},{children:[void 0===e.type?r.jsxs(o.Fragment,{children:["File at ",r.jsx("code",{children:e.domain},void 0)]},void 0):r.jsxs(o.Fragment,{children:[r.jsx("code",{children:e.type},void 0)," records of ",r.jsx("code",{children:e.domain},void 0)]},void 0),e.cnames.map((e=>r.jsxs(o.Fragment,{children:[", whose ",r.jsx("code",{children:"CNAME"},void 0)," is ",r.jsx("code",{children:e},void 0)]},void 0))),":"]}),void 0),z(e.remarks),e.records.map((e=>r.jsxs(o.Fragment,{children:[r.jsx(d.CodeBlock,Object.assign({className:"mt-2 mb-0",wrapped:!0},{children:e.content}),void 0),z(e.remarks),void 0!==e.image&&r.jsx("img",{src:e.image,style:{width:80,height:80,margin:0,marginTop:".75rem"},title:"The SVG image referenced in the 'l' tag of the record."},void 0),e.buttons.length>0&&r.jsx("div",Object.assign({style:{marginTop:".75rem"}},{children:e.buttons.map((e=>r.jsx("button",Object.assign({type:"button",className:"btn btn-primary btn-sm mr-2",onClick:e.onClick,title:e.title},{children:e.text}),g.getUniqueKey())))}),void 0)]},void 0)))]},void 0)}function q({queries:e,error:t}){return t?r.jsxs("p",{children:["An error occurred: ",t]},void 0):1===e.length?r.jsx("div",Object.assign({className:"mb-3"},{children:$(e[0])}),void 0):e.length>0?r.jsx("ol",Object.assign({className:e.length>9?"long":""},{children:e.map((e=>r.jsx("li",Object.assign({className:"mt-3"},{children:$(e)}),void 0)))}),void 0):null}t.getRemarkTypeClasses=U,t.makeQuery=W,t.getDefaultRecordState=B,t.renderRemarks=z,t.renderQuery=$,t.RawRecordOutput=q;const H=new m.Store({queries:[],error:void 0},void 0),K=p.shareState(H)(q);let G=11;function Q(e,t){return i(this,void 0,void 0,(function*(){if(H.state.queries.length>=25)throw Error("This tool aborted after 25 DNS queries to avoid getting stuck in an infinite loop. An SPF record may trigger at most 10 DNS lookups.");const n=yield W(e,"https://tools.ietf.org/html/rfc7208#section-11.3",t);return H.state.queries.length>=G&&n.remarks.push({type:"error",text:"An SPF record may trigger at most 10 DNS lookups.",link:"https://tools.ietf.org/html/rfc7208#section-4.6.4"}),"TXT"!==t&&0===n.records.length&&n.remarks.push({type:"warning",text:"Void lookups, which return no DNS records, are allowed but should be limited to two.",link:"https://tools.ietf.org/html/rfc7208#section-4.6.4"}),n}))}function Y(e){return i(this,void 0,void 0,(function*(){const t=yield Q(e,"A");H.state.queries.push(t)}))}function X(e){return i(this,void 0,void 0,(function*(){const t=yield Q(e,"MX");H.state.queries.push(t);for(const e of t.records)/^\d+ ([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]\.$/i.test(e.content)?yield Y(e.content.split(" ")[1].slice(0,-1)):e.remarks.push({type:"error",text:"This tool could not parse this MX record."})}))}const Z=["+","-","?","~"],J=["all","include","a","mx","ptr","ip4","ip6","exists"],ee=["redirect","exp"],te=/^([a-z0-9_]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]$/i,ne=/^\/(0|[1-9][0-9]{0,1})?$/,ie=/^\/(0|[1-9][0-9]{0,2})?$/,re=/^(\/|(\/(0|[1-9][0-9]{0,1}))?(\/\/(0|[1-9][0-9]{0,2}))?)$/;function oe(e,t=!1){var n,r;return i(this,void 0,void 0,(function*(){if(0===H.state.queries.length){const t=yield Q(e,"SPF");t.records.length>0&&(t.remarks.push({type:"warning",text:"The SPF record type has been deprecated. Use a TXT record instead.",link:"https://tools.ietf.org/html/rfc7208#section-3.1"}),H.state.queries.push(t),G++)}const i=yield Q(e,"TXT");H.state.queries.push(i);const o=i.records.filter((e=>e.content.startsWith("v=spf1 ")||"v=spf1"===e.content));if(0===o.length)t?i.remarks.push({type:"error",text:"An inexistent SPF record results in a permanent error.",link:"https://tools.ietf.org/html/rfc7208#section-5.2"}):i.remarks.push({type:"warning",text:"No SPF record has been published for this domain. All domains should have an SPF record.",link:"https://tools.ietf.org/html/rfc7208#section-4.5"});else if(o.length>1)i.remarks.push({type:"error",text:'A domain may not have multiple TXT records which start with "v=spf1".',link:"https://tools.ietf.org/html/rfc7208#section-3.2"});else{const i=o[0],s=i.content.trim(),a=s.toLowerCase();a!==s&&i.remarks.push({type:"info",text:"SPF records are case-insensitive but they are usually published in lowercase.",link:"https://tools.ietf.org/html/rfc7208#section-12"}),a.includes("  ")&&i.remarks.push({type:"info",text:"The terms can be separated by multiple spaces but there is no reason to do so.",link:"https://tools.ietf.org/html/rfc7208#section-12"});const d=a.split(/ +/),c=[],u=[];let h=!1,p=!1;for(let e=1;e<d.length;e++){let t=d[e];if(/^[a-z][a-z0-9_.-]*=/.test(t)){const e=t.indexOf("="),n={name:t.substring(0,e),value:t.substring(e+1)};u.push(n),ee.includes(n.name)?p=!0:i.remarks.push({type:"warning",text:`This tool doesn't know the modifier "${n.name}" and therefore cannot check its validity.`,link:"https://tools.ietf.org/html/rfc7208#section-6"})}else{p&&(h=!0);const e=Z.includes(t.charAt(0)),n=e?t.charAt(0):"+";e&&(t=t.substring(1));let r=t.indexOf(":"),o=r+1;-1===r&&(r=t.indexOf("/"),o=r);const s=r>0?t.substring(0,r):t;J.includes(s)?c.push({qualifier:n,mechanism:s,address:o>0?t.substring(o):void 0}):i.remarks.push({type:"error",text:`There is no mechanism with the name "${s}".`,link:"https://tools.ietf.org/html/rfc7208#section-5"})}}h&&i.remarks.push({type:"warning",text:'The "redirect" and "exp" modifiers should appear at the end of the record after all mechanisms.',link:"https://tools.ietf.org/html/rfc7208#section-6"});const f=u.filter((e=>"exp"===e.name));f.length>1&&i.remarks.push({type:"error",text:'The "exp" modifier may appear at most once in a record.',link:"https://tools.ietf.org/html/rfc7208#section-6"}),f.length>0&&i.remarks.push({type:"info",text:'This tool does not validate the "exp" modifier.'});const m=u.filter((e=>"redirect"===e.name));m.length>1&&i.remarks.push({type:"error",text:'The "redirect" modifier may appear at most once in a record.',link:"https://tools.ietf.org/html/rfc7208#section-6"});let g=!1,v=!1,y=!1,b=!1,x=!1;for(let n=0;n<c.length;n++){const r=c[n];"all"===r.mechanism?(n===c.length-1||b||(b=!0,i.remarks.push({type:"warning",text:'All directives after "all" are ignored.',link:"https://tools.ietf.org/html/rfc7208#section-5.1"})),m.length>0&&!x&&(x=!0,i.remarks.push({type:"warning",text:'The "redirect" modifier is ignored when there is an "all" directive in the record.',link:"https://tools.ietf.org/html/rfc7208#section-5.1"})),"+"===r.qualifier?i.remarks.push({type:"warning",text:'The "all" modifier should never cause the evaluation to pass. You don\'t want to allow anyone to send messages on behalf of the domain. Since spammers use this to send emails from botnets, your domain might even be penalized.'}):"?"===r.qualifier&&(i.remarks.push({type:"warning",text:'Unless you are still testing, the "all" modifier should cause the evaluation to (soft-)fail.'}),t&&i.remarks.push({type:"warning",text:`Since emails can be sent from any domain, the previous warning is also relevant for included SPF records. If the DMARC policy for this domain is "none" or inexistent, a fraudster might be able to send emails from "@${e}".`}))):(t&&(g="+"!==r.qualifier),"ip4"!==r.mechanism&&"ip6"!==r.mechanism?v=!0:v&&(y=!0))}g&&i.remarks.push({type:"warning",text:'In an included SPF record, qualifiers other than "+" only have an effect if they are followed by a directive with an (implicit) "+". Unless this record is also used directly or through the "redirect" modifier, this is likely a mistake.',link:"https://tools.ietf.org/html/rfc7208#section-5.2"}),y&&i.remarks.push({type:"info",text:'The "ip4" and "ip6" mechanisms should be listed first because they can be evaluated without triggering additional lookups, which improves performance. (The order of the mechanisms matters only in rare cases with mixed qualifiers.)'}),0===c.filter((e=>"all"===e.mechanism)).length&&0===m.length&&i.remarks.push({type:"warning",text:'It is recommended to use the "all" mechanism or the "redirect" modifier to provide an explicit default. The implicit default is "neutral".',link:"https://tools.ietf.org/html/rfc7208#section-4.7"});let w=!1;for(const t of c)if("include"===t.mechanism)void 0===t.address?i.remarks.push({type:"error",text:'Each "include" mechanism must be followed by a domain or macro.',link:"https://tools.ietf.org/html/rfc7208#section-5.2"}):t.address.includes("%")?w=!0:te.test(t.address)?yield oe(t.address,!0):i.remarks.push({type:"warning",text:'This tool could not parse the "include" domain.',link:"https://tools.ietf.org/html/rfc7208#section-12"});else if("a"===t.mechanism)if(void 0===t.address)yield Y(e);else if(t.address.includes("%"))w=!0;else{const[n,r]=l.splitOnFirstOccurrence(t.address,"/");""===n?yield Y(e):te.test(n)?yield Y(n):i.remarks.push({type:"warning",text:'This tool could not parse the "a" domain.',link:"https://tools.ietf.org/html/rfc7208#section-12"}),re.test(r)||i.remarks.push({type:"error",text:'The "a" directive has an invalid CIDR suffix.',link:"https://tools.ietf.org/html/rfc7208#section-12"})}else if("mx"===t.mechanism)if(void 0===t.address)yield X(e);else if(t.address.includes("%"))w=!0;else{const[n,r]=l.splitOnFirstOccurrence(t.address,"/");""===n?yield X(e):te.test(n)?yield X(n):i.remarks.push({type:"warning",text:'This tool could not parse the "mx" domain.',link:"https://tools.ietf.org/html/rfc7208#section-12"}),re.test(r)||i.remarks.push({type:"error",text:'The "mx" directive has an invalid CIDR suffix.',link:"https://tools.ietf.org/html/rfc7208#section-12"})}else if("ip4"===t.mechanism){const[e,r]=l.splitOnFirstOccurrence(null!==(n=t.address)&&void 0!==n?n:"","/");/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(e)||i.remarks.push({type:"error",text:'This tool could not parse the "ip4" address.',link:"https://tools.ietf.org/html/rfc7208#section-5.6"}),ne.test(r)||i.remarks.push({type:"error",text:'The "ip4" directive has an invalid CIDR suffix.',link:"https://tools.ietf.org/html/rfc7208#section-12"})}else if("ip6"===t.mechanism){const[e,n]=l.splitOnFirstOccurrence(null!==(r=t.address)&&void 0!==r?r:"","/");/^[a-f0-9:]+$/.test(e)||i.remarks.push({type:"error",text:'This tool could not parse the "ip6" address.',link:"https://tools.ietf.org/html/rfc7208#section-5.6"}),ie.test(n)||i.remarks.push({type:"error",text:'The "ip6" directive has an invalid CIDR suffix.',link:"https://tools.ietf.org/html/rfc7208#section-12"})}c.filter((e=>"ptr"===e.mechanism)).length>0&&(i.remarks.push({type:"info",text:'This tool cannot evaluate "ptr" directives. You have to validate them differently.'}),i.remarks.push({type:"warning",text:'Use of the "ptr" mechanism is discouraged.',link:"https://tools.ietf.org/html/rfc7208#section-5.5"})),c.filter((e=>"exists"===e.mechanism)).length>0&&i.remarks.push({type:"info",text:'This tool does not evaluate "exists" directives because they only make sense with macros.'});for(const e of m)e.value.includes("%")?w=!0:te.test(e.value)?yield oe(e.value):i.remarks.push({type:"warning",text:'This tool could not parse the "redirect" domain.',link:"https://tools.ietf.org/html/rfc7208#section-6.1"});w&&i.remarks.push({type:"info",text:"This tool cannot evaluate macros. You have to validate them differently.",link:"https://tools.ietf.org/html/rfc7208#section-7"})}}))}function se({domain:e}){return i(this,void 0,void 0,(function*(){H.setState({queries:[],error:void 0}),G=11;try{yield oe(e.toLowerCase()),H.update()}catch(e){H.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}const ae=new m.Store({queries:[],error:void 0},void 0),le=p.shareState(ae)(q),de=["v","h","k","n","p","s","t"];const ce=new m.Store({queries:[],error:void 0},void 0),ue=p.shareState(ce)(q);function he(e){return i(this,void 0,void 0,(function*(){const t=yield v.resolveDomainName(e,"SOA",!1);if(t.answer.filter((e=>"CNAME"===e.type)).length>0)return yield he(e.substring(e.indexOf(".")+1));{const n=v.getAllRecords(t,"SOA");if(1===n.length)return n[0].name.slice(0,-1);throw Error(`Could not find a "SOA" record for "${e}".`)}}))}const pe=["adkim","aspf","fo","p","pct","rf","ri","rua","ruf","sp","v"];function fe(e){const t=e.substring(0,e.length-1),n="1"!==t?"s":"";switch(e.substring(e.length-1)){case"k":return t+" kibibyte"+n;case"m":return t+" mebibyte"+n;case"g":return t+" gibibyte"+n;case"t":return t+" tebibyte"+n;default:return e+" bytes"}}function me(e){return i(this,void 0,void 0,(function*(){if(ce.state.queries.length>=10)throw Error("This tool aborted after 10 DMARC queries. Something is not as it should be.");const t=yield W(e,"https://tools.ietf.org/html/rfc7489#section-12.3");ce.state.queries.push(t);const n=t.records.filter((e=>/^v[ \t]*=[ \t]*DMARC1[ \t]*(;.*)?$/.test(e.content)));return[t,n]}))}function ge(e){return i(this,void 0,void 0,(function*(){const t="_dmarc."+e,[n,r]=yield me(t),o=yield he(e);if(0===r.length)e===o?n.remarks.push({type:"error",text:"Could not find a DMARC1 record at the given domain.",link:"https://tools.ietf.org/html/rfc7489#section-6.6.3"}):(n.remarks.push({type:"info",text:"Could not find a DMARC1 record at the given subdomain. Will query the organizational domain next.",link:"https://tools.ietf.org/html/rfc7489#section-6.6.3"}),yield ge(o));else if(r.length>1)n.remarks.push({type:"error",text:"There may be only one DMARC1 record at a given domain.",link:"https://tools.ietf.org/html/rfc7489#section-6.6.3"});else{const t=w.getDefaultDmarcState(),n=r[0],h=[];for(const e of n.content.split(";")){const t=e.split("=").map((e=>e.trim()));if(2===t.length&&t[0].length>0&&t[1].length>0){const e=t[0];pe.includes(e)?h.push({name:e,value:t[1]}):n.remarks.push({type:"warning",text:`This tool doesn't know the tag name "${e}".`,link:"https://tools.ietf.org/html/rfc7489#section-6.3"})}else(t.length>1||0!==t[0].length)&&n.remarks.push({type:"error",text:`"${t.join("=")}" is not a valid tag.`,link:"https://tools.ietf.org/html/rfc7489#section-6.4"})}function s(e){const t=h.filter((t=>t.name===e));return t.length>1&&n.remarks.push({type:"error",text:`There may be only one tag with the name "${e}".`,link:"https://tools.ietf.org/html/rfc7489#section-6.4"}),t.length>0?t[0]:void 0}function a(e,t){return void 0===t||e.includes(t.value)?null==t?void 0:t.value:void n.remarks.push({type:"error",text:`"${t.value}" is not a valid value for "${t.name}".`,link:"https://tools.ietf.org/html/rfc7489#section-6.3"})}function l(e,t){if(void 0!==t){const i=[];for(const r of t.value.split(":").map((e=>e.trim())))e.includes(r)?i.push(r):n.remarks.push({type:"error",text:`"${r}" is not a valid value for "${t.name}".`,link:"https://tools.ietf.org/html/rfc7489#section-6.4"});return i.length>0?i:void 0}}function d(t){return i(this,void 0,void 0,(function*(){if(void 0!==t){const i=[],r=t.value.split(",").map((e=>e.trim()));for(const t of r)if(t.startsWith("mailto:")){const r=t.substring(7).replace(/%21/g,"!");if(w.dmarcAddressRegex.test(r)){i.push(r);const t=r.split("@"),s=t[1].split("!");s.length>1&&n.remarks.push({type:"info",text:`Only reports smaller than ${fe(s[1])} shall be sent to "${t[0]}@${s[0]}".`,link:"https://tools.ietf.org/html/rfc7489#section-6.2"});const a=s[0],l=e+"._report._dmarc."+a;if(0===ce.state.queries.filter((e=>e.domain===l)).length){if((yield he(a))!==o){const[t,n]=yield me(l);0===n.length?t.remarks.push({type:"error",text:`The destination domain "${a}" didn't approve to receive reports for "${e}".`,link:"https://tools.ietf.org/html/rfc7489#section-7.1"}):n.length>1?t.remarks.push({type:"error",text:"There may be only one DMARC1 record at a given domain.",link:"https://tools.ietf.org/html/rfc7489#section-6.6.3"}):/^v[ \t]*=[ \t]*DMARC1[ \t]*$/.test(n[0].content)?n[0].remarks.push({type:"warning",text:"The approval record should end with a semicolon.",link:"https://www.rfc-editor.org/errata/eid5440"}):/^v[ \t]*=[ \t]*DMARC1[ \t]*;[ \t]*$/.test(n[0].content)||n[0].remarks.push({type:"error",text:'The approval record has to be "v=DMARC1;" (ignoring optional whitespace).',link:"https://www.rfc-editor.org/errata/eid5440"})}}}else n.remarks.push({type:"error",text:`This tool doesn't recognize "${r}" as an email address.`,link:"https://tools.ietf.org/html/rfc7489#section-6.2"})}else n.remarks.push({type:"warning",text:`"${t}" does not start with "mailto:".`,link:"https://tools.ietf.org/html/rfc7489#section-6.2"});return i.join(", ")}}))}function c(e,n){void 0!==n&&(t[e]=n)}s("v");const p=["none","quarantine","reject"],f=s("p");c("domainPolicy",a(p,f)),void 0===f?n.remarks.push({type:"error",text:'A domain policy "p" is required for policy records.',link:"https://tools.ietf.org/html/rfc7489#section-6.3"}):"none"===f.value&&n.remarks.push({type:"warning",text:'The domain policy "p" should only be "none" if you still need to collect feedback during early rollout.',link:"https://tools.ietf.org/html/rfc7489#section-6.7"});const m=s("sp");c("subdomainPolicy",a(p,m)),void 0!==m&&(e!==o&&n.remarks.push({type:"warning",text:`The subdomain policy "sp" has an effect only when specified on the organizational domain "${o}".`,link:"https://tools.ietf.org/html/rfc7489#section-6.6.3"}),"none"===m.value&&n.remarks.push({type:"warning",text:'The subdomain policy "sp" should only be "none" if you still need to collect feedback during early rollout.',link:"https://tools.ietf.org/html/rfc7489#section-6.7"}),void 0!==f&&(m.value===f.value?n.remarks.push({type:"info",text:'If the subdomain policy "sp" is the same as the domain policy "p", it doesn\'t have to be provided.',link:"https://tools.ietf.org/html/rfc7489#section-6.3"}):("reject"===f.value&&"reject"!==m.value||"quarantine"===f.value&&"none"===m.value)&&n.remarks.push({type:"warning",text:'The subdomain policy "sp" should be at least as strict as the domain policy "p". Otherwise, the domain policy can be circumvented by using a subdomain in the "From" address.'})));const g=s("pct");if(void 0!==g)if(/^\d+$/.test(g.value)){const e=parseInt(g.value,10);e>=0&&e<=100?t.rolloutPercentage=e:n.remarks.push({type:"error",text:'The rollout percentage "pct" has to be between 0 and 100.',link:"https://tools.ietf.org/html/rfc7489#section-6.3"})}else n.remarks.push({type:"error",text:'The rollout percentage "pct" has to be an integer.',link:"https://tools.ietf.org/html/rfc7489#section-6.3"});const v=["r","s"];c("spfAlignment",a(v,s("aspf"))),c("dkimAlignment",a(v,s("adkim"))),c("aggregateReports",yield d(s("rua")));const y=s("ri");if(void 0!==y)if(/^\d+$/.test(y.value)){const e=parseInt(y.value,10);e>=3600?t.reportInterval=Math.round(e/3600):n.remarks.push({type:"warning",text:"The receiving domain might not support issuing reports more frequently than hourly.",link:"https://tools.ietf.org/html/rfc7489#section-6.3"})}else n.remarks.push({type:"error",text:'The report interval "ri" has to be an integer.',link:"https://tools.ietf.org/html/rfc7489#section-6.3"});function u(e){return h.filter((t=>t.name===e)).length>0}c("failureReports",yield d(s("ruf"))),c("reportFormat",l(["afrf"],s("rf"))),c("reportOptions",l(["0","1","d","s"],s("fo"))),!u("rua")&&u("ri")&&n.remarks.push({type:"warning",text:'The report interval "ri" has no effect without aggregate report recipients in "rua".',link:"https://tools.ietf.org/html/rfc7489#section-6.3"}),u("ruf")||(u("rf")&&n.remarks.push({type:"warning",text:'The report format "rf" has no effect without failure report recipients in "ruf".',link:"https://tools.ietf.org/html/rfc7489#section-6.3"}),u("fo")&&n.remarks.push({type:"warning",text:'The report options "fo" has no effect without failure report recipients in "ruf".',link:"https://tools.ietf.org/html/rfc7489#section-6.3"})),w.setDmarcState(t)}}))}const ve=new m.Store({queries:[],error:void 0},void 0),ye=p.shareState(ve)(q),be=["v","l","a"];function xe(e,t){return i(this,void 0,void 0,(function*(){const n=t+"._bimi."+e,i=yield W(n);if(ve.state.queries.push(i),0===i.records.length){const n=yield he(e);e===n?i.remarks.push({type:"error",text:"Could not find a BIMI record with the given selector at the given domain.",link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-7.2"}):(i.remarks.push({type:"info",text:"Could not find a BIMI record at the given subdomain. Will query the organizational domain next.",link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-7.2"}),yield xe(n,t))}else if(i.records.length>1)i.remarks.push({type:"error",text:"There may be only one BIMI record for a given selector at a given domain.",link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-7.2"});else{const e=i.records[0];/^v[ \t]*=[ \t]*BIMI\d[ \t]*(;.*)?$/.test(e.content)||e.remarks.push({type:"error",text:'This BIMI record does not start with a valid "v" tag.',link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"});const t=[];for(const n of e.content.split(";")){const i=n.indexOf("=");if(i>0){const r=n.substring(0,i).trim(),o=n.substring(i+1).trim();be.includes(r)?t.push({name:r,value:o}):e.remarks.push({type:"warning",text:`This tool doesn't know the tag name "${r}".`,link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"})}else n.trim().length>0&&e.remarks.push({type:"error",text:`"${n.trim()}" is not a valid tag.`,link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"})}function r(n){const i=t.filter((e=>e.name===n));return i.length>1&&e.remarks.push({type:"error",text:`There may be only one tag with the name "${n}".`,link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"}),i.length>0?i[0]:void 0}r("v");const n=r("l");void 0!==n&&(/^https:\/\/[^,]+$/.test(n.value)?(e.image=n.value,n.value.endsWith(".svg")||e.remarks.push({type:"warning",text:'The value of the "l" tag usually ends with ".svg".'})):""!==n.value&&e.remarks.push({type:"error",text:'The value of the "l" tag has to start with "https://".',link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"}));const o=r("a");void 0!==o?/^https:\/\/[^,]+$/.test(o.value)?(o.value.endsWith(".pem")||e.remarks.push({type:"warning",text:'The value of the "a" tag should end with ".pem".',link:"https://tools.ietf.org/html/draft-fetch-validation-vmc-wchuang-00#section-3.3"}),e.remarks.push({type:"info",text:"This tool does not validate the certificate."}),e.buttons.push({text:"Download the certificate",title:'Opens the address of the "a" tag in a new window.',onClick:()=>window.open(o.value)})):""!==o.value&&e.remarks.push({type:"error",text:'The value of the "a" tag has to start with "https://".',link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"}):void 0!==n&&e.remarks.push({type:"warning",text:"Mail clients won't display the icon without a valid certificate.",link:"https://tools.ietf.org/html/draft-blank-ietf-bimi-02#section-4.2"})}}))}const we=new m.Store({queries:[],error:void 0},void 0),Se=p.shareState(we)(q);const Te=new m.Store({queries:[],error:void 0},void 0),je=p.shareState(Te)(q),ke={version:/^STSv1$/,mode:/^(testing|enforce|none)$/,mx:/^(\*\.)?([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)+[a-z][-a-z0-9]{0,61}[a-z0-9]$/i,max_age:/^\d{1,8}$/};const _e=new m.Store({queries:[],error:void 0},void 0),Ee=p.shareState(_e)(q);const Ce=/^([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z][-a-z0-9]{0,61}[a-z0-9]$/i,Oe={name:"Domain",description:"The domain name you want to query.",defaultValue:"gmail.com",suggestedValues:["outlook.com","hotmail.com","yahoo.com","me.com","ef1p.com","explained-from-first-principles.com"],inputType:"text",labelWidth:60,inputWidth:270,validate:e=>(""===e?"The domain name may not be empty.":e.includes(" ")&&"The domain name may not contain spaces.")||e.length>253&&"The domain name may be at most 253 characters long."||!e.split(".").every((e=>e.length<64))&&"Each label may be at most 63 characters long."||!/^[-a-z0-9\.]+$/i.test(e)&&"You can use only English letters, digits, hyphens, and dots."||!Ce.test(e)&&"The pattern of the domain name is invalid."},Ae={name:"Selector",description:"The name of the DKIM key you want to query.",defaultValue:"20161025",inputType:"text",labelWidth:63,inputWidth:135,validate:e=>!/^([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?$/i.test(e)&&"The selector has the same format as a domain name."},Re={name:"Selector",description:"The name of the brand indicator you want to query.",defaultValue:"default",inputType:"text",labelWidth:63,inputWidth:135,validate:e=>!/^([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?$/i.test(e)&&"The selector has the same format as a domain name."},Ie={domain:Oe,dkimSelector:Ae,bimiSelector:Re},Pe=new m.PersistedStore(f.getDefaultVersionedState(Ie),{entries:Ie},"lookup-email-domain"),Le=p.shareStore(Pe,"input")(u.RawInput),Ne=p.shareStore(Pe,"state")(h.RawOutputEntries);function De(){const{domain:e}=this.dataset;f.setState(Pe,{domain:e}),se(f.getCurrentState(Pe))}t.toolLookupSrvRecords=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the SRV records of the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){e=e.toLowerCase();try{let t=!0;const n=Object.keys(k).map((n=>i(this,void 0,void 0,(function*(){const i=k[n]+"._tcp."+e,r=yield v.resolveDomainName(i,"SRV",!0),o=r.answer.filter((e=>"SRV"===e.type)).map((e=>{const t=e.data.split(" ");if(4!==t.length)throw new Error("Received an invalid SRV record.");const i=parseInt(t[0],10),r=parseInt(t[1],10),o=parseInt(t[2],10),s=t[3];return{protocol:n,priority:i,weight:r,port:o,host:s}}));return t&&(t=0===o.length||v.isAuthenticated(r,i,"SRV")),o})))),r=yield Promise.all(n),o=[],s=[];l.flatten(r).forEach((e=>{"."===e.host?s.push(e.protocol):o.push(e)})),0===o.length&&0===s.length?E.setState({available:[],unavailable:[],dnssec:!1,error:e+" has no SRV records for email."}):E.setState({available:o,unavailable:s,dnssec:t,error:void 0})}catch(e){E.setState({available:[],unavailable:[],dnssec:!1,error:e.message})}}))}}},void 0),r.jsx(C,{},void 0)]},void 0),t.toolLookupConfigurationDatabase=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the configuration database for the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){const t=[],n=yield y.findConfigurationFile(e.toLowerCase(),t);D.setState({requests:t,configuration:n})}))}}},void 0),r.jsx(M,{},void 0)]},void 0),t.toolLookupMxRecords=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the MX records of the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){e=e.toLowerCase();try{const t=yield v.resolveDomainName(e,"MX",!0),n=yield Promise.all(t.answer.filter((e=>"MX"===e.type)).map((t=>i(this,void 0,void 0,(function*(){const n=t.data.split(" ");if(2!==n.length)throw new Error("Received an invalid MX record.");const i=parseInt(n[0],10),r=n[1].slice(0,-1);if(""===r)throw new Error(`${e} has a null MX record, which means that it does not support email.`);const o=yield v.getDataOfFirstRecord(r,"A");return{priority:i,domain:r,address:o,location:yield b.getIpInfo(o)}})))));if(n.length>0){n.sort(((e,t)=>e.priority-t.priority));const i=v.isAuthenticated(t,e,"MX");V.setState({mxRows:n,adRows:[],dnssec:i,error:void 0})}else{const t=yield v.resolveDomainName(e,"A",!0),n=t.answer.filter((e=>"A"===e.type)).map((e=>({address:e.data})));if(n.length>0){const i=v.isAuthenticated(t,e,"A");V.setState({mxRows:[],adRows:n,dnssec:i,error:void 0})}else V.setState({mxRows:[],adRows:[],dnssec:!1,error:`${e} has neither MX nor A records.`})}}catch(e){V.setState({mxRows:[],adRows:[],dnssec:!1,error:e.message})}}))}}},void 0),r.jsx(F,{},void 0)]},void 0),t.toolLookupSpfRecord=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the SPF record of the given domain name.",onClick:se}},void 0),r.jsx(K,{},void 0)]},void 0),t.toolLookupDkimRecord=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe,dkimSelector:Ae},submit:{text:"Load",title:"Load the DKIM record of the given domain name.",onClick:function({domain:e,dkimSelector:t}){return i(this,void 0,void 0,(function*(){e=e.toLowerCase(),ae.setState({queries:[],error:void 0});try{const o=t+"._domainkey."+e,s=yield W(o,"https://tools.ietf.org/html/rfc6376#section-8.5");if(ae.state.queries.push(s),0===s.records.length)s.remarks.push({type:"error",text:"Could not find a DKIM record with the given selector at the given domain."});else if(s.records.length>1)s.remarks.push({type:"error",text:"There may be only one DKIM record for a given selector at a given domain.",link:"https://tools.ietf.org/html/rfc6376#section-3.6.2.2"});else{const e=x.getDefaultDkimState(),t=s.records[0];/^v[ \t]*=[ \t]*DKIM1[ \t]*(;.*)?$/.test(t.content)||t.remarks.push({type:"info",text:"It is recommended but not mandatory to provide the version of the DKIM record.",link:"https://tools.ietf.org/html/rfc6376#section-3.6.1"});const o=[];for(const e of t.content.split(";")){const n=e.indexOf("=");if(n>0){const i=e.substring(0,n).trim(),r=e.substring(n+1).trim();de.includes(i)?o.push({name:i,value:r}):t.remarks.push({type:"warning",text:`This tool doesn't know the tag name "${i}".`,link:"https://tools.ietf.org/html/rfc6376#section-3.6.1"})}else e.trim().length>0&&t.remarks.push({type:"error",text:`"${e.trim()}" is not a valid tag.`,link:"https://tools.ietf.org/html/rfc6376#section-3.2"})}function n(e){const n=o.filter((t=>t.name===e));return n.length>1&&t.remarks.push({type:"error",text:`There may be only one tag with the name "${e}".`,link:"https://tools.ietf.org/html/rfc6376#section-3.2"}),n.length>0?n[0]:void 0}function i(e,n){return void 0===n||e.includes(n.value)?null==n?void 0:n.value:void t.remarks.push({type:"warning",text:`This tool doesn't know the value "${n.value}" for the tag "${n.name}".`,link:"https://www.iana.org/assignments/dkim-parameters/dkim-parameters.xhtml"})}function r(t,n){void 0!==n&&(e[t]=n)}n("v"),r("keyType",i(["rsa","ed25519"],n("k")));const a=n("p");void 0!==a?/^[\sa-zA-Z0-9+/]*(=\s*){0,2}$/.test(a.value)?e.publicKey=a.value:t.remarks.push({type:"error",text:'The value of the "p" tag has to be Base64 encoded.',link:"https://tools.ietf.org/html/rfc6376#section-3.6.1"}):t.remarks.push({type:"error",text:'This DKIM1 record doesn\'t have the required "p" tag.',link:"https://tools.ietf.org/html/rfc6376#section-3.6.1"});const l=n("h");void 0!==l&&(l.value.includes(":")?t.remarks.push({type:"warning",text:'This tool supports only a single value in the "h" tag.',link:"https://tools.ietf.org/html/rfc6376#section-3.6.1"}):r("hashAlgorithms",i(["sha256"],l)));const d=n("s");void 0!==d&&(d.value.includes(":")?t.remarks.push({type:"warning",text:'This tool supports only a single value in the "s" tag.',link:"https://tools.ietf.org/html/rfc6376#section-3.6.1"}):r("serviceTypes",i(["*","email"],d))),r("flags",function(e,n){if(void 0!==n){const i=[];for(const r of n.value.split(":").map((e=>e.trim())))e.includes(r)?i.push(r):t.remarks.push({type:"warning",text:`This tool doesn't know the value "${r}" for the tag "${n.name}".`,link:"https://www.iana.org/assignments/dkim-parameters/dkim-parameters.xhtml"});return i}}(["y","s"],n("t"))),x.setDkimState(e)}ae.update()}catch(e){ae.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}}},void 0),r.jsx(le,{},void 0)]},void 0),t.toolLookupDmarcRecord=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Load",title:"Load the DMARC record of the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){ce.setState({queries:[],error:void 0});try{yield ge(e.toLowerCase()),ce.update()}catch(e){ce.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}}},void 0),r.jsx(ue,{},void 0)]},void 0),t.toolLookupBimiRecord=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe,bimiSelector:Re},submit:{text:"Query",title:"Query the BIMI record of the given domain name.",onClick:function({domain:e,bimiSelector:t}){return i(this,void 0,void 0,(function*(){ve.setState({queries:[],error:void 0});try{yield xe(e.toLowerCase(),t),ve.update()}catch(e){ve.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}}},void 0),r.jsx(ye,{},void 0)]},void 0),t.toolLookupTlsaRecords=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the TLSA records of the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){e=e.toLowerCase(),we.setState({queries:[],error:void 0});try{const t=yield W(e,"https://tools.ietf.org/html/rfc6698#section-1.3","MX");0===t.records.length&&t.remarks.push({type:"info",text:"This domain has no MX records."}),we.state.queries.push(t);for(const e of t.records){const t=e.content.split(" ");if(2!==t.length)e.remarks.push({type:"error",text:"Could not parse this MX record."});else{const e=t[1].slice(0,-1);if(""!==e){const t=yield W("_25._tcp."+e,"https://tools.ietf.org/html/rfc6698#section-1.3","TLSA");if(we.state.queries.push(t),0===t.records.length)t.remarks.push({type:"warning",text:"This mail server has no TLSA records."});else{let n=!0;for(const e of t.records)/^(2|3) (0|1) (1 [0-9A-Fa-f]{64}|2 [0-9A-Fa-f]{128})$/.test(e.content)||(n=!1,e.remarks.push({type:"warning",text:"This TLSA record did not match the usual format.",link:"https://tools.ietf.org/html/rfc7672#section-3.1"}));n&&t.records[t.records.length-1].buttons.push({text:"Copy the OpenSSL command",title:"Copy the OpenSSL command with the DANE constraint to your clipboard.",onClick:()=>s.copyToClipboard(`${S.getOpenSslCommand()} s_client -starttls smtp -connect ${e}:25 -verify_return_error -dane_tlsa_domain "${e}" ${t.records.map((e=>`-dane_tlsa_rrdata "${e}"`)).join(" ")}`)})}}}}we.update()}catch(e){we.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}}},void 0),r.jsx(Se,{},void 0)]},void 0),t.toolLookupMtaStsPolicy=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the MTA-STS policy of the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){e=e.toLowerCase(),Te.setState({queries:[],error:void 0});try{const t=yield W("_mta-sts."+e);Te.state.queries.push(t);const n=t.records.filter((e=>/^v=STSv1[ \t]*;.*$/.test(e.content)));if(0===n.length)t.remarks.push({type:"info",text:"This domain has no MTA-STSv1 record."});else if(n.length>1)t.remarks.push({type:"error",text:"There may be only one MTA-STSv1 record at a given domain.",link:"https://tools.ietf.org/html/rfc8461#section-3.1"});else{const e=n[0];/^v=STSv1[ \t]*;[ \t]*id=[a-zA-Z0-9]{1,32}([ \t]*;[ \t]*)?$/.test(e.content)||e.remarks.push({type:"warning",text:"The MTA-STS record does not match the expected format.",link:"https://tools.ietf.org/html/rfc8461#section-3.1"})}const i=`https://mta-sts.${e}/.well-known/mta-sts.txt`,r=`https://${T.endpoint}/mta-sts.txt?domain=${e}`,o={domain:i,cnames:[],remarks:[{type:"info",text:"Loading (The proxy server is being started.)"}],records:[]};Te.state.queries.push(o),Te.update();try{const e=yield a.fetchWithError(r),t=yield e.text(),n={content:t,remarks:[],buttons:[]};o.records.push(n),o.remarks=[];const i=t.split("\n");""===i[i.length-1]&&i.pop();const s=new Set;let l="";for(const e of i){const t=e.indexOf(":");if(-1===t)n.remarks.push({type:"error",text:""===e.trim()?"Empty lines are not allowed according to the official grammar.":`"${e.trim()}" is not a valid policy field as it lacks a colon.`,link:"https://tools.ietf.org/html/rfc8461#section-3.2"});else{const i=e.substring(0,t),r=ke[i];if(/[ \t]/.test(i))n.remarks.push({type:"error",text:`The name "${i}" contains whitespace.`,link:"https://tools.ietf.org/html/rfc8461#section-3.2"});else if(void 0===r)n.remarks.push({type:"warning",text:`This tool doesn't know the policy name "${i}".`,link:"https://www.iana.org/assignments/mta-sts/mta-sts.xhtml#mta-sts-policy-fields"});else{const o=e.substring(t+1).trim();"mx"!==i&&s.has(i)?n.remarks.push({type:"warning",text:`Duplicate occurrences of "${i}" are ignored.`,link:"https://tools.ietf.org/html/rfc8461#section-3.2"}):(s.add(i),"mode"===i&&(l=o)),r.test(o)||n.remarks.push({type:"error",text:`"${o}" is not a valid value for "${i}".`,link:"https://tools.ietf.org/html/rfc8461#section-3.2"})}}}for(const e of["version","mode","max_age"])s.has(e)||n.remarks.push({type:"error",text:`Each MTA-STS policy must have a "${e}".`,link:"https://tools.ietf.org/html/rfc8461#section-3.2"});"none"===l||s.has("mx")||n.remarks.push({type:"error",text:'Each MTA-STS policy whose mode is not "none" must have at least one "mx" field.',link:"https://tools.ietf.org/html/rfc8461#section-3.2"})}catch(e){o.remarks=[{type:"info",text:"This domain has no MTA-STS policy file."}]}Te.update()}catch(e){Te.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}}},void 0),r.jsx(je,{},void 0)]},void 0),t.toolLookupTlsReporting=r.jsxs(o.Fragment,{children:[r.jsx(Le,{entries:{domain:Oe},submit:{text:"Query",title:"Query the TLS reporting record of the given domain name.",onClick:function({domain:e}){return i(this,void 0,void 0,(function*(){e=e.toLowerCase(),_e.setState({queries:[],error:void 0});try{const t=yield W("_smtp._tls."+e,"https://tools.ietf.org/html/rfc8460#section-7");_e.state.queries.push(t);const n=t.records.filter((e=>/^v=TLSRPTv1[ \t]*;.*$/.test(e.content)));if(0===n.length)t.remarks.push({type:"info",text:"This domain has no TLSRPTv1 record."});else if(n.length>1)t.remarks.push({type:"error",text:"There may be only one TLSRPTv1 record at a given domain.",link:"https://tools.ietf.org/html/rfc8460#section-3"});else{const e=n[0];/^v=TLSRPTv1[ \t]*;[ \t]*rua=(mailto:[a-zA-Z0-9.!#$%&'*+\-/=?^_`{|}~]+@([-a-zA-Z0-9]{1,63}\.)+[-a-zA-Z0-9]{1,63}|https:\/\/([-a-zA-Z0-9]{1,63}\.)+[-a-zA-Z0-9]{1,63}(:\d+)?\/[^,!;\s]*)([ \t]*,[ \t]*(mailto:[a-zA-Z0-9.!#$%&'*+\-/=?^_`{|}~]+@([-a-zA-Z0-9]{1,63}\.)+[-a-zA-Z0-9]{1,63}|https:\/\/([-a-zA-Z0-9]{1,63}\.)+[-a-zA-Z0-9]{1,63}(:\d+)?\/[^,!;\s]*))*([ \t]*;[ \t]*)?$/.test(e.content)||e.remarks.push({type:"warning",text:"The TLSRPTv1 record does not match the expected format.",link:"https://tools.ietf.org/html/rfc8460#section-3"})}_e.update()}catch(e){_e.setState(Object.assign(Object.assign({},{queries:[],error:void 0}),{error:e.message}))}}))}}},void 0),r.jsx(Ee,{},void 0)]},void 0),t.emailDomainInput=r.jsx(Le,{entries:{domain:Oe,dkimSelector:Ae}},void 0),t.emailDomainOutput=r.jsx(Ne,{entries:{domain:Oe}},void 0),t.emailDkimSelectorOutput=r.jsx(Ne,{entries:{dkimSelector:Ae}},void 0),t.bindSpfQuery=function(){for(const e of document.getElementsByClassName("bind-spf-query")){const{domain:t}=e.dataset;void 0!==t&&Ce.test(t)?e.addEventListener("click",De):console.error("The data attributes of the following element are invalid:",e)}}},9667:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toolLookupEmailRequests=t.endpoint=void 0;const r=n(5893),o=n(3804),s=n(2364),a=n(2299),l=n(2325),d=n(8385),c=n(1026),u=n(4318),h=n(6953),p=n(9190),f=n(980),m=n(9071),g=n(9238);function v(e,n){return`https://${t.endpoint}/${e}/${encodeURIComponent(n)}`}function y(e){return`https://${t.endpoint}/${e}.png`}t.endpoint="ef1p.herokuapp.com";const b=new p.Store({subscribing:!1,requests:[]},void 0),x=u.shareState(b)((function({subscribing:e,requests:t,message:n,token:i,link:a}){return r.jsxs(o.Fragment,{children:[!n&&e&&r.jsx("p",Object.assign({className:"text-center"},{children:"Please wait until the service has been started."}),void 0),t.length>0&&r.jsxs("table",Object.assign({className:"text-nowrap"},{children:[r.jsxs("thead",{children:[r.jsx("th",{children:"Time"},void 0),r.jsx("th",{children:"Target"},void 0),r.jsx("th",{children:"Address"},void 0),r.jsx("th",{children:"Location"},void 0),r.jsx("th",{children:"Client"},void 0)]},void 0),r.jsx("tbody",{children:t.map(((e,t)=>r.jsxs("tr",{children:[r.jsx("td",{children:e.time},void 0),r.jsx("td",{children:e.target},void 0),r.jsx("td",{children:r.jsx(d.ClickToCopy,{children:e.address},void 0)},void 0),r.jsx("td",{children:g.getMapLink(e.location)},void 0),r.jsx("td",{children:e.client},void 0)]},t)))},void 0)]}),void 0),n&&r.jsx("p",Object.assign({className:"text-center"},{children:n}),void 0),!n&&i&&0===t.length&&r.jsx("p",Object.assign({className:"text-center"},{children:"The link hasn't been visited and the image hasn't been requested yet."}),void 0),i&&a&&r.jsxs("p",Object.assign({className:"text-center"},{children:[r.jsx("button",Object.assign({type:"button",className:"btn btn-sm btn-primary",onClick:()=>s.copyToClipboard(v(i,a)),title:"Copy the link address to your clipboard."},{children:"Copy the link address"}),void 0),r.jsx("button",Object.assign({type:"button",className:"btn btn-sm btn-primary ml-3",onClick:()=>s.copyToClipboard(y(i)),title:"Copy the image address to your clipboard."},{children:"Copy the image address"}),void 0),r.jsx("a",Object.assign({href:"#tool-protocol-esmtp",className:"btn btn-sm btn-primary ml-3",onClick:()=>m.setBody("text/html",function(e,t){return`<html>\n<body>\n<p>\nHello, visit\n<a href="${v(e,t)}">\n${t}\n</a>\n<img src="${y(e)}">\n</p>\n</body>\n</html>`}(i,a)),title:"Generate the email body with the given link."},{children:"Generate the email body"}),void 0),r.jsx("button",Object.assign({type:"button",className:"btn btn-sm btn-primary ml-3",onClick:j,title:"Unsubscribe from the service."},{children:"Unsubscribe from the service"}),void 0)]}),void 0)]},void 0)}));let w,S;function T(e){return i(this,void 0,void 0,(function*(){const t=JSON.parse(e.data),n=yield f.getIpInfo(t.address);b.state.requests.push({time:l.Time.current().toLocalTime().toGregorianTime(),target:t.target,address:t.address,location:n,client:t.client}),b.update()}))}function j(){void 0!==w&&w.close()}const k={token:{name:"Token",description:"The token used to identify the requests.",defaultValue:"",inputType:"text",labelWidth:47,inputWidth:150,validate:e=>!/^[a-z0-9]*$/i.test(e)&&"The token has to consist of just letters and digits.",determine:{text:"Generate",title:"Generate a random token.",onClick:()=>i(void 0,void 0,void 0,(function*(){return[a.getRandomString(),!1]}))}},link:{name:"Link",description:"The web address for which you want to track when someone clicks on it.",defaultValue:"https://ef1p.com/email",inputType:"text",labelWidth:35,inputWidth:300,validate:e=>(""===e?"The web address may not be empty.":e.includes(" ")&&"The web address may not contain spaces.")||!e.startsWith("http://")&&!e.startsWith("https://")&&"The web address has to start with 'http://' or 'https://'."||!/^[-a-z0-9_.:/?&=!'()*%]+$/i.test(e)&&"Only the Latin alphabet is currently supported."||!/^(http|https):\/\/([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*[a-z][-a-z0-9]{0,61}[a-z0-9](:\d+)?(\/[a-z0-9-_.:/?&=!'()*%]*)?$/i.test(e)&&"The pattern of the web address is invalid."}},_=new p.PersistedStore(h.getDefaultVersionedState(k),{entries:k,onChange:function(){b.setState({subscribing:!1,requests:[],message:void 0,token:void 0,link:void 0})}},"lookup-email-requests"),E=u.shareStore(_,"input")(c.RawInput);t.toolLookupEmailRequests=r.jsxs(o.Fragment,{children:[r.jsx(E,{entries:k,submit:{text:"Subscribe",title:"Subscribe to the requests which are made with the given token.",onClick:function({token:e,link:n}){""===e&&(e=a.getRandomString(),h.setState(_,{token:e})),j(),b.setState({subscribing:!0});const i=`wss://${t.endpoint}/${e}`;w=new WebSocket(i),w.onopen=function(){S=window.setInterval((()=>this.send("keep alive")),3e4),console.log(`WebSocket to '${i}' opened.`),b.setState({subscribing:!1,token:e,link:n})},w.onerror=()=>{b.setState({message:"An error occurred."})},w.onclose=()=>{void 0!==S&&(window.clearInterval(S),S=void 0),w=void 0,console.log(`WebSocket to '${i}' closed.`),b.setState({token:void 0,link:void 0})},w.onmessage=T}}},void 0),r.jsx(x,{},void 0)]},void 0)},9238:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toolLookupIpAddress=t.setIpInfoInput=t.getMapLink=void 0;const r=n(5893),o=n(3804),s=n(2364),a=n(6427),l=n(1026),d=n(4318),c=n(6953),u=n(9190),h=n(6009),p=n(6670),f=n(980);function m(e,t="unknown"){return f.isSuccessfulIpInfoResponse(e)?r.jsxs("a",Object.assign({href:`https://www.google.com/maps/@?api=1&map_action=map&center=${e.loc}&zoom=10`},{children:[e.city," (",e.country,")"]}),void 0):t}t.getMapLink=m;const g=new u.Store({},void 0),v=d.shareState(g)((function({response:e,error:t}){if(t)return r.jsx("p",{children:"Could not retrieve information about this IP address. Make sure you have your adblocker disabled for this site."},void 0);if(e){if(f.isSuccessfulIpInfoResponse(e)){const t=r.jsx(a.DynamicOutput,Object.assign({title:"Click to copy. Right click to do a reverse lookup.",onClick:t=>s.copyToClipboard(e.ip),onContextMenu:t=>{p.setDnsResolverInputs(h.getReverseLookupDomain(e.ip),"PTR"),window.location.hash="#tool-lookup-dns-records",t.preventDefault()}},{children:e.ip}),void 0),n=m(e),i=e.org.replace(/^AS\d+/,"");return""===c.getCurrentState(b).ipAddress?r.jsxs("p",Object.assign({className:"dynamic-output-pointer"},{children:["Your IP address is ",t,". You're currently in ",n,", using the network of ",i,"."]}),void 0):r.jsxs("p",Object.assign({className:"dynamic-output-pointer"},{children:["The device with the IP address ",t," is likely located in ",n,". The network is operated by ",i,"."]}),void 0)}return r.jsxs("p",{children:["This IP address is ",r.jsx("a",Object.assign({href:"https://en.wikipedia.org/wiki/Reserved_IP_addresses"},{children:"reserved for special use"}),void 0),"."]},void 0)}return null}));const y={ipAddress:{name:"IPv4 address",description:"The IPv4 address you are interested in or nothing to take yours.",defaultValue:"",inputType:"text",labelWidth:95,inputWidth:170,placeholder:"defaults to your address",validate:e=>""!==e&&!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(e)&&"Please enter an IPv4 address or leave the field empty."}},b=new u.PersistedStore(c.getDefaultVersionedState(y),{entries:y,onChange:function({ipAddress:e}){return i(this,void 0,void 0,(function*(){try{const t=yield f.getIpInfo(e);g.setState({response:t,error:!1})}catch(e){g.setState({error:!0})}}))}},"lookup-ip-address"),x=d.shareStore(b,"input")(l.RawInput);t.setIpInfoInput=function(e){c.setState(b,{ipAddress:e})},t.toolLookupIpAddress=r.jsxs(o.Fragment,{children:[r.jsx(x,{entries:y,submit:{text:"Locate",title:"Locate the given IPv4 address.",onClick:()=>{}}},void 0),r.jsx(v,{},void 0)]},void 0)},9071:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.bindEsmtpExamples=t.setBody=t.esmtpMessageLength=t.esmtpMessage=t.toolProtocolEsmtpClient=t.toolProtocolEsmtp=t.implementation=t.connect=t.crlf=t.quiet=t.openssl=t.identifierRegex=t.usernameRegex=t.emailAddressesRegex=t.emailAddressRegex=t.domainRegex=t.regex=t.emailAddressRegexString=t.getUsername=t.getLocalPart=t.getDomain=void 0;const r=n(5893),o=n(3804),s=n(1054),a=n(2299),l=n(6427),d=n(2815),c=n(6874),u=n(7199),h=n(1026),p=n(1158),f=n(8441),m=n(6316),g=n(4318),v=n(6953),y=n(9190),b=n(6009),x=n(2061),w=n(980);function S(e,t){return a.splitOutsideOfDoubleQuotes(e[t],",").filter(a.nonEmpty).map((e=>{const t=(e=e.trim()).indexOf("<",e.lastIndexOf('"'));return t>=0?e.slice(t+1,-1):e}))}function T(e){return S(e,"from")[0]}function j(e){return a.unique(a.flatten(function(e){switch(e.recipients){case"all":return["to","cc","bcc"];case"toAndCc":return["to","cc"];case"onlyBcc":return["bcc"];default:throw Error(`Unsupported recipients options '${e.recipients}'.`)}}(e).map((t=>S(e,t)))))}function k(e){return e.substring(e.indexOf("@")+1)}function _(e){return e.substring(0,e.indexOf("@"))}function E(e,t){switch(e){case"full":return t;case"local":return _(t);default:throw Error(`Unsupported username format '${e}'.`)}}function C(){const[e,t,n,i,r,o]=(new Date).toString().split(" ");return`${e}, ${n} ${t} ${i} ${r} ${o.substring(3)}`}function O(e){return`<${a.getRandomString()+a.getRandomString()}@${k(T(e))}>`}function A(e,t,n){n||("submission"===t.mode?"implicit"===t.security?v.mergeIntoCurrentState(be,{port:465}):v.mergeIntoCurrentState(be,{port:587}):v.mergeIntoCurrentState(be,{port:25}))}t.getDomain=k,t.getLocalPart=_,t.getUsername=E;const R={implicit:"SSL",explicit:"STARTTLS",none:"plain"};let I="",P="",L="";function N(e,t,n){var r;return i(this,void 0,void 0,(function*(){if(n)return I="",P="",void(L="");const{mode:e,security:i,domain:o}=t;if(e!==I||i!==P||o!==L)if(I=e,P=i,L=o,"submission"===e)if(/^example\.(org|com|net)$/i.test(o))v.mergeIntoCurrentState(be,{server:"submission."+o});else{const e=yield x.findConfigurationFile(o,[],!0);if(e&&e.outgoingServers.length>0){const t=e.outgoingServers.filter((e=>e.socket===R[i])),n=t.length>0?t[0]:e.outgoingServers[0];P=null!==(r=a.reverseLookup(R,n.socket))&&void 0!==r?r:"implicit",v.mergeIntoCurrentState(be,{security:P,server:n.host,port:parseInt(n.port,10),username:"%EMAILLOCALPART%"===n.username?"local":"full",credential:n.authentication.includes("password-encrypted")?"hashed":"plain"})}else v.mergeIntoCurrentState(be,{server:""},{server:"Could not find the server. Please enter it manually."})}else if(/^example\.(org|com|net)$/i.test(o))v.mergeIntoCurrentState(be,{server:"relay."+o});else try{const e=(yield b.resolveDomainName(o,"MX")).answer.filter((e=>"MX"===e.type)).map((e=>{const t=e.data.split(" ");if(2!==t.length)throw new Error("Received an invalid MX record.");if("."===t[1])throw new Error(`${o} does not support email.`);return[parseInt(t[0],10),t[1].slice(0,-1)]}));e.length>0?(e.sort(((e,t)=>e[0]-t[0])),v.mergeIntoCurrentState(be,{server:e[0][1]})):v.mergeIntoCurrentState(be,{server:o})}catch(e){v.mergeIntoCurrentState(be,{server:""},{server:e.message})}}))}function D(e,t,n){n||v.mergeIntoCurrentState(be,{date:C(),identifier:O(t)})}const M="(([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\\.)*[a-z][-a-z0-9]{0,61}[a-z0-9])",V=`((\\[\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\])|${M}|localhost)`,F="[a-z0-9!#$%&'*+\\/=?^_`{|}~-]",U=`(${F}+(\\.${F}+)*)`,W=`((${F}+( *${F}+)*)|"[^"]*")`;t.emailAddressRegexString=`(${U}@${M})`;const B=`(${t.emailAddressRegexString}(, *${t.emailAddressRegexString})*)?`,z=`( *(${t.emailAddressRegexString}|(${W}? *\\<${t.emailAddressRegexString}\\>)) *)`,$=`(${z}(,${z})*)?`;t.regex=e=>new RegExp(`^${e}$`,"i"),t.domainRegex=t.regex(M);const q=t.regex(V);t.emailAddressRegex=t.regex(t.emailAddressRegexString),t.emailAddressesRegex=t.regex(B),t.usernameRegex=t.regex(`(${t.emailAddressRegexString}|${U})`);const H=t.regex(z),K=t.regex($),G=t.regex("([A-Z][a-z]{2}, \\d{2} [A-Z][a-z]{2} \\d{4} \\d{2}:\\d{2}:\\d{2} (\\+|\\-)\\d{4})"),Q=`(\\<${t.emailAddressRegexString}\\>)`;t.identifierRegex=t.regex(Q);const Y=300,X={name:"Mode",description:"Select whether you want to use SMTP for submission or for relay.",defaultValue:"submission",inputType:"select",labelWidth:46,selectOptions:{submission:"Submission",relay:"Relay"},onChange:[A,N]},Z={name:"Security",description:"Select which variant of TLS you want to use.",defaultValue:"implicit",inputType:"select",labelWidth:63,selectOptions:e=>"submission"===e.mode?{implicit:"Implicit TLS",explicit:"Explicit TLS"}:{explicit:"Explicit TLS",none:"No TLS"},onChange:[A,N]},J={name:"Recipients",description:"Select the group of recipients to which you want to send the message.",defaultValue:"all",inputType:"select",labelWidth:78,selectOptions:e=>{const t={all:"All"};return(S(e,"to").length>0||S(e,"cc").length>0)&&(t.toAndCc="To and Cc"),S(e,"bcc").length>0&&(t.onlyBcc="Only Bcc"),t}},ee={name:"Domain",description:"Select the email domain to which you want to submit or relay the message. The value can only be changed in the case of relay.",defaultValue:"example.org",inputType:"select",labelWidth:60,selectOptions:e=>a.createRecord(("submission"===e.mode?S(e,"from"):j(e)).map(k)),disable:({mode:e})=>"submission"===e,onChange:[A,N]},te={name:"Server",description:"The server to connect to. The server is determined automatically if possible but you can also set it manually.",defaultValue:"submission.example.org",inputType:"text",labelWidth:51,inputWidth:Y,validate:e=>!t.domainRegex.test(e)&&"Please enter a domain name in the preferred name syntax."},ne={name:"Port",description:"The port number of the server. The port number is determined automatically but you can also set the value manually.",defaultValue:465,inputType:"number",labelWidth:36,inputWidth:150,minValue:1,maxValue:65535,suggestedValues:[25,465,587],validate:e=>(e<1||e>65535)&&"The port has to be a number between 1 and 65535."},ie={name:"Client",description:'The IP or DNS address of your machine. Click on "Determine" to look it up or set it manually.',defaultValue:"localhost",inputType:"text",labelWidth:47,inputWidth:210,validate:e=>!q.test(e)&&"Please enter a domain name or an IPv4 address in brackets.",determine:{text:"Determine",title:"Determine the IP or DNS address of your machine.",onClick:function(){return i(this,void 0,void 0,(function*(){try{const{ip:e}=yield w.getIpInfo(),t=(yield b.resolveDomainName(b.getReverseLookupDomain(e),"PTR")).answer.filter((e=>"PTR"===e.type));return t.length>0?[t[0].data.slice(0,-1),!1]:[`[${e}]`,!1]}catch(e){return["",e.message]}}))}}},re={name:"Pipelining",description:"Whether to send several commands at once. Only activate this if the server lists PIPELINING in its response to the EHLO command.",defaultValue:!1,inputType:"checkbox",labelWidth:74},oe={name:"Password",description:"The password of your account. I recommend you to set up a test account for this. This is only relevant for submission.",defaultValue:"password",inputType:"password",labelWidth:73,inputWidth:Y,placeholder:"Your password",disable:({mode:e})=>"relay"===e},se={name:"Challenge",description:"The challenge received from the server when using the hashed password as the credential for submission.",defaultValue:"",inputType:"text",labelWidth:75,inputWidth:Y,placeholder:"CRAM-MD5 challenge from the server",disable:({mode:e,credential:t})=>"submission"!==e||"hashed"!==t,validate:(e,t)=>s.base64Regex.test(e)?"hashed"===t.credential&&""===e&&"Copy the Base64-encoded challenge from the server to this field.":"This is not a valid Base64 string."},ae={name:"From",longForm:"From:",description:'A single "From" address with an optional display name.',defaultValue:"Alice <alice@example.org>",inputType:"text",labelWidth:42,inputWidth:Y,validate:e=>!H.test(e)&&"Please enter a single address with an optional display name.",onChange:D};function le(e,t){return K.test(e)?""===t.to&&""===t.cc&&""===t.bcc&&"At least one recipient has to be provided.":"Please enter a comma-separated list of addresses."}const de={name:"To",longForm:"To:",description:'One or several "To" addresses with optional display names.',defaultValue:"Bob <bob@example.com>",inputType:"text",labelWidth:22,inputWidth:Y,validate:le,onChange:D},ce={name:"Cc",longForm:"Cc:",description:'One or several "Cc" addresses with optional display names.',defaultValue:"Carol <carol@example.com>",inputType:"text",labelWidth:23,inputWidth:Y,validate:le,onChange:D},ue={name:"Bcc",longForm:"Bcc:",description:'One or several "Bcc" addresses with optional display names.',defaultValue:"Dave <dave@example.net>",inputType:"text",labelWidth:30,inputWidth:Y,validate:le,onChange:D},he={name:"Subject",longForm:"Subject:",description:"The subject of the message you want to send.",defaultValue:"Yet another message",inputType:"text",labelWidth:57,inputWidth:Y,transform:s.encodeEncodedWordIfNecessary,onChange:D},pe={name:"Date",longForm:"Date:",description:"The date and time at which the message was completed. This field is updated automatically but you can also set the value manually.",defaultValue:C(),inputType:"text",labelWidth:40,inputWidth:Y,placeholder:C(),validate:e=>!G.test(e)&&"Please enter a date in the same format as provided."},fe={name:"Identifier",longForm:"Message-ID:",description:"An identifier which uniquely identifies this message. This field is updated automatically but you can also set the value manually.",defaultValue:"<unique-identifier@example.org>",inputType:"text",labelWidth:70,inputWidth:Y,placeholder:"<unique-identifier@example.org>",validate:e=>!t.identifierRegex.test(e)&&"Please enter a message ID in the same format as provided."},me=["text/plain","text/enriched","text/html","multipart/mixed","multipart/alternative","multipart/related"],ge={name:"Content",description:"Select the content type of the message. See the format section for more information.",defaultValue:"text/plain",inputType:"select",labelWidth:63,selectOptions:a.createRecord(me)},ve={name:"Body",description:"The content of the message you want to send.",defaultValue:"Hello,\n\nIt's me. Again.\n\nAlice",inputType:"textarea",labelWidth:41,inputWidth:Y,rows:4,transform:s.encodeQuotedPrintableIfNecessary,onChange:D},ye={mode:X,security:Z,recipients:J,domain:ee,server:te,port:ne,client:ie,pipelining:re,username:{name:"Username",description:"Select how to determine the username for authentication. This is only relevant for submission.",defaultValue:"full",inputType:"select",labelWidth:77,selectOptions:{full:"Full address",local:"Local part"},disable:({mode:e})=>"relay"===e},credential:{name:"Credential",description:"Select how to authenticate towards the server. This is only relevant for submission.",defaultValue:"plain",inputType:"select",labelWidth:79,selectOptions:{plain:"Plain password (PLAIN)",login:"Plain password (LOGIN)",hashed:"Hashed password (CRAM-MD5)"},disable:({mode:e})=>"relay"===e},password:oe,challenge:se,from:ae,to:de,cc:ce,bcc:ue,subject:he,date:pe,identifier:fe,content:ge,body:ve},be=new y.PersistedStore(v.getDefaultVersionedState(ye),{entries:ye},"protocol-esmtp"),xe=g.shareStore(be,"input")(h.RawInput),we=g.shareStore(be,"state")(p.RawOutputEntries),Se=g.shareStore(be,"state")(f.RawOutputFunction),Te=g.shareStore(be,"state")(c.RawIfCase),je=g.shareStore(be,"state")(u.RawIfEntries);t.openssl={name:"Command",description:"The command to open a TLS channel to the given server as a client.",defaultValue:"openssl s_client"},t.quiet={name:"Option",description:"This option tells OpenSSL not to output session and certificate information.",defaultValue:"-quiet"},t.crlf={name:"Option",description:"This option translates newlines from the command-line interface into carriage return and line feed characters (CR+LF) as required by the standard.",defaultValue:"-crlf"};t.connect={name:"Option",description:"The next argument specifies the server address and the port number to connect to.",defaultValue:"-connect"};t.implementation={name:"Implementation",description:"Many servers indicate the name of the server software but this is optional.",defaultValue:"Implementation"};const ke={name:"Status",description:"The status code to indicate that the server is closing the channel.",defaultValue:"221"},_e={name:"Description",description:"A short description of the status code for human users.",defaultValue:"Bye"},Ee={name:"Status",description:"The status code to indicate that the authentication was successful.",defaultValue:"235"},Ce={name:"Description",description:"An enhanced status code followed by a short description of the status code for human users.",defaultValue:"Authentication successful"},Oe={name:"Status",description:"The status code to indicate that the requested mail action was okay.",defaultValue:"250"},Ae={name:"Description",description:"A short description of the status code for human users.",defaultValue:"Ok"},Re={name:"Status",description:"The status code to indicate a Base64-encoded server challenge during authentication.",defaultValue:"334"},Ie={name:"Status",description:"The status code to indicate that the client can submit the message.",defaultValue:"354"},Pe={name:"Description",description:"A short description of the status code for human users. (CR: carriage return, LF: line feed)",defaultValue:"End data with <CR><LF>.<CR><LF>"},Le={name:"Extension",description:"This extension defines more precise status codes, which are appended to the original status codes.",defaultValue:"ENHANCEDSTATUSCODES"},Ne={name:"Enhanced status code",description:'The format is "class.subject.detail". The 2 means success and the two 0s mean other, undefined status.',defaultValue:"2.0.0"},De={name:"Enhanced status code",description:'The format is "class.subject.detail". The 2 means success, the 1 means it\'s address-related, and the 0 means other status.',defaultValue:"2.1.0"},Me={name:"Enhanced status code",description:'The format is "class.subject.detail". The 2 means success, the 1 means it\'s address-related, and the 5 means that the destination address is valid.',defaultValue:"2.1.5"},Ve={name:"Enhanced status code",description:'The format is "class.subject.detail". The 2 means success, the 7 means it\'s security-related, and the 0 means other or undefined status.',defaultValue:"2.7.0"},Fe={name:"Extension",description:"This extension allows the client to send several commands at once.",defaultValue:"PIPELINING"},Ue={name:"Command",description:"The command to indicate the address to deliver automatic replies, such as bounce messages, to.",defaultValue:"MAIL FROM:"},We='Unless an email is forwarded by a mailing list, the "From" address is used as the so-called return path.',Be={name:"Command",description:"The command to indicate a recipient of the message.",defaultValue:"RCPT TO:"},ze="One of the recipients to which the server shall deliver the message.",$e={name:"Command",description:"The command to start the transmission of the message.",defaultValue:"DATA"},qe={name:"Termination",description:"A period on a line of its own indicates the end of the message.",defaultValue:"."},He={name:"Command",description:"The command to request the closure of the transmission channel.",defaultValue:"QUIT"},Ke={name:"Extension",description:"The authentication extension used to authenticate the user before submitting a message.",defaultValue:"AUTH"},Ge={name:"Mechanism",description:'Make sure that "PLAIN" is among the authentication mechanisms offered by the server.',defaultValue:"PLAIN"},Qe={name:"Argument",description:"base64Encode(NULL + username + NULL + password)",defaultValue:"",transform:(e,t)=>s.toPlainEncoding(E(t.username,T(t)),t.password)},Ye={name:"Mechanism",description:'Make sure that "LOGIN" is among the authentication mechanisms offered by the server.',defaultValue:"LOGIN"},Xe={name:"Challenge",description:'base64Encode("Username:")',defaultValue:s.encodeBase64("Username:")},Ze={name:"Response",description:"base64Encode(username)",defaultValue:"",transform:(e,t)=>s.encodeBase64(E(t.username,T(t)))},Je={name:"Challenge",description:'base64Encode("Password:")',defaultValue:s.encodeBase64("Password:")},et={name:"Response",description:"base64Encode(password)",defaultValue:"",transform:(e,t)=>s.encodeBase64(t.password)},tt={name:"Mechanism",description:'Make sure that "CRAM-MD5" is among the authentication mechanisms offered by the server.',defaultValue:"CRAM-MD5"},nt={name:"Response",description:'base64Encode(username + " " + createHmac("md5", password).update(base64Decode(challenge)).digest("hex"))',defaultValue:"",transform:(e,t)=>s.toCramMd5Encoding(E(t.username,T(t)),t.password,t.challenge)};const it={name:"Body",description:"The body of the message. Lines which start with a period are escaped with an additional period.",defaultValue:"",transform:(e,t)=>function(e){return e.split("\n").map((e=>e.startsWith(".")?"."+e:e)).join("\n")}(s.encodeQuotedPrintableIfNecessary(t.body))},rt={name:"MIME version",longForm:"MIME-Version:",description:"The used version of Multipurpose Internet Mail Extensions (MIME).",defaultValue:"1.0",skip:e=>"text/plain"===e.content&&s.isInAsciiRange(e.body)},ot={name:"Content type",longForm:"Content-Type:",description:"Indicates the content type of the body and the appropriate character set.",defaultValue:"",skip:e=>"text/plain"===e.content&&s.isInAsciiRange(e.body),transform:(e,t)=>{if(t.content.startsWith("text/"))return t.content+"; charset="+s.getIanaCharset(t.body);if(t.content.startsWith("multipart/")){let e=t.content+'; boundary="UniqueBoundary"';if("multipart/related"===t.content){const n=t.body.match(/Content-Type:\s*(.*?);/i);null!==n&&(e+=`; type="${n[1]}"`)}return e}return console.error("Unknown ESMTP content type:",t.content),"ERROR"}},st={name:"Content transfer encoding",longForm:"Content-Transfer-Encoding:",description:"Indicates that the body has been encoded as quoted-printable (see the section on the format of messages).",defaultValue:"quoted-printable",skip:e=>s.isInAsciiRange(e.body)};function at(e,t){return r.jsxs(l.DynamicOutput,Object.assign({title:t},{children:["<",e,">"]}),void 0)}function lt(e,t){v.setState(be,{content:e,body:t.replace(/\\n/g,"\n")})}function dt(){lt(this.dataset.content,this.dataset.body)}t.toolProtocolEsmtp=r.jsxs(o.Fragment,{children:[r.jsx(xe,{entries:ye,newColumnAt:12},void 0),r.jsxs(l.CodeBlock,{children:[r.jsxs(m.StaticPrompt,{children:[r.jsx(Te,Object.assign({entry:"security",value:"none"},{children:r.jsx(we,{entries:{telnet:{name:"Command",description:"The command to open a TCP channel to the given server.",defaultValue:"telnet"},server:te,port:ne}},void 0)}),void 0),r.jsxs(Te,Object.assign({entry:"security",value:"none",not:!0},{children:[r.jsx(we,{entries:{openssl:t.openssl,quiet:t.quiet,crlf:t.crlf,starttls:{name:"Option",description:"Send the SMTP-specific command sequence to start TLS for the rest of the communication.",defaultValue:"-starttls smtp",skip:e=>"explicit"!==e.security},connect:t.connect,server:te}},void 0),":",r.jsx(we,{entries:{port:ne}},void 0)]}),void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status220:{name:"Status",description:"The status code to indicate that the server is ready.",defaultValue:"220"},server:te,protocol:{name:"Protocol",description:"Many servers provide the name of the protocol but this is optional.",defaultValue:"ESMTP"},implementation:t.implementation}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{EHLO:{name:"Command",description:"The greeting command of ESMTP for disclosing your identity and prompting the server to list its supported extensions.",defaultValue:"EHLO"},client:ie}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(we,{entries:{status250:Oe}},void 0),"-",r.jsx(we,{entries:{server:te,greets:{name:"Description",description:"An arbitrary welcome message for human users.",defaultValue:"at your service,"},client:ie}},void 0)]},void 0),r.jsxs(je,Object.assign({entries:{pipelining:re},not:!0},{children:[r.jsx(Te,Object.assign({entry:"mode",value:"relay"},{children:r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,ENHANCEDSTATUSCODES:Le}},void 0)},void 0)}),void 0),r.jsxs(Te,Object.assign({entry:"mode",value:"submission"},{children:[r.jsxs(l.SystemReply,{children:[r.jsx(we,{entries:{status250:Oe}},void 0),"-",r.jsx(we,{entries:{ENHANCEDSTATUSCODES:Le}},void 0)]},void 0),r.jsxs(Te,Object.assign({entry:"credential",value:"plain"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,AUTH:Ke,PLAIN:Ge}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{AUTH:Ke,PLAIN:Ge,plainArgument:Qe}},void 0)},void 0)]}),void 0),r.jsxs(Te,Object.assign({entry:"credential",value:"login"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,AUTH:Ke,LOGIN:Ye}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{AUTH:Ke,LOGIN:Ye}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status334:Re,loginUsernameChallenge:Xe}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{loginUsernameResponse:Ze}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status334:Re,loginPasswordChallenge:Je}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{loginPasswordResponse:et}},void 0)},void 0)]}),void 0),r.jsxs(Te,Object.assign({entry:"credential",value:"hashed"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,AUTH:Ke,CRAM_MD5:tt}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{AUTH:Ke,CRAM_MD5:tt}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status334:Re,challenge:se}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{cramMd5Response:nt}},void 0)},void 0)]}),void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status235:Ee,enhancedStatus270:Ve,successful:Ce}},void 0)},void 0)]}),void 0),r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{MAIL_FROM:Ue}},void 0),r.jsx(Se,{function:e=>at(T(e),We)},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus210:De,ok:Ae}},void 0)},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsxs(o.Fragment,{children:[r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{RCPT_TO:Be}},void 0),r.jsx(Se,{function:t=>at(e,ze)},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus215:Me,ok:Ae}},void 0)},void 0)]},void 0)))},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{DATA:$e}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status354:Ie,endData:Pe}},void 0)},void 0),r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{from:ae,to:de,cc:ce},outputSeparator:r.jsx("br",{},void 0)},void 0),r.jsx("br",{},void 0),r.jsxs(Te,Object.assign({entry:"recipients",value:"onlyBcc"},{children:[r.jsx(we,{entries:{bcc:ue}},void 0),r.jsx("br",{},void 0)]}),void 0),r.jsx(we,{entries:{subject:he,date:pe,identifier:fe,mimeVersion:rt,contentType:ot,contentTransferEncoding:st},outputSeparator:r.jsx("br",{},void 0)},void 0),r.jsx("br",{},void 0),r.jsx("br",{},void 0),r.jsx(we,{entries:{dotStuffedBody:it,period:qe},outputSeparator:r.jsx("br",{},void 0)},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus200:Ne,ok:Ae}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{QUIT:He}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status221:ke,enhancedStatus200:Ne,bye:_e}},void 0)},void 0)]}),void 0),r.jsxs(je,Object.assign({entries:{pipelining:re}},{children:[r.jsxs(l.SystemReply,{children:[r.jsx(we,{entries:{status250:Oe}},void 0),"-",r.jsx(we,{entries:{ENHANCEDSTATUSCODES:Le}},void 0)]},void 0),r.jsxs(Te,Object.assign({entry:"mode",value:"relay"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,PIPELINING:Fe}},void 0)},void 0),r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{MAIL_FROM:Ue}},void 0),r.jsx(Se,{function:e=>at(T(e),We)},void 0),r.jsx("br",{},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(we,{entries:{RCPT_TO:Be}},void 0),r.jsx(Se,{function:t=>at(e,ze)},void 0),r.jsx("br",{},void 0)]},void 0)))},void 0),r.jsx(we,{entries:{DATA:$e}},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus210:De,ok:Ae}},void 0)},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus215:Me,ok:Ae}},void 0)},void 0)))},void 0)]}),void 0),r.jsxs(Te,Object.assign({entry:"mode",value:"submission"},{children:[r.jsxs(l.SystemReply,{children:[r.jsx(we,{entries:{status250:Oe}},void 0),"-",r.jsx(we,{entries:{PIPELINING:Fe}},void 0)]},void 0),r.jsxs(Te,Object.assign({entry:"credential",value:"plain"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,AUTH:Ke,PLAIN:Ge}},void 0)},void 0),r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{AUTH:Ke,PLAIN:Ge,plainArgument:Qe}},void 0),r.jsx("br",{},void 0),r.jsx(we,{entries:{MAIL_FROM:Ue}},void 0),r.jsx(Se,{function:e=>at(T(e),We)},void 0),r.jsx("br",{},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(we,{entries:{RCPT_TO:Be}},void 0),r.jsx(Se,{function:t=>at(e,ze)},void 0),r.jsx("br",{},void 0)]},void 0)))},void 0),r.jsx(we,{entries:{DATA:$e}},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status235:Ee,enhancedStatus270:Ve,successful:Ce}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus210:De,ok:Ae}},void 0)},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus215:Me,ok:Ae}},void 0)},void 0)))},void 0)]}),void 0),r.jsxs(Te,Object.assign({entry:"credential",value:"plain",not:!0},{children:[r.jsxs(Te,Object.assign({entry:"credential",value:"login"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,AUTH:Ke,LOGIN:Ye}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{AUTH:Ke,LOGIN:Ye}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status334:Re,loginUsernameChallenge:Xe}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{loginUsernameResponse:Ze}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status334:Re,loginPasswordChallenge:Je}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{loginPasswordResponse:et}},void 0)},void 0)]}),void 0),r.jsxs(Te,Object.assign({entry:"credential",value:"hashed"},{children:[r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,AUTH:Ke,CRAM_MD5:tt}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{AUTH:Ke,CRAM_MD5:tt}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status334:Re,challenge:se}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(we,{entries:{cramMd5Response:nt}},void 0)},void 0)]}),void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status235:Ee,enhancedStatus270:Ve,successful:Ce}},void 0)},void 0),r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{MAIL_FROM:Ue}},void 0),r.jsx(Se,{function:e=>at(T(e),We)},void 0),r.jsx("br",{},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(we,{entries:{RCPT_TO:Be}},void 0),r.jsx(Se,{function:t=>at(e,ze)},void 0),r.jsx("br",{},void 0)]},void 0)))},void 0),r.jsx(we,{entries:{DATA:$e}},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus210:De,ok:Ae}},void 0)},void 0),r.jsx(Se,{function:e=>j(e).filter((t=>"relay"!==e.mode||k(t)===e.domain)).map((e=>r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus215:Me,ok:Ae}},void 0)},void 0)))},void 0)]}),void 0)]}),void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status354:Ie,endData:Pe}},void 0)},void 0),r.jsxs(l.UserCommand,{children:[r.jsx(we,{entries:{from:ae,to:de,cc:ce},outputSeparator:r.jsx("br",{},void 0)},void 0),r.jsx("br",{},void 0),r.jsxs(Te,Object.assign({entry:"recipients",value:"onlyBcc"},{children:[r.jsx(we,{entries:{bcc:ue}},void 0),r.jsx("br",{},void 0)]}),void 0),r.jsx(we,{entries:{subject:he,date:pe,identifier:fe,mimeVersion:rt,contentType:ot,contentTransferEncoding:st},outputSeparator:r.jsx("br",{},void 0)},void 0),r.jsx("br",{},void 0),r.jsx("br",{},void 0),r.jsx(we,{entries:{dotStuffedBody:it,period:qe,QUIT:He},outputSeparator:r.jsx("br",{},void 0)},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status250:Oe,enhancedStatus200:Ne,ok:Ae}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(we,{entries:{status221:ke,enhancedStatus200:Ne,bye:_e}},void 0)},void 0)]}),void 0)]},void 0)]},void 0),t.toolProtocolEsmtpClient=r.jsx(xe,{entries:{client:ie},noHistory:!0},void 0),t.esmtpMessage=r.jsxs(o.Fragment,{children:[r.jsx(we,{entries:{from:ae,to:de,cc:ce,bcc:ue,subject:he,date:pe,identifier:fe,mimeVersion:rt,contentType:ot,contentTransferEncoding:st},outputSeparator:r.jsx("br",{},void 0)},void 0),r.jsx("br",{},void 0),r.jsx("br",{},void 0),r.jsx(we,{entries:{body:ve}},void 0),r.jsx("br",{},void 0)]},void 0),t.esmtpMessageLength=r.jsx(Se,{function:e=>{let t=0;const n={from:ae,to:de,cc:ce,bcc:ue,subject:he,date:pe,identifier:fe,mimeVersion:rt,contentType:ot,contentTransferEncoding:st};for(const i of Object.keys(n)){const r=n[i],o=d.isDynamicEntry(r)?e[i]:a.normalizeToValue(r.defaultValue,void 0),s=r.transform?r.transform(o,e):o.toString();(r.skip?r.skip(e,o):!o)||(t+=r.longForm.length+s.length+3)}return t+=s.encodeQuotedPrintableIfNecessary(e.body).length+4,r.jsx(l.DynamicOutput,Object.assign({title:"Length: The length of the message in bytes."},{children:`{${t}}`}),void 0)}},void 0),t.setBody=lt,t.bindEsmtpExamples=function(){for(const e of document.getElementsByClassName("bind-esmtp-example")){const{content:t,body:n}=e.dataset;void 0!==t&&me.includes(t)&&void 0!==n?e.addEventListener("click",dt):console.error("The data attributes of the following element are invalid:",e)}}},8683:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toolProtocolImap=void 0;const r=n(5893),o=n(3804),s=n(2299),a=n(2325),l=n(6427),d=n(7199),c=n(1026),u=n(1158),h=n(8441),p=n(6316),f=n(4318),m=n(6953),g=n(9190),v=n(2061),y=n(9071);const b={implicit:"SSL",explicit:"STARTTLS"};let x="",w="";function S(e,t,n){var r,o;return i(this,void 0,void 0,(function*(){if(n)return x="",void(w="");const{security:e,address:i}=t;if(e===x&&i===w)return;x=e,w=i;const a=y.getDomain(i);if(/^example\.(org|com|net)$/i.test(a))m.mergeIntoCurrentState(K,{server:"imap."+a});else{const t=yield v.findConfigurationFile(a,[],!0),n=(null!==(r=null==t?void 0:t.incomingServers)&&void 0!==r?r:[]).filter((e=>"imap"===e.type));if(n.length>0){const t=n.filter((t=>t.socket===b[e])),i=t.length>0?t[0]:n[0];x=null!==(o=s.reverseLookup(b,i.socket))&&void 0!==o?o:"implicit",m.mergeIntoCurrentState(K,{security:x,server:i.host,port:parseInt(i.port,10),username:"%EMAILLOCALPART%"===i.username?"local":"full"})}else m.mergeIntoCurrentState(K,{server:""},{server:"Could not find the server. Please enter it manually."})}}))}const T=240,j={name:"Address",description:"The address of your mailbox.",defaultValue:"alice@example.org",inputType:"text",labelWidth:63,inputWidth:T,validate:e=>!y.emailAddressRegex.test(e)&&"Please enter a single email address.",transform:(e,t)=>y.getUsername(t.username,e),onChange:S},k={name:"Password",description:"The password of your account. I recommend you to set up a test account for this.",defaultValue:"password",inputType:"password",labelWidth:73,inputWidth:T},_={name:"Security",description:"Select which variant of TLS you want to use.",defaultValue:"implicit",inputType:"select",labelWidth:63,selectOptions:{implicit:"Implicit TLS",explicit:"Explicit TLS"},onChange:[function(e,t,n){n||("implicit"===t.security?m.mergeIntoCurrentState(K,{port:993}):m.mergeIntoCurrentState(K,{port:143}))},S]},E={name:"Server",description:"The server to connect to. The server is determined automatically if possible but you can also set it manually.",defaultValue:"imap.example.org",inputType:"text",labelWidth:51,inputWidth:T,validate:e=>!y.domainRegex.test(e)&&"Please enter a domain name in the preferred name syntax."},C={name:"Port",description:"The port number of the server. The port number is determined automatically but you can also set the value manually.",defaultValue:993,inputType:"number",labelWidth:36,inputWidth:120,minValue:1,maxValue:65535,suggestedValues:[143,993],validate:e=>(e<1||e>65535)&&"The port has to be a number between 1 and 65535."},O={name:"List",description:"Whether to list all folders.",defaultValue:!1,inputType:"checkbox",labelWidth:30},A={name:"Write",description:"Whether to allow modifications to the selected folder.",defaultValue:!1,inputType:"checkbox",labelWidth:46},R={name:"Fetch",description:"Select what you want to fetch.",defaultValue:"(BODY[])",inputType:"select",labelWidth:44,selectOptions:{INTERNALDATE:"Date",FLAGS:"Flags","BODY.PEEK[HEADER]":"Header","BODY[]":"Message","BODY.PEEK[HEADER.FIELDS (SUBJECT)]":"Subject","BODY[TEXT]":"Text"}},I={name:"Search",description:"Whether to fetch (and delete) the search result instead of the specified messages.",defaultValue:!1,inputType:"checkbox",labelWidth:53,longForm:"ESEARCH SEARCHRES"},P=/^(\d+|\*)(\:(\d+|\*))?(,(\d+|\*)(\:(\d+|\*))?)*$/;const L={name:"Messages",description:'The message numbers you want to fetch. Examples: "4", "6:8", "4,6:8", or "1:*".',defaultValue:"4",inputType:"text",labelWidth:74,inputWidth:120,disable:({search:e})=>e,validate:e=>P.test(e)?!e.split(/[,\:]/).filter((e=>"*"!==e)).map((e=>Number.parseInt(e,10))).every((e=>e>0&&e<4294967296))&&"Every number has to be between 0 and 4'294'967'296.":"Please enter a valid message set.",transform:(e,{search:t})=>t?"$":e};function N(e){return Math.max(...e.messages.split(/[,\:]/).map((e=>"*"===e?1:Number.parseInt(e,10))))}function D(e){if(e.search)return["$"];if(e.messages.includes("*"))return["?"];{const t=[],n=e.messages.split(",");for(const e of n){const n=e.split(":").map((e=>Number.parseInt(e,10))),i=n[0],r=n[n.length-1],o=Math.min(i,r),s=Math.max(i,r);for(let e=o;e<=s;e++)t.push(e)}return s.sortNumbers(s.unique(t)).map((e=>e.toString()))}}const M={ANSWERED:{name:"Answered"},SINCE:{name:"After",date:!0},BCC:{name:"Bcc",value:!0},BEFORE:{name:"Before",date:!0},BODY:{name:"Body",value:!0},CC:{name:"Cc",value:!0},FLAGGED:{name:"Flagged"},FROM:{name:"From",value:!0},ON:{name:"On",date:!0},SUBJECT:{name:"Subject",value:!0},TEXT:{name:"Text",value:!0},TO:{name:"To",value:!0},UNSEEN:{name:"Unread"}},V={};for(const e of Object.keys(M))V[e]=M[e].name;const F={name:"Criterion",description:"Select the criteria you want to search for.",defaultValue:"SUBJECT",inputType:"select",labelWidth:69,selectOptions:V,disable:({search:e})=>!e},U={name:"Value",description:"The value you want to search for.",defaultValue:"",inputType:"text",labelWidth:44,inputWidth:T,disable:({search:e,criterion:t})=>!e||!M[t].value,skip:({criterion:e})=>!M[e].value,transform:s.doubleQuote},W={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};const B={name:"Date",description:"The date you want to search for.",defaultValue:a.Time.current().toLocalTime().toGregorianDate(),inputType:"date",labelWidth:40,disable:({search:e,criterion:t})=>!e||!M[t].date,skip:({criterion:e})=>!M[e].date,transform:function(e){var t;const n=e.split("-");return Number.parseInt(n[2],10).toString()+"-"+(null!==(t=W[n[1]])&&void 0!==t?t:"Jan")+"-"+n[0]}},z={name:"Delete",description:"Whether to delete the fetched message on the server.",defaultValue:!1,inputType:"checkbox",labelWidth:52,disable:({write:e})=>!e},$={name:"Append",description:"Whether to add a message to the selected folder.",defaultValue:!1,inputType:"checkbox",labelWidth:60,disable:({write:e})=>!e},q={name:"Idle",description:"Whether to listen for changes to the selected folder.",defaultValue:!1,inputType:"checkbox",labelWidth:31,longForm:"IDLE"},H={address:j,password:k,security:_,server:E,port:C,username:{name:"Username",description:"Select how to determine the username for authentication.",defaultValue:"full",inputType:"select",labelWidth:77,selectOptions:{full:"Full address",local:"Local part"}},list:O,write:A,fetch:R,search:I,messages:L,criterion:F,value:U,date:B,deletion:z,append:$,idle:q},K=new g.PersistedStore(m.getDefaultVersionedState(H),{entries:H},"protocol-imap"),G=f.shareStore(K,"input")(c.RawInput),Q=f.shareStore(K,"state")(u.RawOutputEntries),Y=f.shareStore(K,"state")(h.RawOutputFunction),X=f.shareStore(K,"state")(d.RawIfEntries);function Z(e){return{name:"Tag",description:"A unique tag to match the command with its response.",defaultValue:e}}const J=Z("I"),ee=Z("C"),te=Z("L"),ne=Z("E"),ie=Z("S"),re=Z("F"),oe=Z("D"),se=Z("X"),ae=Z("A"),le=Z("W"),de=Z("O"),ce={name:"Status response",description:"Everything went fine.",defaultValue:"OK"},ue={name:"Description",description:"An optional text for human users.",defaultValue:"completed"},he={name:"Asterisk",description:"This marks a server response.",defaultValue:"*"},pe={name:"Command",description:"The command to log in as the user whose messages you would like to retrieve.",defaultValue:"LOGIN"},fe={name:"Command",description:"The command to list the supported capabilities.",defaultValue:"CAPABILITY"},me={name:"Command",description:"The command to list all folders matching the given pattern in the given context.",defaultValue:"LIST"},ge={name:"Attribute",description:"This attribute indicates that the folder at the end of the line has no children.",defaultValue:"\\HasNoChildren"};function ve(e){return{name:"Attribute",description:"This attributes marks the role of the folder so that mail clients can recognize it independent of the potentially internationalized folder name.",defaultValue:e}}const ye=ve("\\All"),be=ve("\\Sent"),xe=ve("\\Drafts"),we=ve("\\Trash"),Se=ve("\\Junk"),Te={name:"Delimiter",description:"The delimiter used to separate folder names in the hierarchy.",defaultValue:'"/"'},je={name:"Folder",description:'"INBOX" is a special name reserved for the primary folder of the user.',defaultValue:'"INBOX"'};function ke(e){return{name:"Folder",description:"The absolute name of this folder.",defaultValue:'"'+e+'"'}}const _e=ke("All Mail"),Ee=ke("Sent Mail"),Ce=ke("Drafts"),Oe=ke("Trash"),Ae=ke("Spam"),Re={name:"Command",description:"The command to open the given folder in read-only mode.",defaultValue:"EXAMINE",skip:e=>e.write},Ie={name:"Command",description:"The command to open the given folder in read-write mode.",defaultValue:"SELECT",skip:e=>!e.write},Pe={name:"Information",description:"The number of messages in the folder. Make sure that your folder has at least as many messages. Otherwise, the following commands might fail.",defaultValue:"",transform:(e,t)=>`${N(t)} EXISTS`},Le={name:"Information",description:"The number of messages which haven't yet been retrieved by a client (and thus still have the \\Recent flag).",defaultValue:"2 RECENT"},Ne={name:"Information",description:"The sequence number of the first message, which hasn't been seen/read yet (and thus doesn't have the \\Seen flag yet).",defaultValue:"",transform:(e,t)=>`[UNSEEN ${N(t)-2+1}]`},De={name:"Information",description:"The unique identifier (UID) which will be applied to the next message.",defaultValue:"",transform:(e,t)=>`[UIDNEXT ${N(t)+1}]`},Me={name:"Information",description:"The client has to erase its identifier to message mapping if this value changes.",defaultValue:"[UIDVALIDITY 1]"},Ve={name:"Information",description:"The flags that the client can change permanently. The list is empty when examining the folder in read-only mode.",defaultValue:"",transform:(e,{write:t})=>`[PERMANENTFLAGS (${t?"\\Answered \\Flagged \\Deleted \\Seen \\Draft \\*":""})]`},Fe={name:"Information",description:"The flags which are defined in the folder.",defaultValue:"FLAGS (\\Answered \\Flagged \\Deleted \\Seen \\Draft)"},Ue={name:"Command",description:"The command to open the given folder in read-only mode.",defaultValue:"SEARCH"},We={name:"Command",description:"The command to fetch the specified messages or the search result.",defaultValue:"FETCH"},Be={name:"Length",description:"The length of the data in bytes with newlines counting as two (CR + LF).",defaultValue:"{123}"},ze={name:"Data",description:"This is just a placeholder for the actual data.",defaultValue:"{Data}"},$e={name:"Command",description:"The command to add or remove flags from the specified messages.",defaultValue:"STORE"},qe={name:"Flags",description:"The list of flags that the given message now has.",defaultValue:"(FLAGS (\\Deleted \\Seen))"},He={name:"Command",description:"The command to permanently delete all messages marked as deleted in the folder.",defaultValue:"EXPUNGE"},Ke={name:"Update",description:"The server informs the client about the new number of messages in the folder.",defaultValue:"",transform:(e,t)=>N(t)-D(t).length+" EXISTS"},Ge={name:"Command",description:"The command to add the given message to the specified folder.",defaultValue:"APPEND"},Qe={name:"Update",description:"The server informs the client about the new number of messages in the folder.",defaultValue:"",transform:(e,t)=>N(t)-(t.deletion?D(t).length:0)+1+" EXISTS"},Ye={name:"Command",description:"The command to .",defaultValue:"IDLE"},Xe={name:"Update",description:"The server informs the client that a new message arrived by providing the new number of messages.",defaultValue:"",transform:(e,t)=>N(t)-(t.deletion?D(t).length:0)+(t.append?1:0)+1+" EXISTS"},Ze={name:"Update",description:"The server informs the client that there are now three messages in the folder.",defaultValue:"",transform:(e,t)=>N(t)-(t.deletion?D(t).length:0)+(t.append?1:0)+" EXISTS"},Je={name:"Option",description:"The command to log out and let the server close the network connection.",defaultValue:"LOGOUT"};function et(e){return{name:"Message number",description:"$"===e?"Instead of the dollar sign, you get this response for each message which matched your search query.":"?"===e?"Instead of the question mark, you get this response for each message in your set.":"The sequence number of the message to which the response belongs.",defaultValue:e}}t.toolProtocolImap=r.jsxs(o.Fragment,{children:[r.jsx(G,{entries:H,newColumnAt:9},void 0),r.jsxs(l.CodeBlock,{children:[r.jsxs(p.StaticPrompt,{children:[r.jsx(Q,{entries:{openssl:y.openssl,quiet:y.quiet,crlf:y.crlf,starttls:{name:"Option",description:"Send the IMAP-specific command sequence to start TLS for the rest of the communication.",defaultValue:"-starttls imap",skip:e=>"explicit"!==e.security},connect:y.connect,server:E}},void 0),":",r.jsx(Q,{entries:{port:C}},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(Q,{entries:{asterisk:he,OK:ce,implementation:y.implementation,ready:{name:"Description",description:"An optional text for human users.",defaultValue:"ready"}}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagI:J,LOGIN:pe,address:j,password:k}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(Q,{entries:{tagI:J,OK:ce,LOGIN:pe,completed:ue}},void 0)},void 0),r.jsxs(X,Object.assign({entries:{search:I,idle:q},or:!0},{children:[r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagC:ee,CAPABILITY:fe}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Q,{entries:{asterisk:he,CAPABILITY:fe,IMAP4rev1:{name:"Capability",description:"This capability has to be part of the list.",defaultValue:"IMAP4rev1"},search:I,idle:q}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{tagC:ee,OK:ce,CAPABILITY:fe,completed:ue}},void 0)]},void 0)]}),void 0),r.jsxs(X,Object.assign({entries:{list:O}},{children:[r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagL:te,LIST:me,context:{name:"Context",description:"The context can be used to restrict the returned folders as a path prefix.",defaultValue:'""'},pattern:{name:"Pattern",description:"The pattern can be used to filter the returned folders based on its path.",defaultValue:'"*"'}}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Q,{entries:{asterisk:he,LIST:me}},void 0)," (",r.jsx(Q,{entries:{hasNoChildren:ge}},void 0),") ",r.jsx(Q,{entries:{delimiter:Te,INBOX:je}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,LIST:me}},void 0)," (",r.jsx(Q,{entries:{hasNoChildren:ge,all:ye}},void 0),") ",r.jsx(Q,{entries:{delimiter:Te,allFolder:_e}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,LIST:me}},void 0)," (",r.jsx(Q,{entries:{hasNoChildren:ge,sent:be}},void 0),") ",r.jsx(Q,{entries:{delimiter:Te,sentFolder:Ee}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,LIST:me}},void 0)," (",r.jsx(Q,{entries:{hasNoChildren:ge,drafts:xe}},void 0),") ",r.jsx(Q,{entries:{delimiter:Te,draftsFolder:Ce}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,LIST:me}},void 0)," (",r.jsx(Q,{entries:{hasNoChildren:ge,trash:we}},void 0),") ",r.jsx(Q,{entries:{delimiter:Te,trashFolder:Oe}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,LIST:me}},void 0)," (",r.jsx(Q,{entries:{hasNoChildren:ge,junk:Se}},void 0),") ",r.jsx(Q,{entries:{delimiter:Te,spamFolder:Ae}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{tagL:te,OK:ce,LIST:me,completed:ue}},void 0)]},void 0)]}),void 0),r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagE:ne,EXAMINE:Re,SELECT:Ie,INBOX:je}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Q,{entries:{asterisk:he,EXISTS:Pe}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,RECENT:Le}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,OK:ce,UNSEEN:Ne}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,OK:ce,UIDNEXT:De}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,OK:ce,UIDVALIDITY:Me}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,OK:ce,PERMANENTFLAGS:Ve}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,FLAGS:Fe}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{tagE:ne,OK:ce,READ_ONLY:{name:"Permissions",description:"The folder has been opened in read-only mode.",defaultValue:"[READ-ONLY]",skip:e=>e.write},READ_WRITE:{name:"Permissions",description:"The folder has been opened in read-write mode (i.e. you can write to the folder).",defaultValue:"[READ-WRITE]",skip:e=>!e.write},EXAMINE:Re,SELECT:Ie,completed:ue}},void 0)]},void 0),r.jsxs(X,Object.assign({entries:{search:I}},{children:[r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagS:ie,SEARCH:Ue,RETURN_SAVE:{name:"Option",description:"RFC 5182 introduced an option to save the search result for later use with $. In order to use this, SEARCHRES has to be one of the supported capabilities.",defaultValue:"RETURN (SAVE)"},criterion:F,value:U,date:B}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(Q,{entries:{tagS:ie,OK:ce,SEARCH:Ue,completed:ue}},void 0)},void 0)]}),void 0),r.jsxs(l.UserCommand,{children:[r.jsx(Q,{entries:{tagF:re,FETCH:We,messages:L}},void 0)," (",r.jsx(Q,{entries:{fetch:R}},void 0),")"]},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Y,{function:e=>["INTERNALDATE","FLAGS"].includes(e.fetch)?D(e).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(Q,{entries:{asterisk:he,e:et(e),FETCH:We}},void 0)," (",r.jsx(Q,{entries:{fetch:R,data:ze}},void 0),")",r.jsx("br",{},void 0)]},void 0))):D(e).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(Q,{entries:{asterisk:he,e:et(e),FETCH:We}},void 0)," (",r.jsx(Q,{entries:{fetch:R,length:Be}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{data:ze}},void 0),r.jsx("br",{},void 0),")",r.jsx("br",{},void 0)]},void 0)))},void 0),r.jsx(Q,{entries:{tagF:re,OK:ce,FETCH:We,completed:ue}},void 0)]},void 0),r.jsxs(X,Object.assign({entries:{write:A,deletion:z}},{children:[r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagD:oe,STORE:$e,messages:L,ADD_FLAGS:{name:"Option",description:"Add the given flags to the specified messages.",defaultValue:"+FLAGS"},deleted:{name:"Flags",description:"The list of flags to add to the specified messages.",defaultValue:"(\\Deleted)"}}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Y,{function:e=>D(e).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(Q,{entries:{asterisk:he,e:et(e),FETCH:We,newFlags:qe}},void 0),r.jsx("br",{},void 0)]},void 0)))},void 0),r.jsx(Q,{entries:{tagD:oe,OK:ce,STORE:$e,completed:ue}},void 0)]},void 0),r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagX:se,EXPUNGE:He}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Y,{function:e=>D(e).map((e=>r.jsxs(o.Fragment,{children:[r.jsx(Q,{entries:{asterisk:he,e:et(e),EXPUNGE:He}},void 0),r.jsx("br",{},void 0)]},void 0)))},void 0),r.jsx(Q,{entries:{asterisk:he,expungeExists:Ke}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{tagX:se,OK:ce,EXPUNGE:He,completed:ue}},void 0)]},void 0)]}),void 0),r.jsxs(X,Object.assign({entries:{write:A,append:$}},{children:[r.jsxs(l.UserCommand,{children:[r.jsx(Q,{entries:{tagA:ae,APPEND:Ge,INBOX:je,appendFlags:{name:"Flags (optional)",description:"Flags to set on the appended message.",defaultValue:"(\\Seen)"}}},void 0)," ",y.esmtpMessageLength]},void 0),r.jsx(l.SystemReply,{children:r.jsx(Q,{entries:{goAhead:{name:"Response",description:"The server indicates that it is ready to receive the message.",defaultValue:"+ go ahead"}}},void 0)},void 0),r.jsx(l.UserCommand,{children:y.esmtpMessage},void 0),r.jsx("br",{},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Q,{entries:{asterisk:he,appendExists:Qe}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{tagA:ae,OK:ce,APPEND:Ge,completed:ue}},void 0)]},void 0)]}),void 0),r.jsxs(X,Object.assign({entries:{idle:q}},{children:[r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagW:le,IDLE:Ye}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Q,{entries:{idling:{name:"Response",description:"The server indicates that it will notify the client about changes to the folder.",defaultValue:"+ idling"}}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{timePassesMessageArrived:{name:"Meta",description:"This is not part of the protocol.",defaultValue:"[Time passes and a new message arrives.]"}}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,messageArrived:Xe}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{timePassesMessageDeleted:{name:"Meta",description:"This is not part of the protocol.",defaultValue:"[Time passes and another client deletes the first message.]"}}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,messageDeleted:{name:"Update",description:"The server informs the client that another client deleted the first message.",defaultValue:"1 EXPUNGE"}}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{asterisk:he,messageTotal:Ze}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{timePassesClientLogout:{name:"Meta",description:"This is not part of the protocol.",defaultValue:"[Time passes and the client wants to log out.]"}}},void 0)]},void 0),r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{DONE:{name:"Command",description:"The command to stop idling.",defaultValue:"DONE"}}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(Q,{entries:{tagW:le,OK:ce,IDLE:Ye,terminated:{name:"Description",description:"An optional text for human users.",defaultValue:"terminated"}}},void 0)},void 0)]}),void 0),r.jsx(l.UserCommand,{children:r.jsx(Q,{entries:{tagO:de,LOGOUT:Je}},void 0)},void 0),r.jsxs(l.SystemReply,{children:[r.jsx(Q,{entries:{asterisk:he,BYE:{name:"Status response",description:"The status response to announce that the server is going to close the connection.",defaultValue:"BYE"},loggingOut:{name:"Description",description:"An optional text for human users.",defaultValue:"Logging out"}}},void 0),r.jsx("br",{},void 0),r.jsx(Q,{entries:{tagO:de,OK:ce,LOGOUT:Je,completed:ue}},void 0)]},void 0)]},void 0)]},void 0)},709:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openSslCommand=t.toolProtocolManageSieveOpenSsl=t.toolProtocolManageSieve=t.getOpenSslCommand=t.setOpenSslCommand=void 0;const i=n(5893),r=n(3804),o=n(1054),s=n(2299),a=n(6427),l=n(6874),d=n(7199),c=n(1026),u=n(1158),h=n(6316),p=n(4318),f=n(6953),m=n(9190),g=n(9071),v=260,y={name:"OpenSSL",description:"The name or path of your OpenSSL command.",defaultValue:"openssl",inputType:"text",labelWidth:69,inputWidth:v,transform:s.doubleQuoteIfWhitespace},b={name:"Server",description:"The server to connect to. This time you have to configure it manually.",defaultValue:"sieve.example.org",inputType:"text",labelWidth:51,inputWidth:v,validate:e=>!g.domainRegex.test(e)&&"Please enter a domain name in the preferred name syntax."},x={name:"Port",description:"The port number of the ManageSieve protocol on the server.",defaultValue:4190,inputType:"number",labelWidth:36,inputWidth:130,minValue:1,maxValue:65535,validate:e=>(e<1||e>65535)&&"The port has to be a number between 1 and 65535."},w={name:"Username",description:"The username of your account.",defaultValue:"alice@example.org",inputType:"text",labelWidth:77,inputWidth:v,validate:e=>!g.usernameRegex.test(e)&&"Please enter a valid email address or local part."},S={name:"Password",description:"The password of your account. I recommend you to set up a test account for this.",defaultValue:"password",inputType:"password",labelWidth:73,inputWidth:v},T={name:"List",description:"Whether to list existing scripts on the server.",defaultValue:!1,inputType:"checkbox",labelWidth:30},j={name:"Name",description:"The name of the script.",defaultValue:"MyScript",inputType:"text",labelWidth:47,inputWidth:v,transform:s.doubleQuote},k={name:"Script",description:"The ManageSieve script to upload to the server.",defaultValue:'require "body";\nif body :contains "Test" {\n    discard;\n}',inputType:"textarea",labelWidth:46,inputWidth:v,rows:4,disable:({action:e})=>"PUTSCRIPT"!==e},_={openssl:y,server:b,port:x,username:w,password:S,list:T,action:{name:"Action",description:"What you want to do.",defaultValue:"PUTSCRIPT",inputType:"select",labelWidth:51,selectOptions:{PUTSCRIPT:"Upload",GETSCRIPT:"Download",SETACTIVE:"Activate",DELETESCRIPT:"Delete",RENAMESCRIPT:"Rename"}},name:j,script:k},E=new m.PersistedStore(f.getDefaultVersionedState(_),{entries:_},"protocol-managesieve"),C=p.shareStore(E,"input")(c.RawInput),O=p.shareStore(E,"state")(u.RawOutputEntries),A=p.shareStore(E,"state")(l.RawIfCase),R=p.shareStore(E,"state")(d.RawIfEntries);t.setOpenSslCommand=function(e){f.setState(E,{openssl:e})},t.getOpenSslCommand=function(){return f.getCurrentState(E).openssl};const I={name:"Status response",description:"Everything went fine.",defaultValue:"OK"},P={name:"Description",description:"An optional text for human users.",defaultValue:"completed."},L={name:"Command",description:"The command to authenticate the user before taking any other action.",defaultValue:"AUTHENTICATE"},N={name:"Mechanism",description:'Make sure that "PLAIN" is among the authentication mechanisms offered by the server.',defaultValue:s.doubleQuote("PLAIN")},D={name:"Argument",description:"base64Encode(NULL + username + NULL + password)",defaultValue:"",transform:(e,t)=>s.doubleQuote(o.toPlainEncoding(t.username,t.password))},M={name:"Command",description:"The command to list the name of all the scripts the user has on the server.",defaultValue:"LISTSCRIPTS"},V={name:"Script name",description:"The name of the active script.",defaultValue:s.doubleQuote("ActiveScript")},F={name:"Script name",description:"The name of an inactive script.",defaultValue:s.doubleQuote("InactiveScript")},U={name:"Command",description:"The command to check the given script without storing it.",defaultValue:"CHECKSCRIPT"},W={name:"Length",description:"The length of the given script in bytes.",defaultValue:"",transform:(e,t)=>`{${s.normalizeNewlines(t.script).length+2}+}`},B={name:"Command",description:"The command to store the given script with the given name on the server.",defaultValue:"PUTSCRIPT"},z={name:"Command",description:"The command to retrieve the script with the given name.",defaultValue:"GETSCRIPT"},$={name:"Command",description:"The command to activate the script with the given name.",defaultValue:"SETACTIVE"},q={name:"Command",description:"The command to delete the script with the given name.",defaultValue:"DELETESCRIPT"},H={name:"Command",description:"The command to rename the script with the given name.",defaultValue:"RENAMESCRIPT"},K={name:"New name",description:"The new name of the script with the given name.",defaultValue:s.doubleQuote("{NewName}")},G={name:"Command",description:"The command to terminate the connection.",defaultValue:"LOGOUT"};t.toolProtocolManageSieve=i.jsxs(r.Fragment,{children:[i.jsx(C,{entries:_,newColumnAt:6},void 0),i.jsxs(a.CodeBlock,{children:[i.jsxs(h.StaticPrompt,{children:[i.jsx(O,{entries:{openssl:y,sClient:{name:"Option",description:"The option to open a TLS connection as a client.",defaultValue:"s_client"},quiet:g.quiet,crlf:g.crlf,starttls:{name:"Option",description:"Send the ManageSieve-specific command sequence to start TLS for the rest of the communication.",defaultValue:"-starttls sieve"},connect:g.connect,server:b}},void 0),":",i.jsx(O,{entries:{port:x}},void 0)]},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{IMPLEMENTATION:{name:"Capability",description:"The name and version of the server implementation.",defaultValue:'"IMPLEMENTATION" "{NameAndVersion}"'},NOTIFY:{name:"Capability",description:'The supported notification methods of the "enotify" extension.',defaultValue:'"NOTIFY" "{Methods}"'},SASL:{name:"Capability",description:"The supported authentication mechanisms. This tool requires that PLAIN is one of them.",defaultValue:'"SASL" "PLAIN"'},SIEVE:{name:"Capability",description:"The supported extensions to the Sieve mail filtering language.",defaultValue:'"SIEVE" "{Extensions}"'},VERSION:{name:"Capability",description:"The version of the supported ManageSieve protocol.",defaultValue:'"VERSION" "1.0"'}},outputSeparator:i.jsx("br",{},void 0)},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{STARTTLS:{name:"Command",description:"The command to upgrade the TCP channel to TLS.",defaultValue:"STARTTLS"},completed:P}},void 0),'"']},void 0),i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{AUTHENTICATE:L,PLAIN:N,usernameAndPassword:D}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{AUTHENTICATE:L,completed:P}},void 0),'"']},void 0),i.jsxs(R,Object.assign({entries:{list:T}},{children:[i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{LISTSCRIPTS:M}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{ActiveScript:V,ACTIVE:{name:"Marker",description:"This marker is appended to the active script.",defaultValue:"ACTIVE"}}},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{InactiveScript:F}},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{LISTSCRIPTS:M,completed:P}},void 0),'"']},void 0)]}),void 0),i.jsxs(A,Object.assign({entry:"action",value:"PUTSCRIPT"},{children:[i.jsxs(a.UserCommand,{children:[i.jsx(O,{entries:{CHECKSCRIPT:U,calculatedLength:W}},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{script:k}},void 0),i.jsx("br",{},void 0)]},void 0),i.jsx("br",{},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{CHECKSCRIPT:U,completed:P}},void 0),'"']},void 0),i.jsxs(a.UserCommand,{children:[i.jsx(O,{entries:{PUTSCRIPT:B,name:j,calculatedLength:W}},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{script:k}},void 0),i.jsx("br",{},void 0)]},void 0),i.jsx("br",{},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{PUTSCRIPT:B,completed:P}},void 0),'"']},void 0),i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{SETACTIVE:$,name:j}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{SETACTIVE:$,completed:P}},void 0),'"']},void 0)]}),void 0),i.jsxs(A,Object.assign({entry:"action",value:"GETSCRIPT"},{children:[i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{GETSCRIPT:z,name:j}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{staticLength:{name:"Length",description:"The length of the retrieved script in bytes.",defaultValue:"{{Length}}"}}},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{staticScript:{name:"Script",description:"The retrieved script.",defaultValue:"{Script}"}}},void 0),i.jsx("br",{},void 0),i.jsx("br",{},void 0),i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{GETSCRIPT:z,completed:P}},void 0),'"']},void 0)]}),void 0),i.jsxs(A,Object.assign({entry:"action",value:"SETACTIVE"},{children:[i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{SETACTIVE:$,name:j}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{SETACTIVE:$,completed:P}},void 0),'"']},void 0)]}),void 0),i.jsxs(A,Object.assign({entry:"action",value:"DELETESCRIPT"},{children:[i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{DELETESCRIPT:q,name:j}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{DELETESCRIPT:q,completed:P}},void 0),'"']},void 0)]}),void 0),i.jsxs(A,Object.assign({entry:"action",value:"RENAMESCRIPT"},{children:[i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{RENAMESCRIPT:H,name:j,newName:K}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{RENAMESCRIPT:H,completed:P}},void 0),'"']},void 0)]}),void 0),i.jsx(a.UserCommand,{children:i.jsx(O,{entries:{LOGOUT:G}},void 0)},void 0),i.jsxs(a.SystemReply,{children:[i.jsx(O,{entries:{OK:I}},void 0),' "',i.jsx(O,{entries:{LOGOUT:G,completed:P}},void 0),'"']},void 0)]},void 0)]},void 0),t.toolProtocolManageSieveOpenSsl=i.jsx(C,{entries:{openssl:y}},void 0),t.openSslCommand=i.jsx(O,{entries:{openssl:y}},void 0)},2409:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toolProtocolPop3=void 0;const r=n(5893),o=n(3804),s=n(1054),a=n(2299),l=n(6427),d=n(6874),c=n(7199),u=n(1026),h=n(1158),p=n(6316),f=n(4318),m=n(6953),g=n(9190),v=n(2061),y=n(9071);const b={implicit:"SSL",explicit:"STARTTLS"};let x="",w="";function S(e,t,n){var r,o;return i(this,void 0,void 0,(function*(){if(n)return x="",void(w="");const{security:e,address:i}=t;if(e===x&&i===w)return;x=e,w=i;const s=y.getDomain(i);if(/^example\.(org|com|net)$/i.test(s))m.mergeIntoCurrentState(A,{server:"pop3."+s});else{const t=yield v.findConfigurationFile(s,[],!0),n=(null!==(r=null==t?void 0:t.incomingServers)&&void 0!==r?r:[]).filter((e=>"pop3"===e.type));if(n.length>0){const t=n.filter((t=>t.socket===b[e])),i=t.length>0?t[0]:n[0];x=null!==(o=a.reverseLookup(b,i.socket))&&void 0!==o?o:"implicit",m.mergeIntoCurrentState(A,{security:x,server:i.host,port:parseInt(i.port,10),username:"%EMAILLOCALPART%"===i.username?"local":"full",credential:i.authentication.includes("password-encrypted")?"hashed":"plain"})}else m.mergeIntoCurrentState(A,{server:""},{server:"Could not find the server. Please enter it manually."})}}))}const T=240,j={name:"Password",description:"The password of your account. I recommend you to set up a test account for this.",defaultValue:"password",inputType:"password",labelWidth:73,inputWidth:T},k={name:"Server",description:"The server to connect to. The server is determined automatically if possible but you can also set it manually.",defaultValue:"pop3.example.org",inputType:"text",labelWidth:51,inputWidth:T,validate:e=>!y.domainRegex.test(e)&&"Please enter a domain name in the preferred name syntax."},_={name:"Port",description:"The port number of the server. The port number is determined automatically but you can also set the value manually.",defaultValue:995,inputType:"number",labelWidth:36,inputWidth:120,minValue:1,maxValue:65535,suggestedValues:[110,995],validate:e=>(e<1||e>65535)&&"The port has to be a number between 1 and 65535."},E={name:"Challenge",description:"The challenge received from the server when using the hashed password as the credential.",defaultValue:"",inputType:"text",labelWidth:75,inputWidth:T,placeholder:({address:e})=>`<unique@${y.getDomain(e)}>`,disable:({credential:e})=>"hashed"!==e,validate:(e,t)=>""===e||y.identifierRegex.test(e)?"hashed"===t.credential&&""===e&&"Copy the challenge from the server to this field.":"The challenge looks like an email address in angle brackets.",skip:e=>"hashed"!==e.credential},C={name:"Delete",description:"Whether to delete the retrieved message on the server.",defaultValue:!1,inputType:"checkbox",labelWidth:52},O={address:{name:"Address",description:"The address of your mailbox.",defaultValue:"alice@example.org",inputType:"text",labelWidth:63,inputWidth:T,validate:e=>!y.emailAddressRegex.test(e)&&"Please enter a single email address.",onChange:S},password:j,security:{name:"Security",description:"Select which variant of TLS you want to use.",defaultValue:"implicit",inputType:"select",labelWidth:63,selectOptions:{implicit:"Implicit TLS",explicit:"Explicit TLS"},onChange:[function(e,t,n){n||("implicit"===t.security?m.mergeIntoCurrentState(A,{port:995}):m.mergeIntoCurrentState(A,{port:110}))},S]},server:k,port:_,username:{name:"Username",description:"Select how to determine the username for authentication.",defaultValue:"full",inputType:"select",labelWidth:77,selectOptions:{full:"Full address",local:"Local part"}},credential:{name:"Credential",description:"Select how to authenticate towards the server.",defaultValue:"plain",inputType:"select",labelWidth:79,selectOptions:{plain:"Plain password (PLAIN)",hashed:"Hashed password (APOP)"}},challenge:E,deletion:C},A=new g.PersistedStore(m.getDefaultVersionedState(O),{entries:O},"protocol-pop3"),R=f.shareStore(A,"input")(u.RawInput),I=f.shareStore(A,"state")(h.RawOutputEntries),P=f.shareStore(A,"state")(d.RawIfCase),L=f.shareStore(A,"state")(c.RawIfEntries),N={name:"Command",description:"The command to list all messages in the user's mailbox.",defaultValue:"LIST"},D={name:"Status indicator",description:"Everything went fine.",defaultValue:"+OK"},M={name:"Message number",description:"The message number, which is only valid for the duration of the session.",defaultValue:"1"},V={name:"Termination",description:"A period on a line of its own indicates the end of the response.",defaultValue:"."},F={name:"Username",description:"The user to log in as.",defaultValue:"",transform:(e,t)=>y.getUsername(t.username,t.address)},U={name:"Response",description:"hex(md5(challenge + password))",defaultValue:"",transform:(e,t)=>s.toApopEncoding(t.challenge,t.password)};t.toolProtocolPop3=r.jsxs(o.Fragment,{children:[r.jsx(R,{entries:O,newColumnAt:5},void 0),r.jsxs(l.CodeBlock,{children:[r.jsxs(p.StaticPrompt,{children:[r.jsx(I,{entries:{openssl:y.openssl,quiet:y.quiet,crlf:y.crlf,starttls:{name:"Option",description:"Send the POP3-specific command sequence to start TLS for the rest of the communication.",defaultValue:"-starttls pop3",skip:e=>"explicit"!==e.security},connect:y.connect,server:k}},void 0),":",r.jsx(I,{entries:{port:_}},void 0)]},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D,implementation:y.implementation,ready:{name:"Description",description:"An optional text for human users.",defaultValue:"ready."},challenge:E}},void 0)},void 0),r.jsxs(P,Object.assign({entry:"credential",value:"plain"},{children:[r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{USER:{name:"Command",description:"The command to indicate the user whose messages you would like to retrieve.",defaultValue:"USER"},actualUsername:F}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{PASS:{name:"Command",description:"The command to provide the password of the user for authentication.",defaultValue:"PASS"},password:j}},void 0)},void 0)]}),void 0),r.jsx(P,Object.assign({entry:"credential",value:"hashed"},{children:r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{APOP:{name:"Command",description:"The command to provide the username and the response to the challenge.",defaultValue:"APOP"},actualUsername:F,apopResponse:U}},void 0)},void 0)}),void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D,loggedIn:{name:"Description",description:"An optional text for human users.",defaultValue:"Logged in."}}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{LIST:N}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D,messages:{name:"Amount",description:"The number of messages in the mailbox.",defaultValue:"1 messages:"}}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{messageNumber:M,messageSize:{name:"Message size",description:"The size of the message in bytes.",defaultValue:"623"}}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{period:V}},void 0)},void 0),r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{RETR:{name:"Command",description:"The command to retrieve the message with the given number.",defaultValue:"RETR"},messageNumber:M}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D,messageFollows:{name:"Description",description:"An optional text for human users.",defaultValue:"Message follows:"}}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{messagePlaceholder:{name:"Message placeholder",description:"The header and the body of the retrieved message.",defaultValue:"{HeaderAndBody}"}}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{period:V}},void 0)},void 0),r.jsxs(L,Object.assign({entries:{deletion:C}},{children:[r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{DELE:{name:"Command",description:"The command to delete the message with the given number.",defaultValue:"DELE"},messageNumber:M}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D,messageDeletion:{name:"Description",description:"An optional text for human users.",defaultValue:"Marked to be deleted."}}},void 0)},void 0)]}),void 0),r.jsx(l.UserCommand,{children:r.jsx(I,{entries:{QUIT:{name:"Command",description:"The command to commit the deletions and let the server close the TLS connection.",defaultValue:"QUIT"}}},void 0)},void 0),r.jsx(l.SystemReply,{children:r.jsx(I,{entries:{OK:D,loggingOut:{name:"Description",description:"An optional text for human users.",defaultValue:"Logging out.",transform:(e,t)=>"Logging out"+(t.deletion?", messages deleted.":".")}}},void 0)},void 0)]},void 0)]},void 0)},9309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.report=void 0,t.report=function(e,t,n){"undefined"!=typeof plausible?plausible(e,{props:t,callback:n}):(console.log(`Report '${e}':`,t),null==n||n())}},5383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyToClipboardWithAnimation=void 0;const i=n(2364);t.copyToClipboardWithAnimation=function(e,t,n="scale150"){if(i.copyToClipboard(e)){const e=$(t);return e.addClass(n).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(()=>e.removeClass(n))),!0}return!1}},2364:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyToClipboard=void 0,t.copyToClipboard=function(e){const t=document.createElement("textarea");t.setAttribute("readonly","true"),t.contentEditable="true",t.style.position="absolute",t.style.top="-1000px",t.value=e,document.body.appendChild(t);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);let i;t.select(),t.setSelectionRange(0,t.value.length);try{i=document.execCommand("copy")}catch(e){console.error("Could not copy to the clipboard.",e),alert("Could not copy to the clipboard."),i=!1}return document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),i}},1837:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.colorClass=t.colorSuffix=t.colors=void 0,t.colors={blue:{dark:"#4DA6FF",light:"#0066CC"},purple:{dark:"#DD33FF",light:"#BF00E6"},pink:{dark:"#FF3399",light:"#E60073"},red:{dark:"#FF3333",light:"#E60000"},orange:{dark:"#FF8833",light:"#E66000"},yellow:{dark:"#FFCC33",light:"#E6AC00"},green:{dark:"#00CC99",light:"#009973"},brown:{dark:"#BF8040",light:"#86592D"},gray:{dark:"#a6a6a6",light:"#666666"},text:{dark:"#FFFFFF",light:"#000000"},background:{dark:"#1A181B",light:"#FFFFFF"}},t.colorSuffix=function(e){return e?"-"+e:""},t.colorClass=function(e,t=" "){return e?t+"color-"+e:""}},9281:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.download=void 0,t.download=function(e,t){const n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},1054:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeExtendedParameter=t.encodeExtendedParameter=t.decodePercent=t.encodePercent=t.decodeEncodedWord=t.encodeEncodedWordIfNecessary=t.encodeEncodedWord=t.decodeQuotedPrintable=t.encodeQuotedPrintableIfNecessary=t.encodeQuotedPrintable=t.getIanaCharset=t.getNodeCharset=t.isInLatin1Range=t.isInAsciiRange=t.toApopEncoding=t.toCramMd5Encoding=t.toPlainEncoding=t.decodeBase64=t.encodeBase64WithLineLengthLimit=t.encodeBase64=t.base64Regex=t.charsets=void 0;const r=i(n(3482)),o=i(n(8355)),s=n(9509),a=n(2299);function l(e,t="utf8"){return s.Buffer.from(e,t).toString("base64")}function d(e,t="utf8"){return s.Buffer.from(e.replace(/\s+/g,""),"base64").toString(t)}function c(e,t){for(let n=0;n<e.length;n++){const i=e.codePointAt(n);if(void 0!==i&&i>t)return!1}return!0}function u(e){return c(e,127)}function h(e){return c(e,255)}function p(e){return u(e)?"ascii":h(e)?"latin1":"utf8"}function f(e,t,n=!1,i=73){n&&(i=0);const r=s.Buffer.from(a.normalizeNewlines(e),t);let o="",l=0;for(let e=0;e<r.length;e++){const t=r.readUInt8(e);let s;if(s=t>126||t<32&&![9,10,13].includes(t)?"="+a.toHex(t,2):61===t?"=3D":n&&63===t?"=3F":n&&95===t?"=5F":n&&9===t?"=09":n&&32===t?"_":String.fromCharCode(t),13===t||10===t?l=0:l+=s.length,e===r.length-1)o+=n||9!==t?n||32!==t?s:"=20":"=09";else{const a=r.readUInt8(e+1);n||13!==a||9!==t?n||13!==a||32!==t?(o+=s,i&&l>=i&&13!==a&&(o+="=\r\n",l=0)):o+="=20":o+="=09"}}return o}function m(e,t,n=!1){e=a.normalizeNewlines(e).replace(/[ \t]+$/,"");const i=s.Buffer.alloc(e.length);let r=0,o=0;for(;o<e.length;){const t=e.charCodeAt(o++);if(61===t){if(o>e.length-2)throw new Error("The encoded text must have two characters after every equality sign.");const t=e.charCodeAt(o++),n=e.charCodeAt(o++);if(13!==t||10!==n){const e=String.fromCharCode(t,n);if(!/^[0-9A-F]{2}$/i.test(e))throw new Error("Every equality sign has to be followed by two hexadecimal digits (or CR+LF).");i.writeUInt8(Number.parseInt(e,16),r++)}}else n&&95===t?i.writeUInt8(32,r++):i.writeUInt8(t,r++)}return i.slice(0,r).toString(t)}function g(e,n){const i=l(e,n),r=f(e,n,!0);let o,s;i.length<r.length?(o="B",s=i):(o="Q",s=r);const a=`=?${t.charsets[n]}?${o}?${s}?=`;if(a.length>75){const t=Math.ceil(a.length/2);return g(e.substring(0,t),n)+"\r\n "+g(e.substring(t),n)}return a}t.charsets={ascii:"US-ASCII",latin1:"ISO-8859-1",utf8:"UTF-8"},t.base64Regex=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,t.encodeBase64=l,t.encodeBase64WithLineLengthLimit=function(e,t="utf8",n=76){if(n<=0)throw new Error("The line length has to be positive.");const i=l(e,t);let r="",o=0;for(;o<i.length;){o>0&&(r+="\r\n");const e=o+n;r+=i.substring(o,e),o=e}return r},t.decodeBase64=d,t.toPlainEncoding=function(e,t){return l(`\0${e}\0${t}`)},t.toCramMd5Encoding=function(e,t,n){const i=o.default("md5",t);return i.update(d(n)),l(e+" "+i.digest("hex"))},t.toApopEncoding=function(e,t){return r.default("md5").update(e+t).digest("hex")},t.isInAsciiRange=u,t.isInLatin1Range=h,t.getNodeCharset=p,t.getIanaCharset=function(e){return t.charsets[p(e)].toLowerCase()},t.encodeQuotedPrintable=f,t.encodeQuotedPrintableIfNecessary=function(e){return u(e)?a.normalizeNewlines(e):h(e)?f(e,"latin1"):f(e,"utf8")},t.decodeQuotedPrintable=m,t.encodeEncodedWord=g,t.encodeEncodedWordIfNecessary=function(e){const t=p(e);return"ascii"!==t||function(e){return e.split(/\s+/).some((e=>/^=\?.*\?=$/.test(e)))}(e)?g(e,t):e};const v=/^=\?(UTF-8|ISO-8859-1|US-ASCII)(\*[-a-z0-9]+)?\?(B\?[A-Z0-9\+/]*=?=?|Q\?([\x21-\x3C\x3E\x40-\x7E]*(=[0-9A-F]{2})?)*)\?=$/i;function y(e){return/[ \n\r\t()<>@,;:\\"/[\]?=]/.test(e)||!u(e)?a.doubleQuote(e):e}t.decodeEncodedWord=function(e){const n=e.split(/\s+/);let i=!0,r="";for(let e=0;e<n.length;e++)if(v.test(n[e])){i||(r+=" "),i=!0;const o=n[e].split("?"),s=a.reverseLookup(t.charsets,o[1].toUpperCase()),l=o[2].toUpperCase(),c=o[3];r+="B"===l?d(c,s):m(c,s,!0)}else e>0&&(r+=" "),r+=n[e],i=!1;return r},t.encodePercent=function(e,t=!1,n=!1){let i=encodeURIComponent(e);return n&&(i=i.replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16)))),t&&(i=i.replace(/%20/g,"+")),i},t.decodePercent=function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))};const b=Array.from("*'%()<>@,;:\\\"/[]?=").map((e=>e.charCodeAt(0)));function x(e,n){let i="";const r=s.Buffer.from(e,n);for(let e=0;e<r.length;e++){const t=r.readUInt8(e);t>126||t<33||b.includes(t)?i+="%"+a.toHex(t,2):i+=String.fromCharCode(t)}return t.charsets[n].toLowerCase()+"''"+i}t.encodeExtendedParameter=function(e){let t="";const n=a.splitOutsideOfDoubleQuotes(e,";",!0,!0);for(const e of n){if(0===e.length)continue;t.length>0&&(t+=";\n");const n=e.indexOf("=");if(-1===n)t+=e;else{const i=e.substring(0,n);if(/^[-a-z0-9]+$/i.test(i)){const r=e.substring(n+1),o=r.startsWith('"')&&r.endsWith('"')?r.slice(1,-1):r,s=p(o);t+="ascii"===s?i+"="+y(o):i+"*="+x(o,s)}else t+=e}}return t};const w="%".charCodeAt(0);function S(e,t){const n=s.Buffer.alloc(e.length);let i=0,r=0;for(;r<e.length;){const t=e.charCodeAt(r++);if(t===w&&r<e.length-1){const t=e.charCodeAt(r++),o=e.charCodeAt(r++),s=String.fromCharCode(t,o);/^[0-9A-F]{2}$/i.test(s)?n.writeUInt8(Number.parseInt(s,16),i++):(n.writeUInt8(w,i++),n.writeUInt8(t,i++),n.writeUInt8(o,i++))}else n.writeUInt8(t,i++)}return n.slice(0,i).toString(t)}function T(e){var n;const i=e.split("'"),r=null!==(n=a.reverseLookup(t.charsets,i[0].toUpperCase()))&&void 0!==n?n:"utf8";return[S(i[i.length-1],r),r]}t.decodeExtendedParameter=function(e){let t="";const n={},i=a.splitOutsideOfDoubleQuotes(e,";",!0,!0);for(const e of i){if(0===e.length)continue;let i="";const r=e.indexOf("=");if(-1===r)i=e;else{const t=e.substring(0,r).trim();if(/^[-a-z0-9*]+$/i.test(t)){const o=e.substring(r+1).trim(),s=o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1):o,l=t.split("*");(2===l.length||3===l.length&&0===l[2].length)&&/^\d+$/.test(l[1])?a.getInitialized(n,l[0])[Number.parseInt(l[1],10)]={encoded:3===l.length,value:s}:i=2===l.length&&0===l[1].length?l[0]+"="+y(T(s)[0]):t+"="+y(s)}else i=e}i.length>0&&(t.length>0&&(t+=";\n"),t+=i)}for(const e of Object.keys(n)){let i="";const r=a.filterUndefined(n[e]);if(r[0].encoded){const e=T(r[0].value);i+=e[0];const t=e[1];for(let e=1;e<r.length;e++)i+=r[e].encoded?S(r[e].value,t):r[e].value}else for(const e of r)i+=e.value;t.length>0&&(t+=";\n"),t+=e+"="+y(i)}return t}},7428:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function i(e){return n(this,void 0,void 0,(function*(){const n=yield fetch(e,t.fetchOptions);if(!n.ok)throw new Error(`Failed to fetch data from ${e}. The response status was ${n.status}.`);return n}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithErrorAndTimeout=t.fetchWithError=t.fetchOptions=void 0,t.fetchOptions={method:"GET",mode:"cors",cache:"no-cache",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},t.fetchWithError=i,t.fetchWithErrorAndTimeout=function(e,t=4e3){return Promise.race([i(e),new Promise(((n,i)=>setTimeout((()=>i(new Error(`Custom timeout when fetching ${e} after ${t} ms.`))),t)))])}},2299:function(e,t){"use strict";function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function i(e){return`"${n(e)}"`}function r(e){return e.replace(/'/g,"'\\''")}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=t.bind=t.sleep=t.getRandomString=t.reverseLookup=t.getInitialized=t.createRecord=t.splitOutsideOfDoubleQuotes=t.splitOnFirstOccurrence=t.countOccurrences=t.normalizeWhitespace=t.normalizeNewlines=t.toHex=t.singleQuote=t.escapeSingleQuote=t.doubleQuoteIfWhitespace=t.doubleQuote=t.escapeDoubleQuotes=t.nonEmpty=t.sortNumbers=t.unique=t.flatten=t.filterUndefined=t.replaceFirstInPlace=t.removeFromArrayAll=t.removeFromArrayOnce=t.normalizeToArray=t.normalizeToValue=void 0,t.normalizeToValue=function(e,t){return"function"==typeof e?e(t):e},t.normalizeToArray=function(e){return void 0===e?[]:Array.isArray(e)?e:[e]},t.removeFromArrayOnce=function(e,t){const n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)},t.removeFromArrayAll=function(e,t){let n=!1;for(let i=e.length-1;i>=0;i--)e[i]===t&&(e.splice(i,1),n=!0);return n},t.replaceFirstInPlace=function(e,t,n){const i=e.indexOf(t);return-1!==i&&(e[i]=n,!0)},t.filterUndefined=function(e){return e.filter((e=>void 0!==e))},t.flatten=function(e){return e.reduce(((e,t)=>e.concat(t)),[])},t.unique=function(e){return Array.from(new Set(e))},t.sortNumbers=function(e){return e.sort(((e,t)=>e-t))},t.nonEmpty=function(e){return e.length>0},t.escapeDoubleQuotes=n,t.doubleQuote=i,t.doubleQuoteIfWhitespace=function(e){return/\s/.test(e)?i(e):e},t.escapeSingleQuote=r,t.singleQuote=function(e){return`'${r(e)}'`},t.toHex=function(e,t=0){return e.toString(16).toUpperCase().padStart(t,"0")},t.normalizeNewlines=function(e){return e.replace(/\r?\n/g,"\r\n")},t.normalizeWhitespace=function(e){return e.replace(/\s+/g," ")},t.countOccurrences=function(e,t){if(!t.global)throw Error("Set the global flag on the provided regular expression.");return(e.match(t)||[]).length},t.splitOnFirstOccurrence=function(e,t){const n=e.indexOf(t);return n>=0?[e.substring(0,n),e.substring(n)]:[e,t]},t.splitOutsideOfDoubleQuotes=function(e,t,n=!1,i=!1){const r=new Array;let o="",s=!1,a=!1;for(const l of Array.from(e))a?(a=!1,o+=l):"\\"===l?(a=!0,n||(o+=l)):'"'===l?(s=!s,o+=l):s||l!==t?o+=l:(r.push(i?o.trim():o),o="");return r.push(i?o.trim():o),r},t.createRecord=function(e){const t={};for(const n of e)t[n]=n;return t},t.getInitialized=function(e,t){let n=e[t];return void 0===n&&(n=[],e[t]=n),n},t.reverseLookup=function(e,t){return Object.keys(e).find((n=>e[n]===t))},t.getRandomString=function(){return Math.random().toString(36).substring(2)},t.sleep=function(e){return new Promise((t=>setTimeout(t,e)))},t.bind=function(e,t,n){document.getElementById(e).addEventListener(t,n)},t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))}},1966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberOfItems=t.clear=t.removeItem=t.getItem=t.setItem=void 0;const i=n(2299);"undefined"==typeof Storage&&console.warn("Your browser does not support local storage."),t.setItem=function(e,t){"undefined"!=typeof Storage&&localStorage.setItem(e,JSON.stringify(t))};const r={};function o(e){return null!==e?JSON.parse(e):void 0}window.addEventListener("storage",(e=>{!function(e,t){var n;if(null===e)for(const e of Object.keys(r))for(const t of null!==(n=r[e])&&void 0!==n?n:[])t(void 0);else{const n=o(t);for(const t of i.getInitialized(r,e))t(n)}}(e.key,e.newValue)})),t.getItem=function(e,t){if(void 0!==t&&i.getInitialized(r,e).push(t),"undefined"!=typeof Storage)return o(localStorage.getItem(e))},t.removeItem=function(e){"undefined"!=typeof Storage&&(localStorage.removeItem(e),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:null})))},t.clear=function(){"undefined"!=typeof Storage&&(localStorage.clear(),window.dispatchEvent(new StorageEvent("storage",{key:null,newValue:null})))},t.getNumberOfItems=function(){return"undefined"!=typeof Storage?localStorage.length:0}},2325:function(e,t){"use strict";function n(e){return Number.parseInt(e,10)}Object.defineProperty(t,"__esModule",{value:!0}),t.Time=t.dayInSeconds=t.gregorianFormat=t.parse=void 0,t.parse=n,t.gregorianFormat=/^[12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) at ([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/,t.dayInSeconds=86400;class i{constructor(e){this.date=e}static current(){return new i(new Date)}static fromDate(e){return new i(e)}static fromUnix(e){return"string"==typeof e&&(e=n(e)),new i(new Date(1e3*e))}static fromGregorian(e){const[t,r]=e.split(" at "),[o,s,a]=t.split("-"),[l,d,c]=r.split(":");return new i(new Date(n(o),n(s)-1,n(a),n(l),n(d),n(c)))}toLocalTime(){return new i(new Date(this.date.getTime()-6e4*this.date.getTimezoneOffset()))}toGlobalTime(){return new i(new Date(this.date.getTime()+6e4*this.date.getTimezoneOffset()))}toUnixTime(){return Math.round(this.date.getTime()/1e3)}toGregorianDate(){return this.date.toISOString().substring(0,10)}toGregorianDateWithTime(e=!0){return this.date.toISOString().substring(0,e?19:16).replace("T"," at ")}toGregorianTime(e=!0){return this.date.toISOString().substring(11,e?19:16)}floorToDay(){return i.fromUnix(Math.floor(this.toUnixTime()/t.dayInSeconds)*t.dayInSeconds)}}t.Time=i},4927:function(e,t,n){function i(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},3804:function(e){"use strict";e.exports=React},7196:function(e){"use strict";e.exports=ReactDOM},2361:function(){},4616:function(){}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};!function(){"use strict";const e=n(5136),t=n(9241),i=n(5216),r=n(1058),o=n(9782),s=n(1071),a=n(5827),l=n(7449),d=n(3334),c=n(3290),u=n(4683),h=n(2058),p=n(6037),f=n(2845),m=n(8792),g=n(9667),v=n(9071),y=n(8683),b=n(709),x=n(2409);e.inject("tool-lookup-configuration-database",m.toolLookupConfigurationDatabase),e.inject("tool-lookup-srv-records",m.toolLookupSrvRecords),e.inject("tool-lookup-mx-records",m.toolLookupMxRecords),e.inject("tool-lookup-spf-record",m.toolLookupSpfRecord),e.inject("tool-format-dkim",c.toolFormatDkim),e.inject("tool-lookup-dkim-record",m.toolLookupDkimRecord),e.inject("tool-format-dmarc",u.toolFormatDmarc),e.inject("tool-lookup-dmarc-record",m.toolLookupDmarcRecord),e.inject("tool-lookup-bimi-record",m.toolLookupBimiRecord),e.inject("tool-lookup-tlsa-records",m.toolLookupTlsaRecords),e.inject("tool-lookup-mta-sts-policy",m.toolLookupMtaStsPolicy),e.inject("tool-lookup-tls-reporting",m.toolLookupTlsReporting),e.inject("tool-lookup-smimea-records",f.toolLookupSmimeaRecords),e.inject("tool-lookup-openpgpkey-records",f.toolLookupOpenpgpkeyRecords),e.inject("tool-lookup-email-requests",g.toolLookupEmailRequests),e.inject("tool-protocol-esmtp",v.toolProtocolEsmtp),e.inject("tool-protocol-pop3",x.toolProtocolPop3),e.inject("tool-protocol-imap",y.toolProtocolImap),e.inject("tool-format-sieve",h.toolFormatSieve),e.inject("tool-protocol-managesieve",b.toolProtocolManageSieve),e.inject("tool-encoding-quoted-printable",d.toolEncodingQuotedPrintable),e.inject("tool-encoding-base64",i.toolEncodingBase64),e.inject("tool-encoding-percent",a.toolEncodingPercent),e.inject("tool-encoding-encoded-word",r.toolEncodingEncodedWord),e.inject("tool-encoding-punycode",l.toolEncodingPunycode),e.inject("tool-encoding-extended-parameter",o.toolEncodingExtendedParameter),e.inject("tool-instruction-hashing",p.toolInstructionHashing),e.inject("tool-encoding-normalization",s.toolEncodingNormalization),e.inject("tool-conversion-unix-time",t.toolConversionUnixTime),v.bindEsmtpExamples(),o.bindExtendedParameters()}()}();